!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,e,f=0,g=d.call(arguments),h=g.length,i=1!==h||a&&n.isFunction(a.promise)?h:0,j=1===i?a:n.Deferred(),k=function(a,c,e){return function(f){c[a]=this,e[a]=arguments.length>1?d.call(arguments):f,e===b?j.notifyWith(c,e):--i||j.resolveWith(c,e)}};if(h>1)for(b=new Array(h),c=new Array(h),e=new Array(h);h>f;f++)g[f]&&n.isFunction(g[f].promise)?g[f].promise().done(k(f,e,g)).fail(j.reject).progress(k(f,c,b)):--i;return i||j.resolveWith(e,g),j.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b);
},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c))for(j=0;e=f[j++];)fa.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;e--;)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),
c):void n.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=gb.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ib;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n}),function(a,b,c){function d(a,b){return b=b||Error,function(){var c,d,e=arguments[0],f="["+(a?a+":":"")+e+"] ",g=arguments[1],h=arguments;for(c=f+g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<h.length?Ra(h[b+2]):a}),c=c+"\nhttp://errors.angularjs.org/1.3.13/"+(a?a+"/":"")+e,d=2;d<arguments.length;d++)c=c+(2==d?"?":"&")+"p"+(d-2)+"="+encodeURIComponent(Ra(arguments[d]));return new b(c)}}var e=/^\/(.+)\/([a-z]*)$/,f="validity",g=function(a){return M(a)?a.toLowerCase():a},h=Object.prototype.hasOwnProperty,i=function(a){return M(a)?a.toUpperCase():a},j=function(a){return M(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},k=function(a){return M(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(g=j,i=k);var l,m,n,o,p=[].slice,q=[].splice,r=[].push,s=Object.prototype.toString,t=d("ng"),u=a.angular||(a.angular={}),v=0;l=b.documentMode;function w(a){if(null==a||S(a))return!1;var b=a.length;return a.nodeType===Ka&&b?!0:M(a)||P(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function x(a,b,c){var d,e;if(a)if(Q(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(P(a)||w(a)){var f="object"!=typeof a;for(d=0,e=a.length;e>d;d++)(f||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==x)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function y(a){return Object.keys(a).sort()}function z(a,b,c){for(var d=y(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function A(a){return function(b,c){a(c,b)}}function B(){return++v}function C(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function D(a){for(var b=a.$$hashKey,c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];a[i]=e[i]}}return C(a,b),a}function E(a){return parseInt(a,10)}function F(a,b){return D(Object.create(a),b)}function G(){}G.$inject=[];function H(a){return a}H.$inject=[];function I(a){return function(){return a}}function J(a){return"undefined"==typeof a}function K(a){return"undefined"!=typeof a}function L(a){return null!==a&&"object"==typeof a}function M(a){return"string"==typeof a}function N(a){return"number"==typeof a}function O(a){return"[object Date]"===s.call(a)}var P=Array.isArray;function Q(a){return"function"==typeof a}function R(a){return"[object RegExp]"===s.call(a)}function S(a){return a&&a.window===a}function T(a){return a&&a.$evalAsync&&a.$watch}function U(a){return"[object File]"===s.call(a)}function V(a){return"[object FormData]"===s.call(a)}function W(a){return"[object Blob]"===s.call(a)}function X(a){return"boolean"==typeof a}function Y(a){return a&&Q(a.then)}var Z=function(a){return M(a)?a.trim():a},$=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function _(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function aa(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function ba(a){return g(a.nodeName||a[0]&&a[0].nodeName)}function ca(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),b}function da(a,b,c,d){if(S(a)||T(a))throw t("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw t("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],L(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}var f;if(P(a)){b.length=0;for(var g=0;g<a.length;g++)f=da(a[g],null,c,d),L(a[g])&&(c.push(a[g]),d.push(f)),b.push(f)}else{var h=b.$$hashKey;P(b)?b.length=0:x(b,function(a,c){delete b[c]});for(var i in a)a.hasOwnProperty(i)&&(f=da(a[i],null,c,d),L(a[i])&&(c.push(a[i]),d.push(f)),b[i]=f);C(b,h)}}else if(b=a,a)if(P(a))b=da(a,[],c,d);else if(O(a))b=new Date(a.getTime());else if(R(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(L(a)){var j=Object.create(Object.getPrototypeOf(a));b=da(a,j,c,d)}return b}function ea(a,b){if(P(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(L(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function fa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!P(a)){if(O(a))return O(b)?fa(a.getTime(),b.getTime()):!1;if(R(a)&&R(b))return a.toString()==b.toString();if(T(a)||T(b)||S(a)||S(b)||P(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!Q(a[e])){if(!fa(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!Q(b[e]))return!1;return!0}if(!P(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!fa(a[e],b[e]))return!1;return!0}}return!1}var ga=function(){if(K(ga.isActive_))return ga.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return ga.isActive_=a};function ha(a,b,c){return a.concat(p.call(b,c))}function ia(a,b){return p.call(a,b||0)}function ja(a,b){var c=arguments.length>2?ia(arguments,2):[];return!Q(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,ha(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ka(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:S(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":T(d)&&(e="$SCOPE"),e}function la(a,b){return"undefined"==typeof a?c:(N(b)||(b=b?2:null),JSON.stringify(a,ka,b))}function ma(a){return M(a)?JSON.parse(a):a}function na(a){a=m(a).clone();try{a.empty()}catch(b){}var c=m("<div>").append(a).html();try{return a[0].nodeType===La?g(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+g(b)})}catch(b){return g(c)}}function oa(a){try{return decodeURIComponent(a)}catch(b){}}function pa(a){var b,c,d={};return x((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=oa(b[0]),K(c))){var e=K(b[1])?oa(b[1]):!0;h.call(d,c)?P(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function qa(a){var b=[];return x(a,function(a,c){P(a)?x(a,function(a){b.push(sa(c,!0)+(a===!0?"":"="+sa(a,!0)))}):b.push(sa(c,!0)+(a===!0?"":"="+sa(a,!0)))}),b.length?b.join("&"):""}function ra(a){return sa(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function sa(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}var ta=["ng-","data-ng-","ng:","x-ng-"];function ua(a,b){var c,d,e=ta.length;for(a=m(a),d=0;e>d;++d)if(c=ta[d]+b,M(c=a.attr(c)))return c;return null}function va(a,b){var c,d,e={};x(ta,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),x(ta,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==ua(c,"strict-di"),b(c,d?[d]:[],e))}function wa(c,d,e){L(e)||(e={});var f={strictDi:!1};e=D(f,e);var g=function(){if(c=m(c),c.injector()){var a=c[0]===b?"document":na(c);throw t("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=Sb(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),u.resumeBootstrap=function(a){return x(a,function(a){d.push(a)}),g()},void(Q(u.resumeDeferredBootstrap)&&u.resumeDeferredBootstrap()))}function xa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ya(a){var b=u.element(a).injector();if(!b)throw t("test","no injector found for element argument to getTestability");return b.get("$$testability")}var za=/[A-Z]/g;function Aa(a,b){return b=b||"_",a.replace(za,function(a,c){return(c?b:"")+a.toLowerCase()})}var Ba,Ca=!1;function Da(){var b;Ca||(n=a.jQuery,n&&n.fn.on?(m=n,D(n.fn,{scope:Bb.scope,isolateScope:Bb.isolateScope,controller:Bb.controller,injector:Bb.injector,inheritedData:Bb.inheritedData}),b=n.cleanData,n.cleanData=function(a){var c;if(Ba)Ba=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=n._data(d,"events"),c&&c.$destroy&&n(d).triggerHandler("$destroy");b(a)}):m=lb,u.element=m,Ca=!0)}function Ea(a,b,c){if(!a)throw t("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function Fa(a,b,c){return c&&P(a)&&(a=a[a.length-1]),Ea(Q(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ga(a,b){if("hasOwnProperty"===a)throw t("badname","hasOwnProperty is not a valid {0} name",b)}function Ha(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&Q(a)?ja(f,a):a}function Ia(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return m(d)}function Ja(){return Object.create(null)}var Ka=1,La=3,Ma=8,Na=9,Oa=11;function Pa(a){var b=d("$injector"),c=d("ng");function e(a,b,c){return a[b]||(a[b]=c())}var f=e(a,"angular",Object);return f.$$minErr=f.$$minErr||d,e(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw c("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),e(a,d,function(){if(!f)throw b("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var a=[],c=[],e=[],h=j("$injector","invoke","push",c),i={_invokeQueue:a,_configBlocks:c,_runBlocks:e,requires:f,name:d,provider:j("$provide","provider"),factory:j("$provide","factory"),service:j("$provide","service"),value:j("$provide","value"),constant:j("$provide","constant","unshift"),animation:j("$animateProvider","register"),filter:j("$filterProvider","register"),controller:j("$controllerProvider","register"),directive:j("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i;function j(b,c,d,e){return e||(e=a),function(){return e[d||"push"]([b,c,arguments]),i}}})}})}function Qa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=ka(a,c),L(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function Ra(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?Qa(a):a}var Sa={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};function Ta(b){D(b,{bootstrap:wa,copy:da,extend:D,equals:fa,element:m,forEach:x,injector:Sb,noop:G,bind:ja,toJson:la,fromJson:ma,identity:H,isUndefined:J,isDefined:K,isString:M,isFunction:Q,isObject:L,isNumber:N,isElement:_,isArray:P,version:Sa,isDate:O,lowercase:g,uppercase:i,callbacks:{counter:0},getTestability:ya,$$minErr:d,$$csp:ga,reloadWithDebugInfo:xa}),o=Pa(a);try{o("ngLocale")}catch(c){o("ngLocale",[]).provider("$locale",Bc)}o("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:vd}),a.provider("$compile",ac).directive({a:je,input:Pe,textarea:Pe,form:qe,script:If,select:Lf,style:Nf,option:Mf,ngBind:Se,ngBindHtml:Ue,ngBindTemplate:Te,ngClass:Xe,ngClassEven:Ze,ngClassOdd:Ye,ngCloak:$e,ngController:_e,ngForm:re,ngHide:Cf,ngIf:cf,ngInclude:df,ngInit:ff,ngNonBindable:wf,ngPluralize:xf,ngRepeat:yf,ngShow:Bf,ngStyle:Df,ngSwitch:Ef,ngSwitchWhen:Ff,ngSwitchDefault:Gf,ngOptions:Kf,ngTransclude:Hf,ngModel:rf,ngList:gf,ngChange:Ve,pattern:Pf,ngPattern:Pf,required:Of,ngRequired:Of,minlength:Rf,ngMinlength:Rf,maxlength:Qf,ngMaxlength:Qf,ngValue:Re,ngModelOptions:tf
}).directive({ngInclude:ef}).directive(ke).directive(af),a.provider({$anchorScroll:Tb,$animate:Vb,$browser:Yb,$cacheFactory:Zb,$controller:gc,$document:hc,$exceptionHandler:ic,$filter:Ld,$interpolate:zc,$interval:Ac,$http:uc,$httpBackend:wc,$location:Tc,$log:Uc,$parse:pd,$rootScope:ud,$q:qd,$$q:rd,$sce:Bd,$sceDelegate:Ad,$sniffer:Cd,$templateCache:$b,$templateRequest:Dd,$$testability:Ed,$timeout:Fd,$window:Kd,$$rAF:td,$$asyncCallback:Wb,$$jqLite:Ib})}])}lb.expando="ng339";var Ua=lb.cache={},Va=1,Wa=function(a,b,c){a.addEventListener(b,c,!1)},Xa=function(a,b,c){a.removeEventListener(b,c,!1)};lb._data=function(a){return this.cache[a[this.expando]]||{}};function Ya(){return++Va}var Za=/([\:\-\_]+(.))/g,$a=/^moz([A-Z])/,_a={mouseleave:"mouseout",mouseenter:"mouseover"},ab=d("jqLite");function bb(a){return a.replace(Za,function(a,b,c,d){return d?c.toUpperCase():c}).replace($a,"Moz$1")}var cb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,db=/<|&#?\w+;/,eb=/<([\w:]+)/,fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gb={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td;function hb(a){return!db.test(a)}function ib(a){var b=a.nodeType;return b===Ka||!b||b===Na}function jb(a,b){var c,d,e,f,g=b.createDocumentFragment(),h=[];if(hb(a))h.push(b.createTextNode(a));else{for(c=c||g.appendChild(b.createElement("div")),d=(eb.exec(a)||["",""])[1].toLowerCase(),e=gb[d]||gb._default,c.innerHTML=e[1]+a.replace(fb,"<$1></$2>")+e[2],f=e[0];f--;)c=c.lastChild;h=ha(h,c.childNodes),c=g.firstChild,c.textContent=""}return g.textContent="",g.innerHTML="",x(h,function(a){g.appendChild(a)}),g}function kb(a,c){c=c||b;var d;return(d=cb.exec(a))?[c.createElement(d[1])]:(d=jb(a,c))?d.childNodes:[]}function lb(a){if(a instanceof lb)return a;var b;if(M(a)&&(a=Z(a),b=!0),!(this instanceof lb)){if(b&&"<"!=a.charAt(0))throw ab("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new lb(a)}b?vb(this,kb(a)):vb(this,a)}function mb(a){return a.cloneNode(!0)}function nb(a,b){if(b||pb(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)pb(c[d])}function ob(a,b,c,d){if(K(d))throw ab("offargs","jqLite#off() does not support the `selector` argument");var e=qb(a),f=e&&e.events,g=e&&e.handle;if(g)if(b)x(b.split(" "),function(b){if(K(c)){var d=f[b];if(ca(d||[],c),d&&d.length>0)return}Xa(a,b,g),delete f[b]});else for(b in f)"$destroy"!==b&&Xa(a,b,g),delete f[b]}function pb(a,b){var d=a.ng339,e=d&&Ua[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),ob(a)),delete Ua[d],a.ng339=c}}function qb(a,b){var d=a.ng339,e=d&&Ua[d];return b&&!e&&(a.ng339=d=Ya(),e=Ua[d]={events:{},data:{},handle:c}),e}function rb(a,b,c){if(ib(a)){var d=K(c),e=!d&&b&&!L(b),f=!b,g=qb(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];D(h,b)}}}function sb(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function tb(a,b){b&&a.setAttribute&&x(b.split(" "),function(b){a.setAttribute("class",Z((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Z(b)+" "," ")))})}function ub(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");x(b.split(" "),function(a){a=Z(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Z(c))}}function vb(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function wb(a,b){return xb(a,"$"+(b||"ngController")+"Controller")}function xb(a,b,d){a.nodeType==Na&&(a=a.documentElement);for(var e=P(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=m.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===Oa&&a.host}}function yb(a){for(nb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function zb(a,b){b||nb(a);var c=a.parentNode;c&&c.removeChild(a)}function Ab(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):m(c).on("load",b)}var Bb=lb.prototype={ready:function(c){var d=!1;function e(){d||(d=!0,c())}"complete"===b.readyState?setTimeout(e):(this.on("DOMContentLoaded",e),lb(a).on("load",e))},toString:function(){var a=[];return x(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return m(a>=0?this[a]:this[this.length+a])},length:0,push:r,sort:[].sort,splice:[].splice},Cb={};x("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Cb[g(a)]=a});var Db={};x("input,select,option,textarea,button,form,details".split(","),function(a){Db[a]=!0});var Eb={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Fb(a,b){var c=Cb[b.toLowerCase()];return c&&Db[ba(a)]&&c}function Gb(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Eb[b]}x({data:rb,removeData:pb},function(a,b){lb[b]=a}),x({data:rb,inheritedData:xb,scope:function(a){return m.data(a,"$scope")||xb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return m.data(a,"$isolateScope")||m.data(a,"$isolateScopeNoTemplate")},controller:wb,injector:function(a){return xb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:sb,css:function(a,b,c){return b=bb(b),K(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=g(b);if(Cb[e]){if(!K(d))return a[b]||(a.attributes.getNamedItem(b)||G).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(K(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return K(c)?void(a[b]=c):a[b]},text:function(){return a.$dv="",a;function a(a,b){if(J(b)){var c=a.nodeType;return c===Ka||c===La?a.textContent:""}a.textContent=b}}(),val:function(a,b){if(J(b)){if(a.multiple&&"select"===ba(a)){var c=[];return x(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return J(b)?a.innerHTML:(nb(a,!0),void(a.innerHTML=b))},empty:yb},function(a,b){lb.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==yb&&(2==a.length&&a!==sb&&a!==wb?b:d)===c){if(L(b)){for(e=0;g>e;e++)if(a===rb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}});function Hb(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(J(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=ea(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}x({removeData:pb,on:function Sf(a,b,c,d){if(K(d))throw ab("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ib(a)){var e=qb(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Hb(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Sf(a,_a[b],function(a){var c=this,d=a.relatedTarget;(!d||d!==c&&!c.contains(d))&&g(a,b)}):"$destroy"!==b&&Wa(a,b,g),j=f[b]),j.push(c)}}},off:ob,one:function(a,b,c){a=m(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;nb(a),x(new lb(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return x(a.childNodes,function(a){a.nodeType===Ka&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===Ka||c===Oa){b=new lb(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===Ka){var c=a.firstChild;x(new lb(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=m(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:zb,detach:function(a){zb(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new lb(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:ub,removeClass:tb,toggleClass:function(a,b,c){b&&x(b.split(" "),function(b){var d=c;J(d)&&(d=!sb(a,b)),(d?ub:tb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==Oa?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:mb,triggerHandler:function(a,b,c){var d,e,f,g=b.type||b,h=qb(a),i=h&&h.events,j=i&&i[g];j&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:G,type:g,target:a},b.type&&(d=D(d,b)),e=ea(j),f=c?[d].concat(c):[d],x(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,f)}))}},function(a,b){lb.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)J(e)?(e=a(this[f],b,c,d),K(e)&&(e=m(e))):vb(e,a(this[f],b,c,d));return K(e)?e:this},lb.prototype.bind=lb.prototype.on,lb.prototype.unbind=lb.prototype.off});function Ib(){this.$get=function(){return D(lb,{hasClass:function(a,b){return a.attr&&(a=a[0]),sb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),ub(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),tb(a,b)}})}}function Jb(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||B)():d+":"+a}function Kb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}x(a,this.put,this)}Kb.prototype={put:function(a,b){this[Jb(a,this.nextUid)]=b},get:function(a){return this[Jb(a,this.nextUid)]},remove:function(a){var b=this[a=Jb(a,this.nextUid)];return delete this[a],b}};var Lb=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Mb=/,/,Nb=/^\s*(_?)(\S+?)\1\s*$/,Ob=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pb=d("$injector");function Qb(a){var b=a.toString().replace(Ob,""),c=b.match(Lb);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Rb(a,b,c){var d,e,f,g;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw M(c)&&c||(c=a.name||Qb(a)),Pb("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(Ob,""),f=e.match(Lb),x(f[1].split(Mb),function(a){a.replace(Nb,function(a,b,c){d.push(c)})})}a.$inject=d}}else P(a)?(g=a.length-1,Fa(a[g],"fn"),d=a.slice(0,g)):Fa(a,"fn",!0);return d}function Sb(a,b){b=b===!0;var d={},e="Provider",f=[],g=new Kb([],!0),h={$provide:{provider:l(m),factory:l(p),service:l(q),value:l(r),constant:l(s),decorator:t}},i=h.$injector=w(h,function(a,b){throw u.isString(b)&&f.push(b),Pb("unpr","Unknown provider: {0}",f.join(" <- "))}),j={},k=j.$injector=w(j,function(a,b){var d=i.get(a+e,b);return k.invoke(d.$get,d,c,a)});return x(v(a),function(a){k.invoke(a||G)}),k;function l(a){return function(b,c){return L(b)?void x(b,A(a)):a(b,c)}}function m(a,b){if(Ga(a,"service"),(Q(b)||P(b))&&(b=i.instantiate(b)),!b.$get)throw Pb("pget","Provider '{0}' must define $get factory method.",a);return h[a+e]=b}function n(a,b){return function(){var c=k.invoke(b,this);if(J(c))throw Pb("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function p(a,b,c){return m(a,{$get:c!==!1?n(a,b):b})}function q(a,b){return p(a,["$injector",function(a){return a.instantiate(b)}])}function r(a,b){return p(a,I(b),!1)}function s(a,b){Ga(a,"constant"),h[a]=b,j[a]=b}function t(a,b){var c=i.get(a+e),d=c.$get;c.$get=function(){var a=k.invoke(d,c);return k.invoke(b,null,{$delegate:a})}}function v(a){var b,c=[];return x(a,function(a){if(!g.get(a)){g.put(a,!0);function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=i.get(d[0]);e[d[1]].apply(e,d[2])}}try{M(a)?(b=o(a),c=c.concat(v(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):Q(a)?c.push(i.invoke(a)):P(a)?c.push(i.invoke(a)):Fa(a,"module")}catch(e){throw P(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Pb("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function w(a,c){function g(b,e){if(a.hasOwnProperty(b)){if(a[b]===d)throw Pb("cdep","Circular dependency found: {0}",b+" <- "+f.join(" <- "));return a[b]}try{return f.unshift(b),a[b]=d,a[b]=c(b,e)}catch(g){throw a[b]===d&&delete a[b],g}finally{f.shift()}}function i(a,c,d,e){"string"==typeof d&&(e=d,d=null);var f,h,i,j=[],k=Sb.$$annotate(a,b,e);for(h=0,f=k.length;f>h;h++){if(i=k[h],"string"!=typeof i)throw Pb("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(d&&d.hasOwnProperty(i)?d[i]:g(i,e))}return P(a)&&(a=a[f]),a.apply(c,j)}function j(a,b,c){var d=Object.create((P(a)?a[a.length-1]:a).prototype||null),e=i(a,d,b,c);return L(e)||Q(e)?e:d}return{invoke:i,instantiate:j,get:g,annotate:Sb.$$annotate,has:function(b){return h.hasOwnProperty(b+e)||a.hasOwnProperty(b)}}}}Sb.$$annotate=Rb;function Tb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){var e=b.document;function f(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===ba(a)?(b=a,!0):void 0}),b}function g(){var a=i.yOffset;if(Q(a))a=a();else if(_(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else N(a)||(a=0);return a}function h(a){if(a){a.scrollIntoView();var c=g();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function i(){var a,b=c.hash();b?(a=e.getElementById(b))?h(a):(a=f(e.getElementsByName(b)))?h(a):"top"===b&&h(null):h(null)}return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Ab(function(){d.$evalAsync(i)})}),i}]}var Ub=d("$animate"),Vb=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Ub("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,b,c){var d;function e(b){var d,e=a.defer();return e.promise.$$cancelFn=function(){d&&d()},c.$$postDigest(function(){d=b(function(){e.resolve()})}),e.promise}function f(a,b){var c=[],d=[],e=Ja();return x((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0}),x(b,function(a,b){var f=e[b];a===!1&&f?d.push(b):a!==!0||f||c.push(b)}),c.length+d.length>0&&[c.length?c:null,d.length?d:null]}function g(a,b,c){for(var d=0,e=b.length;e>d;++d){var f=b[d];a[f]=c}}function h(){return d||(d=a.defer(),b(function(){d.resolve(),d=null})),d.promise}function i(a,b){if(u.isObject(b)){var c=D(b.from||{},b.to||{});a.css(c)}}return{animate:function(a,b,c){return i(a,{from:b,to:c}),h()},enter:function(a,b,c,d){return i(a,d),c?c.after(a):b.prepend(a),h()},leave:function(a,b){return a.remove(),h()},move:function(a,b,c,d){return this.enter(a,b,c,d)},addClass:function(a,b,c){return this.setClass(a,b,[],c)},$$addClassImmediately:function(a,b,c){return a=m(a),b=M(b)?b:P(b)?b.join(" "):"",x(a,function(a){ub(a,b)}),i(a,c),h()},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},$$removeClassImmediately:function(a,b,c){return a=m(a),b=M(b)?b:P(b)?b.join(" "):"",x(a,function(a){tb(a,b)}),i(a,c),h()},setClass:function(a,b,c,d){var h=this,i="$$animateClasses",j=!1;a=m(a);var k=a.data(i);k?d&&k.options&&(k.options=u.extend(k.options||{},d)):(k={classes:{},options:d},j=!0);var l=k.classes;return b=P(b)?b:b.split(" "),c=P(c)?c:c.split(" "),g(l,b,!0),g(l,c,!1),j&&(k.promise=e(function(b){var c=a.data(i);if(a.removeData(i),c){var d=f(a,c.classes);d&&h.$$setClassImmediately(a,d[0],d[1],c.options)}b()}),a.data(i,k)),k.promise},$$setClassImmediately:function(a,b,c,d){return b&&this.$$addClassImmediately(a,b),c&&this.$$removeClassImmediately(a,c),i(a,d),h()},enabled:G,cancel:G}}]}];function Wb(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Xb(a,b,d,e){var f=this,g=b[0],h=a.location,i=a.history,j=a.setTimeout,k=a.clearTimeout,l={};f.isMock=!1;var n=0,o=[];f.$$completeOutstandingRequest=p,f.$$incOutstandingRequestCount=function(){n++};function p(a){try{a.apply(null,ia(arguments,1))}finally{if(n--,0===n)for(;o.length;)try{o.pop()()}catch(b){d.error(b)}}}function q(a){var b=a.indexOf("#");return-1===b?"":a.substr(b+1)}f.notifyWhenNoOutstandingRequests=function(a){x(s,function(a){a()}),0===n?a():o.push(a)};var r,s=[];f.addPollFn=function(a){return J(r)&&t(100,j),s.push(a),a};function t(a,b){!function c(){x(s,function(a){a()}),r=b(c,a)}()}var u,v,w=h.href,y=b.find("base"),z=null;E(),v=u,f.url=function(b,c,d){if(J(d)&&(d=null),h!==a.location&&(h=a.location),i!==a.history&&(i=a.history),b){var g=v===d;if(w===b&&(!e.history||g))return f;var j=w&&Jc(w)===Jc(b);return w=b,v=d,!e.history||j&&g?(j||(z=b),c?h.replace(b):j?h.hash=q(b):h.href=b):(i[c?"replaceState":"pushState"](d,"",b),E(),v=u),f}return z||h.href.replace(/%27/g,"'")},f.state=function(){return u};var A=[],B=!1;function C(){E(),F()}var D=null;function E(){u=a.history.state,u=J(u)?null:u,fa(u,D)&&(u=D),D=u}function F(){(w!==f.url()||v!==u)&&(w=f.url(),v=u,x(A,function(a){a(f.url(),u)}))}f.onUrlChange=function(b){return B||(e.history&&m(a).on("popstate",C),m(a).on("hashchange",C),B=!0),A.push(b),b},f.$$checkUrlChange=F,f.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var H={},I="",K=f.baseHref();function L(a){try{return decodeURIComponent(a)}catch(b){return a}}f.cookies=function(a,b){var e,f,h,i,j;if(!a){if(g.cookie!==I)for(I=g.cookie,f=I.split("; "),H={},i=0;i<f.length;i++)h=f[i],j=h.indexOf("="),j>0&&(a=L(h.substring(0,j)),H[a]===c&&(H[a]=L(h.substring(j+1))));return H}b===c?g.cookie=encodeURIComponent(a)+"=;path="+K+";expires=Thu, 01 Jan 1970 00:00:00 GMT":M(b)&&(e=(g.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+K).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},f.defer=function(a,b){var c;return n++,c=j(function(){delete l[c],p(a)},b||0),l[c]=!0,c},f.defer.cancel=function(a){return l[a]?(delete l[a],k(a),p(G),!0):!1}}function Yb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Xb(a,d,b,c)}]}function Zb(){this.$get=function(){var a={};function b(b,c){if(b in a)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",b);var e=0,f=D({},c,{id:b}),g={},h=c&&c.capacity||Number.MAX_VALUE,i={},j=null,k=null;return a[b]={put:function(a,b){if(h<Number.MAX_VALUE){var c=i[a]||(i[a]={key:a});l(c)}if(!J(b))return a in g||e++,g[a]=b,e>h&&this.remove(k.key),b},get:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;l(b)}return g[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;b==j&&(j=b.p),b==k&&(k=b.n),m(b.n,b.p),delete i[a]}delete g[a],e--},removeAll:function(){g={},e=0,i={},j=k=null},destroy:function(){g=null,f=null,i=null,delete a[b]},info:function(){return D({},f,{size:e})}};function l(a){a!=j&&(k?k==a&&(k=a.n):k=a,m(a.n,a.p),m(a,j),j=a,j.n=null)}function m(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}}return b.info=function(){var b={};return x(a,function(a,c){b[c]=a.info()}),b},b.get=function(b){return a[b]},b}}function $b(){this.$get=["$cacheFactory",function(a){return a("templates")}]}var _b=d("$compile");ac.$inject=["$provide","$$sanitizeUriProvider"];function ac(a,d){var e={},f="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,i=/(([\w\-]+)(?:\:([^;]+))?;?)/,j=aa("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;function o(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return x(a,function(a,e){var f=a.match(c);if(!f)throw _b("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}this.directive=function q(b,c){return Ga(b,"directive"),M(b)?(Ea(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+f,["$injector","$exceptionHandler",function(a,c){var d=[];return x(e[b],function(e,f){try{var g=a.invoke(e);Q(g)?g={compile:I(g)}:!g.compile&&g.link&&(g.compile=I(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"EA",L(g.scope)&&(g.$$isolateBindings=o(g.scope,g.name)),d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):x(b,A(q)),this},this.aHrefSanitizationWhitelist=function(a){return K(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return K(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return K(a)?(p=a,this):p},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,o,q,r,s,t,u,v,w,y){var z=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};z.prototype={$normalize:cc,$addClass:function(a){a&&a.length>0&&w.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&w.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=dc(a,b);c&&c.length&&w.addClass(this.$$element,c);var d=dc(b,a);d&&d.length&&w.removeClass(this.$$element,d)},$set:function(a,b,d,e){var f,g=this.$$element[0],h=Fb(g,a),i=Gb(g,a),j=a;if(h?(this.$$element.prop(a,b),e=h):i&&(this[i]=b,j=i),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a],e||(this.$attr[a]=e=Aa(a,"-"))),f=ba(this.$$element),"a"===f&&"href"===a||"img"===f&&"src"===a)this[a]=b=y(b,"src"===a);else if("img"===f&&"srcset"===a){for(var k="",l=Z(b),m=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,n=/\s/.test(l)?m:/(,)/,p=l.split(n),q=Math.floor(p.length/2),r=0;q>r;r++){var s=2*r;k+=y(Z(p[s]),!0),k+=" "+Z(p[s+1])}var t=Z(p[2*r]).split(/\s/);k+=y(Z(t[0]),!0),2===t.length&&(k+=" "+Z(t[1])),this[a]=b=k}d!==!1&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b));var u=this.$$observers;u&&x(u[j],function(a){try{a(b)}catch(c){o(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=Ja()),e=d[a]||(d[a]=[]);return e.push(b),t.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){ca(e,b)}}};function A(a,b){try{a.addClass(b)}catch(c){}}var B=d.startSymbol(),C=d.endSymbol(),E="{{"==B||"}}"==C?H:function(a){return a.replace(/\{\{/g,B).replace(/}}/g,C)},I=/^ngAttr[A-Z]/;return J.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];P(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:G,J.$$addBindingClass=p?function(a){A(a,"ng-binding")}:G,J.$$addScopeInfo=p?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:G,J.$$addScopeClass=p?function(a,b){A(a,b?"ng-isolate-scope":"ng-scope")}:G,J;function J(a,b,c,d,e){a instanceof m||(a=m(a)),x(a,function(b,c){b.nodeType==La&&b.nodeValue.match(/\S+/)&&(a[c]=m(b).wrap("<span></span>").parent()[0])});var f=N(a,b,a,c,d,e);J.$$addScopeClass(a);var g=null;return function(b,c,d){Ea(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),g||(g=K(i));var j;if(j="html"!==g?m(ga(g,m("<div>").append(a).html())):c?Bb.clone.call(a):a,h)for(var k in h)j.data("$"+k+"Controller",h[k].instance);return J.$$addScopeInfo(j,b),c&&c(j,b),f&&f(b,j,j,e),j}}function K(a){var b=a&&a[0];return b&&"foreignobject"!==ba(b)&&b.toString().match(/SVG/)?"svg":"html"}function N(a,b,d,e,f,g){for(var h,i,j,k,l,n,o,p=[],q=0;q<a.length;q++)h=new z,i=R(a[q],[],h,0===q?e:c,f),j=i.length?V(i,a[q],h,b,d,null,[],[],g):null,j&&j.scope&&J.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[q].childNodes)||!k.length?null:N(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(p.push(q,j,l),n=!0,o=o||j),g=null;return n?r:null;function r(a,d,e,f){var g,h,i,j,k,l,n,q,r;if(o){var s=d.length;for(r=new Array(s),k=0;k<p.length;k+=3)n=p[k],r[n]=d[n]}else r=d;for(k=0,l=p.length;l>k;)i=r[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),J.$$addScopeInfo(m(i),j)):j=a,q=g.transcludeOnThisElement?O(a,g.transclude,f,g.elementTranscludeOnThisElement):!g.templateOnThisElement&&f?f:!f&&b?O(a,b):null,g(h,j,i,e,q)):h&&h(a,i.childNodes,c,f)}}function O(a,b,c,d){var e=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return e}function R(a,b,c,d,e){var f,g,j=a.nodeType,k=c.$attr;switch(j){case Ka:X(b,cc(ba(a)),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var u=!1,v=!1;l=r[s],m=l.name,p=Z(l.value),o=cc(m),(q=I.test(o))&&(m=m.replace(bc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var w=o.replace(/(Start|End)$/,"");Y(w)&&o===w+"Start"&&(u=m,v=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=cc(m.toLowerCase()),k[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Fb(a,n)&&(c[n]=!0)),ja(a,b,p,n,q),X(b,n,"A",d,e,u,v)}if(g=a.className,L(g)&&(g=g.animVal),M(g)&&""!==g)for(;f=i.exec(g);)n=cc(f[2]),X(b,n,"C",d,e)&&(c[n]=Z(f[3])),g=g.substr(f.index+f[0].length);break;case La:ea(b,a.nodeValue);break;case Ma:try{f=h.exec(a.nodeValue),f&&(n=cc(f[1]),X(b,n,"M",d,e)&&(c[n]=Z(f[2])))}catch(x){}}return b.sort(aa),b}function S(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw _b("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==Ka&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return m(d)}function U(a,b,c){return function(d,e,f,g,h){return e=S(e[0],b,c),a(d,e,f,g,h)}}function V(a,e,f,g,h,i,j,l,n){n=n||{};for(var p,q,t,u,v,w,y,A=-Number.MAX_VALUE,B=n.controllerDirectives,C=n.newIsolateScopeDirective,D=n.templateDirective,F=n.nonTlbTranscludeDirective,G=!1,H=!1,I=n.hasElementTranscludeDirective,K=f.$$element=m(e),N=i,O=g,V=0,X=a.length;X>V;V++){t=a[V];var Y=t.$$start,aa=t.$$end;if(Y&&(K=S(e,Y,aa)),v=c,A>t.priority)break;if((y=t.scope)&&(t.templateUrl||(L(y)?(da("new/isolated scope",C||p,t,K),C=t):da("new/isolated scope",C,t,K)),p=p||t),u=t.name,!t.templateUrl&&t.controller&&(y=t.controller,B=B||{},da("'"+u+"' controller",B[u],t,K),B[u]=t),(y=t.transclude)&&(G=!0,t.$$tlb||(da("transclusion",F,t,K),F=t),"element"==y?(I=!0,A=t.priority,v=K,K=f.$$element=m(b.createComment(" "+u+": "+f[u]+" ")),e=K[0],ka(h,ia(v),e),O=J(v,g,A,N&&N.name,{nonTlbTranscludeDirective:F})):(v=m(mb(e)).contents(),K.empty(),O=J(v,g))),t.template)if(H=!0,da("template",D,t,K),D=t,y=Q(t.template)?t.template(K,f):t.template,y=E(y),t.replace){if(N=t,v=hb(y)?[]:ec(ga(t.templateNamespace,Z(y))),e=v[0],1!=v.length||e.nodeType!==Ka)throw _b("tplrt","Template for directive '{0}' must have exactly one root element. {1}",u,"");ka(h,K,e);var ba={$attr:{}},ca=R(e,[],ba),ea=a.splice(V+1,a.length-(V+1));C&&W(ca),a=a.concat(ca).concat(ea),$(f,ba),X=a.length}else K.html(y);if(t.templateUrl)H=!0,da("template",D,t,K),D=t,t.replace&&(N=t),pa=_(a.splice(V,a.length-V),K,f,h,G&&O,j,l,{controllerDirectives:B,newIsolateScopeDirective:C,templateDirective:D,nonTlbTranscludeDirective:F}),X=a.length;else if(t.compile)try{w=t.compile(K,f,O),Q(w)?ja(null,w,Y,aa):w&&ja(w.pre,w.post,Y,aa)}catch(ha){o(ha,na(K))}t.terminal&&(pa.terminal=!0,A=Math.max(A,t.priority))}return pa.scope=p&&p.scope===!0,pa.transcludeOnThisElement=G,pa.elementTranscludeOnThisElement=I,pa.templateOnThisElement=H,pa.transclude=O,n.hasElementTranscludeDirective=I,pa;function ja(a,b,c,d){a&&(c&&(a=U(a,c,d)),a.require=t.require,a.directiveName=u,(C===t||t.$$isolateScope)&&(a=la(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=U(b,c,d)),b.require=t.require,b.directiveName=u,(C===t||t.$$isolateScope)&&(b=la(b,{isolateScope:!0})),l.push(b))}function oa(a,b,c,d){var e,f,g="data",h=!1,i=c;if(M(b)){if(f=b.match(k),b=b.substring(f[0].length),f[3]&&(f[1]?f[3]=null:f[1]=f[3]),"^"===f[1]?g="inheritedData":"^^"===f[1]&&(g="inheritedData",i=c.parent()),"?"===f[2]&&(h=!0),e=null,d&&"data"===g&&(e=d[b])&&(e=e.instance),e=e||i[g]("$"+b+"Controller"),!e&&!h)throw _b("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e||null}return P(b)&&(e=[],x(b,function(b){e.push(oa(a,b,c,d))})),e}function pa(a,b,g,h,i){var k,n,o,p,t,u,v,w,y;if(e===g?(y=f,w=f.$$element):(w=m(g),y=new z(w,f)),C&&(t=b.$new(!0)),i&&(v=G,v.$$boundTransclude=i),B&&(q={},u={},x(B,function(a){var c,d={$scope:a===C||a.$$isolateScope?t:b,$element:w,$attrs:y,$transclude:v};p=a.controller,"@"==p&&(p=y[a.name]),c=s(p,d,!0,a.controllerAs),u[a.name]=c,I||w.data("$"+a.name+"Controller",c.instance),q[a.name]=c})),C){J.$$addScopeInfo(w,t,!0,!(D&&(D===C||D===C.$$originalDirective))),J.$$addScopeClass(w,!0);var A=q&&q[C.name],E=t;A&&A.identifier&&C.bindToController===!0&&(E=A.instance),x(t.$$isolateBindings=C.$$isolateBindings,function(a,c){var e,f,g,h,i=a.attrName,j=a.optional,k=a.mode;switch(k){case"@":y.$observe(i,function(a){E[c]=a}),y.$$observers[i].$$scope=b,y[i]&&(E[c]=d(y[i])(b));break;case"=":if(j&&!y[i])return;f=r(y[i]),h=f.literal?fa:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=E[c]=f(b),_b("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",y[i],C.name)},e=E[c]=f(b);var l=function(a){return h(a,E[c])||(h(a,e)?g(b,a=E[c]):E[c]=a),e=a};l.$stateful=!0;var m;m=a.collection?b.$watchCollection(y[i],l):b.$watch(r(y[i],l),null,f.literal),t.$on("$destroy",m);break;case"&":f=r(y[i]),E[c]=function(a){return f(b,a)}}})}for(q&&(x(q,function(a){a()}),q=null),k=0,n=j.length;n>k;k++)o=j[k],ma(o,o.isolateScope?t:b,w,y,o.require&&oa(o.directiveName,o.require,w,u),v);var F=b;for(C&&(C.template||null===C.templateUrl)&&(F=t),a&&a(F,g.childNodes,c,i),k=l.length-1;k>=0;k--)o=l[k],ma(o,o.isolateScope?t:b,w,y,o.require&&oa(o.directiveName,o.require,w,u),v);function G(a,b,d){var e;return T(a)||(d=b,b=a,a=c),I&&(e=u),d||(d=I?w.parent():w),i(a,b,e,d,F)}}}function W(a){for(var b=0,c=a.length;c>b;b++)a[b]=F(a[b],{$$isolateScope:!0})}function X(b,d,g,h,i,j,k){if(d===i)return null;var l=null;if(e.hasOwnProperty(d))for(var m,n=a.get(d+f),p=0,q=n.length;q>p;p++)try{m=n[p],(h===c||h>m.priority)&&-1!=m.restrict.indexOf(g)&&(j&&(m=F(m,{$$start:j,$$end:k})),b.push(m),l=m)}catch(r){o(r)}return l}function Y(b){if(e.hasOwnProperty(b))for(var c,d=a.get(b+f),g=0,h=d.length;h>g;g++)if(c=d[g],c.multiElement)return!0;return!1}function $(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;x(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),x(b,function(b,f){"class"==f?(A(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function _(a,b,c,d,e,f,g,h){var i,j,k=[],l=b[0],n=a.shift(),o=F(n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),p=Q(n.templateUrl)?n.templateUrl(b,c):n.templateUrl,r=n.templateNamespace;return b.empty(),q(v.getTrustedResourceUrl(p)).then(function(q){var s,t,u,v;if(q=E(q),n.replace){if(u=hb(q)?[]:ec(ga(r,Z(q))),
s=u[0],1!=u.length||s.nodeType!==Ka)throw _b("tplrt","Template for directive '{0}' must have exactly one root element. {1}",n.name,p);t={$attr:{}},ka(d,b,s);var w=R(s,[],t);L(n.scope)&&W(w),a=w.concat(a),$(c,t)}else s=l,b.html(q);for(a.unshift(o),i=V(a,s,c,e,b,n,f,g,h),x(d,function(a,c){a==s&&(d[c]=b[0])}),j=N(b[0].childNodes,e);k.length;){var y=k.shift(),z=k.shift(),B=k.shift(),C=k.shift(),D=b[0];if(!y.$$destroyed){if(z!==l){var F=z.className;h.hasElementTranscludeDirective&&n.replace||(D=mb(s)),ka(B,m(z),D),A(m(D),F)}v=i.transcludeOnThisElement?O(y,i.transclude,C):C,i(j,y,D,d,v)}}k=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(k?k.push(b,c,d,f):(i.transcludeOnThisElement&&(f=O(b,i.transclude,e)),i(j,b,c,d,f)))}}function aa(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function da(a,b,c,d){if(b)throw _b("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,na(d))}function ea(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&J.$$addBindingClass(b),function(a,b){var e=b.parent();d||J.$$addBindingClass(e),J.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function ga(a,c){switch(a=g(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function ha(a,b){if("srcdoc"==b)return v.HTML;var c=ba(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?v.RESOURCE_URL:void 0}function ja(a,b,c,e,f){var g=ha(a,e);f=j[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===ba(a))throw _b("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",na(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(l.test(e))throw _b("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ka(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var o=b.createDocumentFragment();o.appendChild(g),m(d).data(m(g).data()),n?(Ba=!0,n.cleanData([g])):delete m.cache[g[m.expando]];for(var p=1,q=c.length;q>p;p++){var r=c[p];m(r).remove(),o.appendChild(r),delete c[p]}c[0]=d,c.length=1}function la(a,b){return D(function(){return a.apply(null,arguments)},a,b)}function ma(a,b,c,d,e,f){try{a(b,c,d,e,f)}catch(g){o(g,na(c))}}}]}var bc=/^((?:x|data)[\:\-_])/i;function cc(a){return bb(a.replace(bc,""))}function dc(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function ec(a){a=m(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===Ma&&q.call(a,b,1)}return a}var fc=d("$controller");function gc(){var a={},b=!1,e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){Ga(b,"controller"),L(b)?D(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(f,g){return function(d,i,j,k){var l,m,n,o;if(j=j===!0,k&&M(k)&&(o=k),M(d)){if(m=d.match(e),!m)throw fc("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:Ha(i.$scope,n,!0)||(b?Ha(g,n,!0):c),Fa(d,n,!0)}if(j){var p=(P(d)?d[d.length-1]:d).prototype;return l=Object.create(p||null),o&&h(i,o,l,n||d.name),D(function(){return f.invoke(d,l,i,n),l},{instance:l,identifier:o})}return l=f.instantiate(d,i,n),o&&h(i,o,l,n||d.name),l};function h(a,b,c,e){if(!a||!L(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}}]}function hc(){this.$get=["$window",function(a){return m(a.document)}]}function ic(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}var jc="application/json",kc={"Content-Type":jc+";charset=utf-8"},lc=/^\[|^\{(?!\{)/,mc={"[":/]$/,"{":/}$/},nc=/^\)\]\}',?\n/;function oc(a,b){if(M(a)){var c=a.replace(nc,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(jc)||pc(c))&&(a=ma(c))}}return a}function pc(a){var b=a.match(lc);return b&&mc[b[0]].test(a)}function qc(a){var b,c,d,e=Ja();return a?(x(a.split("\n"),function(a){d=a.indexOf(":"),b=g(Z(a.substr(0,d))),c=Z(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function rc(a){var b=L(a)?a:c;return function(c){if(b||(b=qc(a)),c){var d=b[g(c)];return void 0===d&&(d=null),d}return b}}function sc(a,b,c,d){return Q(d)?d(a,b,c):(x(d,function(d){a=d(a,b,c)}),a)}function tc(a){return a>=200&&300>a}function uc(){var a=this.defaults={transformResponse:[oc],transformRequest:[function(a){return!L(a)||U(a)||W(a)||V(a)?a:la(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ea(kc),put:ea(kc),patch:ea(kc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},b=!1;this.useApplyAsync=function(a){return K(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(f,h,j,k,l,m){var n=j("$http"),o=[];x(e,function(a){o.unshift(M(a)?m.get(a):m.invoke(a))});function p(b){if(!u.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var e=D({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},b);e.headers=q(b),e.method=i(e.method);var f=function(b){var d=b.headers,e=sc(b.data,rc(d),c,b.transformRequest);return J(e)&&x(d,function(a,b){"content-type"===g(b)&&delete d[b]}),J(b.withCredentials)&&!J(a.withCredentials)&&(b.withCredentials=a.withCredentials),s(b,e).then(n,n)},h=[f,c],j=l.when(e);for(x(o,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&h.push(a.response,a.responseError)});h.length;){var k=h.shift(),m=h.shift();j=j.then(k,m)}return j.success=function(a){return j.then(function(b){a(b.data,b.status,b.headers,e)}),j},j.error=function(a){return j.then(null,function(b){a(b.data,b.status,b.headers,e)}),j},j;function n(a){var b=D({},a);return a.data?b.data=sc(a.data,a.headers,a.status,e.transformResponse):b.data=a.data,tc(a.status)?b:l.reject(b)}function p(a){var b,c={};return x(a,function(a,d){Q(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}function q(b){var c,d,e,f=a.headers,h=D({},b.headers);f=D({},f.common,f[g(b.method)]);a:for(c in f){d=g(c);for(e in h)if(g(e)===d)continue a;h[c]=f[c]}return p(h)}}return p.pendingRequests=[],q("get","delete","head","jsonp"),r("post","put","patch"),p.defaults=a,p;function q(a){x(arguments,function(a){p[a]=function(b,c){return p(D(c||{},{method:a,url:b}))}})}function r(a){x(arguments,function(a){p[a]=function(b,c,d){return p(D(d||{},{method:a,url:b,data:c}))}})}function s(d,e){var g,i,j=l.defer(),m=j.promise,o=d.headers,q=t(d.url,d.params);if(p.pendingRequests.push(d),m.then(w,w),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(g=L(d.cache)?d.cache:L(a.cache)?a.cache:n),g&&(i=g.get(q),K(i)?Y(i)?i.then(v,v):P(i)?u(i[1],i[0],ea(i[2]),i[3]):u(i,200,{},"OK"):g.put(q,m)),J(i)){var r=Jd(d.url)?h.cookies()[d.xsrfCookieName||a.xsrfCookieName]:c;r&&(o[d.xsrfHeaderName||a.xsrfHeaderName]=r),f(d.method,q,e,s,o,d.timeout,d.withCredentials,d.responseType)}return m;function s(a,c,d,e){g&&(tc(a)?g.put(q,[a,c,qc(d),e]):g.remove(q));function f(){u(c,a,d,e)}b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function u(a,b,c,e){b=Math.max(b,0),(tc(b)?j.resolve:j.reject)({data:a,status:b,headers:rc(c),config:d,statusText:e})}function v(a){u(a.data,a.status,ea(a.headers()),a.statusText)}function w(){var a=p.pendingRequests.indexOf(d);-1!==a&&p.pendingRequests.splice(a,1)}}function t(a,b){if(!b)return a;var c=[];return z(b,function(a,b){null===a||J(a)||(P(a)||(a=[a]),x(a,function(a){L(a)&&(a=O(a)?a.toISOString():la(a)),c.push(sa(b)+"="+sa(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}}]}function vc(){return new a.XMLHttpRequest}function wc(){this.$get=["$browser","$window","$document",function(a,b,c){return xc(a,vc,a.defer,b.angular.callbacks,c[0])}]}function xc(a,b,d,e,f){return function(f,i,j,k,l,m,n,o){if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==g(f)){var p="_"+(e.counter++).toString(36);e[p]=function(a){e[p].data=a,e[p].called=!0};var q=h(i.replace("JSON_CALLBACK","angular.callbacks."+p),p,function(a,b){w(k,a,e[p].data,"",b),e[p]=G})}else{var r=b();r.open(f,i,!0),x(l,function(a,b){K(a)&&r.setRequestHeader(b,a)}),r.onload=function(){var a=r.statusText||"",b="response"in r?r.response:r.responseText,c=1223===r.status?204:r.status;0===c&&(c=b?200:"file"==Id(i).protocol?404:0),w(k,c,b,r.getAllResponseHeaders(),a)};var s=function(){w(k,-1,null,null,"")};if(r.onerror=s,r.onabort=s,n&&(r.withCredentials=!0),o)try{r.responseType=o}catch(t){if("json"!==o)throw t}r.send(j||null)}if(m>0)var u=d(v,m);else Y(m)&&m.then(v);function v(){q&&q(),r&&r.abort()}function w(b,e,f,g,h){u!==c&&d.cancel(u),q=r=null,b(e,f,g,h),a.$$completeOutstandingRequest(G)}};function h(a,b,c){var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){Xa(d,"load",g),Xa(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Wa(d,"load",g),Wa(d,"error",g),f.body.appendChild(d),g}}var yc=d("$interpolate");function zc(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){var f=a.length,g=b.length,h=new RegExp(a.replace(/./g,j),"g"),i=new RegExp(b.replace(/./g,j),"g");function j(a){return"\\\\\\"+a}function k(j,k,l,m){m=!!m;for(var n,o,p,q=0,r=[],s=[],t=j.length,u=[],v=[];t>q;){if(-1==(n=j.indexOf(a,q))||-1==(o=j.indexOf(b,n+f))){q!==t&&u.push(z(j.substring(q)));break}q!==n&&u.push(z(j.substring(q,n))),p=j.substring(n+f,o),r.push(p),s.push(c(p,A)),q=o+g,v.push(u.length),u.push("")}if(l&&u.length>1)throw yc("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",j);if(!k||r.length){var w=function(a){for(var b=0,c=r.length;c>b;b++){if(m&&J(a[b]))return;u[v[b]]=a[b]}return u.join("")},x=function(a){return l?e.getTrusted(l,a):e.valueOf(a)},y=function(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=la(a)}return a};return D(function(a){var b=0,c=r.length,e=new Array(c);try{for(;c>b;b++)e[b]=s[b](a);return w(e)}catch(f){var g=yc("interr","Can't interpolate: {0}\n{1}",j,f.toString());d(g)}},{exp:j,expressions:r,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(s,function(c,e){var f=w(c);Q(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}function z(c){return c.replace(h,a).replace(i,b)}function A(a){try{return a=x(a),m&&!K(a)?a:y(a)}catch(b){var c=yc("interr","Can't interpolate: {0}\n{1}",j,b.toString());d(c)}}}return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Ac(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){var e={};function f(f,g,h,i){var j=b.setInterval,k=b.clearInterval,l=0,m=K(i)&&!i,n=(m?d:c).defer(),o=n.promise;return h=K(h)?h:0,o.then(null,null,f),o.$$intervalId=j(function(){n.notify(l++),h>0&&l>=h&&(n.resolve(l),k(o.$$intervalId),delete e[o.$$intervalId]),m||a.$apply()},g),e[o.$$intervalId]=n,o}return f.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},f}]}function Bc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}var Cc=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Dc={http:80,https:443,ftp:21},Ec=d("$location");function Fc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ra(b[c]);return b.join("/")}function Gc(a,b){var c=Id(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=E(c.port)||Dc[c.protocol]||null}function Hc(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Id(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=pa(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ic(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Jc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Kc(a){return a.replace(/(#.+)|#$/,"$1")}function Lc(a){return a.substr(0,Jc(a).lastIndexOf("/")+1)}function Mc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Nc(a,b){this.$$html5=!0,b=b||"";var d=Lc(a);Gc(a,this),this.$$parse=function(a){var b=Ic(d,a);if(!M(b))throw Ec("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,d);Hc(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=qa(this.$$search),b=this.$$hash?"#"+ra(this.$$hash):"";this.$$url=Fc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=Ic(a,e))!==c?(h=g,i=(g=Ic(b,g))!==c?d+(Ic("/",g)||g):a+h):(g=Ic(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function Oc(a,b){var c=Lc(a);Gc(a,this),this.$$parse=function(d){var e,f=Ic(a,d)||Ic(c,d);"#"===f.charAt(0)?(e=Ic(b,f),J(e)&&(e=f)):e=this.$$html5?f:"",Hc(e,this),this.$$path=g(this.$$path,e,a),this.$$compose();function g(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}},this.$$compose=function(){var c=qa(this.$$search),d=this.$$hash?"#"+ra(this.$$hash):"";this.$$url=Fc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Jc(a)==Jc(b)?(this.$$parse(b),!0):!1}}function Pc(a,b){this.$$html5=!0,Oc.apply(this,arguments);var c=Lc(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Jc(d)?f=d:(g=Ic(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=qa(this.$$search),d=this.$$hash?"#"+ra(this.$$hash):"";this.$$url=Fc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}var Qc={$$html5:!1,$$replace:!1,absUrl:Rc("$$absUrl"),url:function(a){if(J(a))return this.$$url;var b=Cc.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Rc("$$protocol"),host:Rc("$$host"),port:Rc("$$port"),path:Sc("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(M(a)||N(a))a=a.toString(),this.$$search=pa(a);else{if(!L(a))throw Ec("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=da(a,{}),x(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:J(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Sc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};x([Pc,Oc,Nc],function(a){a.prototype=Object.create(Qc),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Nc||!this.$$html5)throw Ec("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=J(b)?null:b,this}});function Rc(a){return function(){return this[a]}}function Sc(a,b){return function(c){return J(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Tc(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return K(b)?(a=b,this):a},this.html5Mode=function(a){return X(a)?(b.enabled=a,this):L(a)?(X(a.enabled)&&(b.enabled=a.enabled),X(a.requireBase)&&(b.requireBase=a.requireBase),X(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){var h,i,j,k=d.baseHref(),l=d.url();if(b.enabled){if(!k&&b.requireBase)throw Ec("nobase","$location in HTML5 mode requires a <base> tag to be present!");j=Mc(l)+(k||"/"),i=e.history?Nc:Pc}else j=Jc(l),i=Oc;h=new i(j,"#"+a),h.$$parseLinkUrl(l,l),h.$$state=d.state();var n=/^\s*(javascript|mailto):/i;function o(a,b,c){var e=h.url(),f=h.$$state;try{d.url(a,b,c),h.$$state=d.state()}catch(g){throw h.url(e),h.$$state=f,g}}f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=m(a.target);"a"!==ba(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var i=e.prop("href"),j=e.attr("href")||e.attr("xlink:href");L(i)&&"[object SVGAnimatedString]"===i.toString()&&(i=Id(i.animVal).href),n.test(i)||!i||e.attr("target")||a.isDefaultPrevented()||h.$$parseLinkUrl(i,j)&&(a.preventDefault(),h.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Kc(h.absUrl())!=Kc(l)&&d.url(h.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=h.absUrl(),f=h.$$state;h.$$parse(a),h.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,h.absUrl()===a&&(d?(h.$$parse(e),h.$$state=f,o(e,!1,f)):(p=!1,q(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=Kc(d.url()),b=Kc(h.absUrl()),f=d.state(),g=h.$$replace,i=a!==b||h.$$html5&&e.history&&f!==h.$$state;(p||i)&&(p=!1,c.$evalAsync(function(){var b=h.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,h.$$state,f).defaultPrevented;h.absUrl()===b&&(d?(h.$$parse(a),h.$$state=f):(i&&o(b,g,f===h.$$state?null:h.$$state),q(a,f)))})),h.$$replace=!1}),h;function q(a,b){c.$broadcast("$locationChangeSuccess",h.absUrl(),a,h.$$state,b)}}]}function Uc(){var a=!0,b=this;this.debugEnabled=function(b){return K(b)?(a=b,this):a},this.$get=["$window",function(c){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()};function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||G,f=!1;try{f=!!e.apply}catch(g){}return f?function(){var a=[];return x(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}}]}var Vc=d("$parse");function Wc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw Vc("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Xc(a,b){if(a){if(a.constructor===a)throw Vc("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw Vc("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw Vc("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw Vc("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}var Yc=Function.prototype.call,Zc=Function.prototype.apply,$c=Function.prototype.bind;function _c(a,b){if(a){if(a.constructor===a)throw Vc("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===Yc||a===Zc||a===$c)throw Vc("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}var ad=Ja();x({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,b){a.constant=a.literal=a.sharedGetter=!0,ad[b]=a}),ad["this"]=function(a){return a},ad["this"].sharedGetter=!0;var bd=D(Ja(),{"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),K(d)?K(e)?d+e:d:K(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(K(c)?c:0)-(K(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"!":function(a,b,c){return!c(a,b)},"=":!0,"|":!0}),cd={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},dd=function(a){this.options=a};dd.prototype={constructor:dd,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=bd[b],f=bd[c],g=bd[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||""===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=K(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw Vc("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=g(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=cd[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};function ed(a){return a.constant}var fd=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};fd.ZERO=D(function(){return 0},{sharedGetter:!0,constant:!0}),fd.prototype={constructor:fd,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in ad?a=ad[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b,c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw Vc("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw Vc("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){if(0===this.tokens.length)throw Vc("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},unaryFn:function(a,b){var c=bd[a];return D(function(a,d){return c(a,d,b)},{constant:b.constant,inputs:[b]})},binaryFn:function(a,b,c,d){var e=bd[b];return D(function(b,d){return e(b,d,a,c)},{constant:a.constant&&c.constant,inputs:!d&&[a,c]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return md(a,this.options,this.text)},constant:function(){var a=this.consume().value;return D(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0,f=a.length;f>e;e++)d=a[e](b,c);return d}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},filter:function(a){var b,d,e=this.$filter(this.consume().text);if(this.peek(":"))for(b=[],d=[];this.expect(":");)b.push(this.expression());var f=[a].concat(b||[]);return D(function(f,g){var h=a(f,g);if(d){d[0]=h;for(var i=b.length;i--;)d[i+1]=b[i](f,g);return e.apply(c,d)}return e(h)},{constant:!e.$stateful&&f.every(ed),inputs:!e.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),D(function(b,d){return c.assign(b,a(b,d),d)},{inputs:[c,a]})):c},ternary:function(){var a,b,c=this.logicalOR();if((b=this.expect("?"))&&(a=this.assignment(),this.consume(":"))){var d=this.assignment();return D(function(b,e){return c(b,e)?a(b,e):d(b,e)},{constant:c.constant&&a.constant&&d.constant})}return c},logicalOR:function(){for(var a,b=this.logicalAND();a=this.expect("||");)b=this.binaryFn(b,a.text,this.logicalAND(),!0);return b},logicalAND:function(){for(var a,b=this.equality();a=this.expect("&&");)b=this.binaryFn(b,a.text,this.equality(),!0);return b},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b=this.binaryFn(b,a.text,this.relational());return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b=this.binaryFn(b,a.text,this.additive());return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.text,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.text,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(fd.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var b=this.identifier();return D(function(d,e,f){var g=f||a(d,e);return null==g?c:b(g)},{assign:function(c,d,e){var f=a(c,e);return f||a.assign(c,f={},e),b.assign(f,d)}})},objectIndex:function(a){var b=this.text,d=this.expression();return this.consume("]"),D(function(e,f){var g,h=a(e,f),i=d(e,f);return Wc(i,b),h?g=Xc(h[i],b):c},{assign:function(c,e,f){var g=Wc(d(c,f),b),h=Xc(a(c,f),b);return h||a.assign(c,h={},f),h[g]=e}})},functionCall:function(a,b){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var i=b?b(g,h):K(b)?c:g,j=a(g,h,i)||G;if(f)for(var k=d.length;k--;)f[k]=Xc(d[k](g,h),e);Xc(i,e),_c(j,e);var l=j.apply?j.apply(i,f):j(f[0],f[1],f[2],f[3],f[4]);return f&&(f.length=0),Xc(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),D(function(b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e](b,c));return d},{literal:!0,constant:a.every(ed),inputs:a})},object:function(){var a=[],b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.consume();c.constant?a.push(c.value):c.identifier?a.push(c.text):this.throwError("invalid key",c),this.consume(":"),b.push(this.expression())}while(this.expect(","));return this.consume("}"),D(function(c,d){for(var e={},f=0,g=b.length;g>f;f++)e[a[f]]=b[f](c,d);return e},{literal:!0,constant:b.every(ed),inputs:b})}};function gd(a,b,c,d,e){Xc(a,e),Xc(b,e);for(var f,g=c.split("."),h=0;g.length>1;h++){f=Wc(g.shift(),e);var i=0===h&&b&&b[f]||a[f];i||(i={},a[f]=i),a=Xc(i,e)}return f=Wc(g.shift(),e),Xc(a[f],e),a[f]=d,d}var hd=Ja(),id=Ja();function jd(a){return"constructor"==a}function kd(a,b,d,e,f,g,h){Wc(a,g),Wc(b,g),Wc(d,g),Wc(e,g),Wc(f,g);var i=function(a){return Xc(a,g)},j=h||jd(a)?i:H,k=h||jd(b)?i:H,l=h||jd(d)?i:H,m=h||jd(e)?i:H,n=h||jd(f)?i:H;return function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=j(i[a]),b?null==i?c:(i=k(i[b]),d?null==i?c:(i=l(i[d]),e?null==i?c:(i=m(i[e]),f?null==i?c:i=n(i[f]):i):i):i):i)}}function ld(a,b){return function(c,d){return a(c,d,Xc,b)}}function md(a,b,d){var e=b.expensiveChecks,f=e?id:hd,g=f[a];if(g)return g;var h=a.split("."),i=h.length;if(b.csp)g=6>i?kd(h[0],h[1],h[2],h[3],h[4],d,e):function(a,b){var f,g=0;do f=kd(h[g++],h[g++],h[g++],h[g++],h[g++],d,e)(a,b),b=c,a=f;while(i>g);return f};else{var j="";e&&(j+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=e;x(h,function(a,b){Wc(a,d);var c=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(e||jd(a))&&(c="eso("+c+", fe)",k=!0),j+="if(s == null) return undefined;\ns="+c+";\n"}),j+="return s;";
var l=new Function("s","l","eso","fe",j);l.toString=I(j),k&&(l=ld(l,d)),g=l}return g.sharedGetter=!0,g.assign=function(b,c,d){return gd(b,d,a,c,a)},f[a]=g,g}var nd=Object.prototype.valueOf;function od(a){return Q(a.valueOf)?a.valueOf():nd.call(a)}function pd(){var a=Ja(),b=Ja();this.$get=["$filter","$sniffer",function(c,d){var e={csp:d.csp,expensiveChecks:!1},f={csp:d.csp,expensiveChecks:!0};function g(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}return function(d,h,i){var o,p,q;switch(typeof d){case"string":q=d=d.trim();var r=i?b:a;if(o=r[q],!o){":"===d.charAt(0)&&":"===d.charAt(1)&&(p=!0,d=d.substring(2));var s=i?f:e,t=new dd(s),u=new fd(t,c,s);o=u.parse(d),o.constant?o.$$watchDelegate=m:p?(o=g(o),o.$$watchDelegate=o.literal?l:k):o.inputs&&(o.$$watchDelegate=j),r[q]=o}return n(o,h);case"function":return n(d,h);default:return n(G,h)}};function h(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.constant||(e.inputs?h(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function i(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=od(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function j(a,b,c,d){var e,f=d.$$inputs||(d.$$inputs=h(d.inputs,[]));if(1===f.length){var g=i;return f=f[0],a.$watch(function(a){var b=f(a);return i(b,g)||(e=d(a),g=b&&od(b)),e},b,c)}for(var j=[],k=0,l=f.length;l>k;k++)j[k]=i;return a.$watch(function(a){for(var b=!1,c=0,g=f.length;g>c;c++){var h=f[c](a);(b||(b=!i(h,j[c])))&&(j[c]=h&&od(h))}return b&&(e=d(a)),e},b,c)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,Q(b)&&b.apply(this,arguments),K(a)&&d.$$postDigest(function(){K(f)&&e()})},c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,Q(b)&&b.call(this,a,c,d),g(a)&&d.$$postDigest(function(){g(f)&&e()})},c);function g(a){var b=!0;return x(a,function(a){K(a)||(b=!1)}),b}}function m(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){Q(b)&&b.apply(this,arguments),e()},c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==l&&c!==k,e=d?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return K(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==j?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=j,e.inputs=[a]),e}}]}function qd(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return sd(function(b){a.$evalAsync(b)},b)}]}function rd(){this.$get=["$browser","$exceptionHandler",function(a,b){return sd(function(b){a.defer(b)},b)}]}function sd(a,b){var e=d("$q",TypeError);function f(a,b,c){var d=!1;function e(b){return function(c){d||(d=!0,b.call(a,c))}}return[e(b),e(c)]}var g=function(){return new l};function h(){this.$$state={status:0}}h.prototype={then:function(a,b,c){var d=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&k(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return o(b,!0,a)},function(b){return o(b,!1,a)},b)}};function i(a,b){return function(c){b.call(a,c)}}function j(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{Q(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function k(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){j(b)}))}function l(){this.promise=new h,this.resolve=i(this,this.resolve),this.reject=i(this,this.reject),this.notify=i(this,this.notify)}l.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(e("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=f(this,this.$$resolve,this.$$reject);try{(L(a)||Q(a))&&(c=a&&a.then),Q(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,k(this.promise.$$state))}catch(e){d[1](e),b(e)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,k(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(Q(a)?a(c):c)}catch(h){b(h)}}})}};var m=function(a){var b=new l;return b.reject(a),b.promise},n=function(a,b){var c=new l;return b?c.resolve(a):c.reject(a),c.promise},o=function(a,b,c){var d=null;try{Q(c)&&(d=c())}catch(e){return n(e,!1)}return Y(d)?d.then(function(){return n(a,b)},function(a){return n(a,!1)}):n(a,b)},p=function(a,b,c,d){var e=new l;return e.resolve(a),e.promise.then(b,c,d)};function q(a){var b=new l,c=0,d=P(a)?[]:{};return x(a,function(a,e){c++,p(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var r=function s(a){if(!Q(a))throw e("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof s))return new s(a);var b=new l;function c(a){b.resolve(a)}function d(a){b.reject(a)}return a(c,d),b.promise};return r.defer=g,r.reject=m,r.when=p,r.all=q,r}function td(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function ud(){var a=10,b=d("$rootScope"),c=null,e=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,f,g,i){function j(){this.$id=B(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}j.prototype={constructor:j,$new:function(a,b){var c;return b=b||this,a?(c=new j,c.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=B(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),c=new this.$$ChildScope),c.$parent=b,c.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=c,b.$$childTail=c):b.$$childHead=b.$$childTail=c,(a||b!=this)&&c.$on("$destroy",d),c;function d(){c.$$destroyed=!0}},$watch:function(a,b,d){var e=g(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,d,e);var f=this,h=f.$$watchers,i={fn:b,last:r,get:e,exp:a,eq:!!d};return c=null,Q(b)||(i.fn=G),h||(h=f.$$watchers=[]),h.unshift(i),function(){ca(h,i),c=null}},$watchGroup:function(a,b){var c=new Array(a.length),d=new Array(a.length),e=[],f=this,g=!1,h=!0;if(!a.length){var i=!0;return f.$evalAsync(function(){i&&b(d,d,f)}),function(){i=!1}}if(1===a.length)return this.$watch(a[0],function(a,e,f){d[0]=a,c[0]=e,b(d,a===e?d:c,f)});x(a,function(a,b){var h=f.$watch(a,function(a,e){d[b]=a,c[b]=e,g||(g=!0,f.$evalAsync(j))});e.push(h)});function j(){g=!1,h?(h=!1,b(d,d,f)):b(d,c,f)}return function(){for(;e.length;)e.shift()()}},$watchCollection:function(a,b){p.$stateful=!0;var c,d,e,f=this,i=b.length>1,j=0,k=g(a,p),l=[],m={},n=!0,o=0;function p(a){c=a;var b,e,f,g,h;if(!J(c)){if(L(c))if(w(c)){d!==l&&(d=l,o=d.length=0,j++),b=c.length,o!==b&&(j++,d.length=o=b);for(var i=0;b>i;i++)h=d[i],g=c[i],f=h!==h&&g!==g,f||h===g||(j++,d[i]=g)}else{d!==m&&(d=m={},o=0,j++),b=0;for(e in c)c.hasOwnProperty(e)&&(b++,g=c[e],h=d[e],e in d?(f=h!==h&&g!==g,f||h===g||(j++,d[e]=g)):(o++,d[e]=g,j++));if(o>b){j++;for(e in d)c.hasOwnProperty(e)||(o--,delete d[e])}}else d!==c&&(d=c,j++);return j}}function q(){if(n?(n=!1,b(c,c,f)):b(c,e,f),i)if(L(c))if(w(c)){e=new Array(c.length);for(var a=0;a<c.length;a++)e[a]=c[a]}else{e={};for(var d in c)h.call(c,d)&&(e[d]=c[d])}else e=c}return this.$watch(k,q)},$digest:function(){var d,g,h,j,n,q,t,u,v,w,x=a,y=this,z=[];o("$digest"),i.$$checkUrlChange(),this===k&&null!==e&&(i.defer.cancel(e),s()),c=null;do{for(q=!1,u=y;l.length;){try{w=l.shift(),w.scope.$eval(w.expression,w.locals)}catch(A){f(A)}c=null}a:do{if(j=u.$$watchers)for(n=j.length;n--;)try{if(d=j[n])if((g=d.get(u))===(h=d.last)||(d.eq?fa(g,h):"number"==typeof g&&"number"==typeof h&&isNaN(g)&&isNaN(h))){if(d===c){q=!1;break a}}else q=!0,c=d,d.last=d.eq?da(g,null):g,d.fn(g,h===r?g:h,u),5>x&&(v=4-x,z[v]||(z[v]=[]),z[v].push({msg:Q(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,newVal:g,oldVal:h}))}catch(A){f(A)}if(!(t=u.$$childHead||u!==y&&u.$$nextSibling))for(;u!==y&&!(t=u.$$nextSibling);)u=u.$parent}while(u=t);if((q||l.length)&&!x--)throw p(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,z)}while(q||l.length);for(p();m.length;)try{m.shift()()}catch(A){f(A)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==k){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=G,this.$on=this.$watch=this.$watchGroup=function(){return G},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){k.$$phase||l.length||i.defer(function(){l.length&&k.$digest()}),l.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){m.push(a)},$apply:function(a){try{return o("$apply"),this.$eval(a)}catch(b){f(b)}finally{p();try{k.$digest()}catch(b){throw f(b),b}}},$applyAsync:function(a){var b=this;a&&n.push(c),t();function c(){b.$eval(a)}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c,d,e,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=ha([j],arguments,1);do{for(c=h.$$listeners[a]||g,j.currentScope=h,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){f(l)}else c.splice(d,1),d--,e--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,d=c,e=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return g;for(var h,i,j,k=ha([g],arguments,1);d=e;){for(g.currentScope=d,h=d.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(l){f(l)}else h.splice(i,1),i--,j--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return g.currentScope=null,g}};var k=new j,l=k.$$asyncQueue=[],m=k.$$postDigestQueue=[],n=k.$$applyAsyncQueue=[];return k;function o(a){if(k.$$phase)throw b("inprog","{0} already in progress",k.$$phase);k.$$phase=a}function p(){k.$$phase=null}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function r(){}function s(){for(;n.length;)try{n.shift()()}catch(a){f(a)}e=null}function t(){null===e&&(e=i.defer(function(){k.$apply(s)}))}}]}function vd(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return K(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return K(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Id(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}var wd=d("$sce"),xd={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function yd(a){if("self"===a)return a;if(M(a)){if(a.indexOf("***")>-1)throw wd("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=$(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(R(a))return new RegExp("^"+a.source+"$");throw wd("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function zd(a){var b=[];return K(a)&&x(a,function(a){b.push(yd(a))}),b}function Ad(){this.SCE_CONTEXTS=xd;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=zd(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=zd(a)),b},this.$get=["$injector",function(d){var e=function(a){throw wd("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(e=d.get("$sanitize"));function f(a,b){return"self"===a?Jd(b):!!a.exec(b.href)}function g(c){var d,e,g=Id(c.toString()),h=!1;for(d=0,e=a.length;e>d;d++)if(f(a[d],g)){h=!0;break}if(h)for(d=0,e=b.length;e>d;d++)if(f(b[d],g)){h=!1;break}return h}function h(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var i=h(),j={};j[xd.HTML]=h(i),j[xd.CSS]=h(i),j[xd.URL]=h(i),j[xd.JS]=h(i),j[xd.RESOURCE_URL]=h(j[xd.URL]);function k(a,b){var d=j.hasOwnProperty(a)?j[a]:null;if(!d)throw wd("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw wd("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function l(a){return a instanceof i?a.$$unwrapTrustedValue():a}function m(a,b){if(null===b||b===c||""===b)return b;var d=j.hasOwnProperty(a)?j[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===xd.RESOURCE_URL){if(g(b))return b;throw wd("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===xd.HTML)return e(b);throw wd("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:k,getTrusted:m,valueOf:l}}]}function Bd(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>l)throw wd("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=ea(xd);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=H),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,f=d.getTrusted,h=d.trustAs;return x(xd,function(a,b){var c=g(b);d[bb("parse_as_"+c)]=function(b){return e(a,b)},d[bb("get_trusted_"+c)]=function(b){return f(a,b)},d[bb("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function Cd(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=E((/android (\d+)/.exec(g((a.navigator||{}).userAgent))||[])[1]),h=/Boxee/i.test((a.navigator||{}).userAgent),i=b[0]||{},j=/^(Moz|webkit|ms)(?=[A-Z])/,k=i.body&&i.body.style,m=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),m=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||m&&n||(m=M(i.body.style.webkitTransition),n=M(i.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||h),hasEvent:function(a){if("input"===a&&11>=l)return!1;if(J(e[a])){var b=i.createElement("div");e[a]="on"+a in b}return e[a]},csp:ga(),vendorPrefix:c,transitions:m,animations:n,android:f}}]}var _b=d("$compile");function Dd(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){d.totalPendingRequests++;var g=b.defaults&&b.defaults.transformResponse;P(g)?g=g.filter(function(a){return a!==oc}):g===oc&&(g=null);var h={cache:a,transformResponse:g};return b.get(e,h)["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},i);function i(a){if(!f)throw _b("tpload","Failed to load template: {0}",e);return c.reject(a)}}return d.totalPendingRequests=0,d}]}function Ed(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return x(d,function(a){var d=u.element(a).data("$binding");d&&x(d,function(d){if(c){var f=new RegExp("(^|\\s)"+$(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function Fd(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){var f={};function g(g,h,i){var j,k=K(i)&&!i,l=(k?d:c).defer(),m=l.promise;return j=b.defer(function(){try{l.resolve(g())}catch(b){l.reject(b),e(b)}finally{delete f[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=j,f[j]=l,m}return g.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},g}]}var Gd=b.createElement("a"),Hd=Id(a.location.href);function Id(a){var b=a;return l&&(Gd.setAttribute("href",b),b=Gd.href),Gd.setAttribute("href",b),{href:Gd.href,protocol:Gd.protocol?Gd.protocol.replace(/:$/,""):"",host:Gd.host,search:Gd.search?Gd.search.replace(/^\?/,""):"",hash:Gd.hash?Gd.hash.replace(/^#/,""):"",hostname:Gd.hostname,port:Gd.port,pathname:"/"===Gd.pathname.charAt(0)?Gd.pathname:"/"+Gd.pathname}}function Jd(a){var b=M(a)?Id(a):a;return b.protocol===Hd.protocol&&b.host===Hd.host}function Kd(){this.$get=I(a)}Ld.$inject=["$provide"];function Ld(a){var b="Filter";function c(d,e){if(L(d)){var f={};return x(d,function(a,b){f[b]=c(b,a)}),f}return a.factory(d+b,e)}this.register=c,this.$get=["$injector",function(a){return function(c){return a.get(c+b)}}],c("currency",Pd),c("date",ce),c("filter",Md),c("json",de),c("limitTo",ge),c("lowercase",ee),c("number",Qd),c("orderBy",he),c("uppercase",fe)}function Md(){return function(a,b,c){if(!P(a))return a;var d,e;switch(typeof b){case"function":d=b;break;case"boolean":case"number":case"string":e=!0;case"object":d=Nd(b,c,e);break;default:return a}return a.filter(d)}}function Nd(a,b,c){var d,e=L(a)&&"$"in a;return b===!0?b=fa:Q(b)||(b=function(a,b){return L(a)||L(b)?!1:(a=g(""+a),b=g(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!L(d)?Od(d,a.$,b,!1):Od(d,a,b,c)}}function Od(a,b,c,d,e){var f=typeof a,g=typeof b;if("string"===g&&"!"===b.charAt(0))return!Od(a,b.substring(1),c,d);if(P(a))return a.some(function(a){return Od(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Od(a[h],b,c,!0))return!0;return e?!1:Od(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!Q(i)){var j="$"===h,k=j?a:a[h];if(!Od(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}Pd.$inject=["$locale"];function Pd(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return J(c)&&(c=b.CURRENCY_SYM),J(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Sd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}Qd.$inject=["$locale"];function Qd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Sd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}var Rd=".";function Sd(a,b,c,d,e){if(!isFinite(a)||L(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?a=0:(h=g,j=!0)}if(j)e>0&&1>a&&(h=a.toFixed(e),a=parseFloat(h));else{var l=(g.split(Rd)[1]||"").length;J(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(Rd),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,r=b.gSize;if(n.length>=q+r)for(p=n.length-q,o=0;p>o;o++)(p-o)%r===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return 0===a&&(f=!1),i.push(f?b.negPre:b.posPre,h,f?b.negSuf:b.posSuf),i.join("")}function Td(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Ud(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Td(f,b,d)}}function Vd(a,b){return function(c,d){var e=c["get"+a](),f=i(b?"SHORT"+a:a);return d[f][e]}}function Wd(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Td(Math[b>0?"floor":"ceil"](b/60),2)+Td(Math.abs(b%60),2)}function Xd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Yd(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Zd(a){return function(b){var c=Xd(b.getFullYear()),d=Yd(b),e=+d-+c,f=1+Math.round(e/6048e5);return Td(f,a)}}function $d(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}var _d={yyyy:Ud("FullYear",4),yy:Ud("FullYear",2,0,!0),y:Ud("FullYear",1),MMMM:Vd("Month"),MMM:Vd("Month",!0),MM:Ud("Month",2,1),M:Ud("Month",1,1),dd:Ud("Date",2),d:Ud("Date",1),HH:Ud("Hours",2),H:Ud("Hours",1),hh:Ud("Hours",2,-12),h:Ud("Hours",1,-12),mm:Ud("Minutes",2),m:Ud("Minutes",1),ss:Ud("Seconds",2),s:Ud("Seconds",1),sss:Ud("Milliseconds",3),EEEE:Vd("Day"),EEE:Vd("Day",!0),a:$d,Z:Wd,ww:Zd(2),w:Zd(1)},ae=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,be=/^\-?\d+$/;ce.$inject=["$locale"];function ce(a){var b=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function c(a){var c;if(c=a.match(b)){var d=new Date(0),e=0,f=0,g=c[8]?d.setUTCFullYear:d.setFullYear,h=c[8]?d.setUTCHours:d.setHours;c[9]&&(e=E(c[9]+c[10]),f=E(c[9]+c[11])),g.call(d,E(c[1]),E(c[2])-1,E(c[3]));var i=E(c[4]||0)-e,j=E(c[5]||0)-f,k=E(c[6]||0),l=Math.round(1e3*parseFloat("0."+(c[7]||0)));return h.call(d,i,j,k,l),d}return a}return function(b,d,e){var f,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,M(b)&&(b=be.test(b)?E(b):c(b)),N(b)&&(b=new Date(b)),!O(b))return b;for(;d;)g=ae.exec(d),g?(i=ha(i,g,1),d=i.pop()):(i.push(d),d=null);return e&&"UTC"===e&&(b=new Date(b.getTime()),b.setMinutes(b.getMinutes()+b.getTimezoneOffset())),x(i,function(c){f=_d[c],h+=f?f(b,a.DATETIME_FORMATS):c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function de(){return function(a,b){return J(b)&&(b=2),la(a,b)}}var ee=I(g),fe=I(i);function ge(){return function(a,b){return N(a)&&(a=a.toString()),P(a)||M(a)?(b=Math.abs(Number(b))===1/0?Number(b):E(b),b?b>0?a.slice(0,b):a.slice(b):M(a)?"":[]):a}}he.$inject=["$parse"];function he(a){return function(b,c,d){return w(b)?(c=P(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||H;if(M(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return f(i,c);if(d=a(b),d.constant){var e=d();return f(function(a,b){return i(a[e],b[e])},c)}}return f(function(a,b){return i(d(a),d(b))},c)}),p.call(b).sort(f(e,d))):b;function e(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function f(a,b){return b?function(b,c){return a(c,b)}:a}function g(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function h(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),g(a))?a:"function"==typeof a.toString&&(a=a.toString(),g(a))?a:""}function i(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=h(a),b=h(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}}}function ie(a){return Q(a)&&(a={link:a}),a.restrict=a.restrict||"AC",I(a)}var je=I({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref||b.name?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===s.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),ke={};x(Cb,function(a,b){if("multiple"!=a){var c=cc("ng-"+b);ke[c]=function(){return{restrict:"A",priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),x(Eb,function(a,b){ke[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var f=d.ngPattern.match(e);if(f)return void d.$set("ngPattern",new RegExp(f[1],f[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),x(["src","srcset","href"],function(a){var b=cc("ng-"+a);ke[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===s.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(l&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var le={$addControl:G,$$renameControl:ne,$removeControl:G,$setValidity:G,$setDirty:G,$setPristine:G,$setSubmitted:G},me="ng-submitted";function ne(a,b){a.$name=b}oe.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function oe(a,b,d,e,f){var g=this,h=[],i=g.$$parentForm=a.parent().controller("form")||le;g.$error={},g.$$success={},g.$pending=c,g.$name=f(b.name||b.ngForm||"")(d),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,i.$addControl(g),g.$rollbackViewValue=function(){x(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){x(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){Ga(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a)},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],x(g.$pending,function(b,c){g.$setValidity(c,null,a)}),x(g.$error,function(b,c){g.$setValidity(c,null,a)}),x(g.$$success,function(b,c){g.$setValidity(c,null,a)}),ca(h,a)},uf({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(ca(d,c),0===d.length&&delete a[b])},parentForm:i,$animate:e}),g.$setDirty=function(){e.removeClass(a,kf),e.addClass(a,lf),g.$dirty=!0,g.$pristine=!1,i.$setDirty()},g.$setPristine=function(){e.setClass(a,kf,lf+" "+me),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,x(h,function(a){a.$setPristine()})},g.$setUntouched=function(){x(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,me),g.$submitted=!0,i.$setSubmitted()}}var pe=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:oe,compile:function(a){return a.addClass(kf).addClass(hf),{pre:function(a,d,e,f){if(!("action"in e)){var g=function(b){a.$apply(function(){f.$commitViewValue(),f.$setSubmitted()}),b.preventDefault()};Wa(d[0],"submit",g),d.on("$destroy",function(){b(function(){Xa(d[0],"submit",g)},0,!1)})}var h=f.$$parentForm,i=f.$name;i&&(gd(a,null,i,f,i),e.$observe(e.name?"name":"ngForm",function(b){i!==b&&(gd(a,null,i,c,i),i=b,gd(a,null,i,f,i),h.$$renameControl(f,i))})),d.on("$destroy",function(){h.$removeControl(f),i&&gd(a,null,i,c,i),D(f,le)})}}}};return d}]},qe=pe(),re=pe(!0),se=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,te=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ue=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ve=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,we=/^(\d{4})-(\d{2})-(\d{2})$/,xe=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ye=/^(\d{4})-W(\d\d)$/,ze=/^(\d{4})-(\d\d)$/,Ae=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Be={text:De,date:He("date",we,Ge(we,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":He("datetimelocal",xe,Ge(xe,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:He("time",Ae,Ge(Ae,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:He("week",ye,Fe,"yyyy-Www"),month:He("month",ze,Ge(ze,["yyyy","MM"]),"yyyy-MM"),number:Je,url:Ke,email:Le,radio:Me,checkbox:Oe,hidden:G,button:G,submit:G,reset:G,file:G};function Ce(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function De(a,b,c,d,e,f){Ee(a,b,c,d,e,f),Ce(d)}function Ee(a,b,c,d,e,f){var h=g(b[0].type);if(!e.android){var i=!1;b.on("compositionstart",function(a){i=!0}),b.on("compositionend",function(){i=!1,j()})}var j=function(a){if(k&&(f.defer.cancel(k),k=null),!i){var e=b.val(),g=a&&a.type;"password"===h||c.ngTrim&&"false"===c.ngTrim||(e=Z(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,g)}};if(e.hasEvent("input"))b.on("input",j);else{var k,l=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||l(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",l)}b.on("change",j),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Fe(a,b){if(O(a))return a;if(M(a)){ye.lastIndex=0;var c=ye.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Xd(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function Ge(a,b){return function(c,d){var e,f;if(O(c))return c;if(M(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),se.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},x(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function He(a,b,d,e){return function(f,g,h,i,j,k,l){Ie(f,g,h,i),Ee(f,g,h,i,j,k);var m,n=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,m);return"UTC"===n&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return c}),i.$formatters.push(function(a){if(a&&!O(a))throw pf("datefmt","Expected `{0}` to be a date",a);if(q(a)){if(m=a,m&&"UTC"===n){var b=6e4*m.getTimezoneOffset();m=new Date(m.getTime()+b)}return l("date")(a,e,n)}return m=null,""}),K(h.min)||h.ngMin){var o;i.$validators.min=function(a){return!q(a)||J(o)||d(a)>=o},h.$observe("min",function(a){o=r(a),i.$validate()})}if(K(h.max)||h.ngMax){var p;i.$validators.max=function(a){return!q(a)||J(p)||d(a)<=p},h.$observe("max",function(a){p=r(a),i.$validate()})}function q(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function r(a){return K(a)?O(a)?a:d(a):c}}}function Ie(a,b,d,e){var g=b[0],h=e.$$hasNativeValidators=L(g.validity);h&&e.$parsers.push(function(a){var d=b.prop(f)||{};return d.badInput&&!d.typeMismatch?c:a})}function Je(a,b,d,e,f,g){if(Ie(a,b,d,e),Ee(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:ve.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!N(a))throw pf("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),d.min||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||J(h)||a>=h},d.$observe("min",function(a){K(a)&&!N(a)&&(a=parseFloat(a,10)),h=N(a)&&!isNaN(a)?a:c,
e.$validate()})}if(d.max||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||J(i)||i>=a},d.$observe("max",function(a){K(a)&&!N(a)&&(a=parseFloat(a,10)),i=N(a)&&!isNaN(a)?a:c,e.$validate()})}}function Ke(a,b,c,d,e,f){Ee(a,b,c,d,e,f),Ce(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||te.test(c)}}function Le(a,b,c,d,e,f){Ee(a,b,c,d,e,f),Ce(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||ue.test(c)}}function Me(a,b,c,d){J(c.name)&&b.attr("name",B());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function Ne(a,b,c,e,f){var g;if(K(e)){if(g=a(e),!g.constant)throw d("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,e);return g(b)}return f}function Oe(a,b,c,d,e,f,g,h){var i=Ne(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Ne(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return fa(a,i)}),d.$parsers.push(function(a){return a?i:j})}var Pe=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,h,i){i[0]&&(Be[g(h.type)]||Be.text)(e,f,h,i[0],b,a,c,d)}}}}],Qe=/^(true|false|\d+)$/,Re=function(){return{restrict:"A",priority:100,compile:function(a,b){return Qe.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Se=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],Te=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],Ue=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Ve=I({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}});function We(a,b){return a="ngClass"+a,["$animate",function(c){return{restrict:"AC",link:function(f,g,h){var i;f.$watch(h[a],n,!0),h.$observe("class",function(b){n(f.$eval(h[a]))}),"ngClass"!==a&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var i=e(f.$eval(h[a]));g===b?j(i):k(i)}});function j(a){var b=l(a,1);h.$addClass(b)}function k(a){var b=l(a,-1);h.$removeClass(b)}function l(a,b){var c=g.data("$classCounts")||{},d=[];return x(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(g,e),f&&f.length&&c.removeClass(g,f)}function n(a){if(b===!0||f.$index%2===b){var c=e(a||[]);if(i){if(!fa(a,i)){var d=e(i);m(d,c)}}else j(c)}i=ea(a)}}};function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(P(a))return a;if(M(a))return a.split(" ");if(L(a)){var b=[];return x(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}}]}var Xe=We("",!0),Ye=We("Odd",0),Ze=We("Even",1),$e=ie({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),_e=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],af={},bf={blur:!0,focus:!0};x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=cc("ng-"+a);af[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};bf[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var cf=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=Ia(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],df=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:u.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,q=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!K(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a;var i=l(b,function(a){q(),c.enter(a,null,f).then(g)});m=b,o=i,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(q(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(q(),k.template=null)})}}}}],ef=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(jb(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],ff=ie({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),gf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var f=b.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?Z(f):f,i=function(a){if(!J(a)){var b=[];return a&&x(a.split(h),function(a){a&&b.push(g?Z(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return P(a)?a.join(f):c}),e.$isEmpty=function(a){return!a||!a.length}}}},hf="ng-valid",jf="ng-invalid",kf="ng-pristine",lf="ng-dirty",mf="ng-untouched",nf="ng-touched",of="ng-pending",pf=new d("ngModel"),qf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=k(d.name||"",!1)(a);var l=f(d.ngModel),m=l.assign,n=l,o=m,p=null,q=this;this.$$setOptions=function(a){if(q.$options=a,a&&a.getterSetter){var b=f(d.ngModel+"()"),c=f(d.ngModel+"($$$p)");n=function(a){var c=l(a);return Q(c)&&(c=b(a)),c},o=function(a,b){Q(l(a))?c(a,{$$$p:q.$modelValue}):m(a,q.$modelValue)}}else if(!l.assign)throw pf("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,na(e))},this.$render=G,this.$isEmpty=function(a){return J(a)||""===a||null===a||a!==a};var r=e.inheritedData("$formController")||le,s=0;uf({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:r,$animate:g}),this.$setPristine=function(){q.$dirty=!1,q.$pristine=!0,g.removeClass(e,lf),g.addClass(e,kf)},this.$setDirty=function(){q.$dirty=!0,q.$pristine=!1,g.removeClass(e,kf),g.addClass(e,lf),r.$setDirty()},this.$setUntouched=function(){q.$touched=!1,q.$untouched=!0,g.setClass(e,mf,nf)},this.$setTouched=function(){q.$touched=!0,q.$untouched=!1,g.setClass(e,nf,mf)},this.$rollbackViewValue=function(){h.cancel(p),q.$viewValue=q.$$lastCommittedViewValue,q.$render()},this.$validate=function(){if(!N(q.$modelValue)||!isNaN(q.$modelValue)){var a=q.$$lastCommittedViewValue,b=q.$$rawModelValue,d=q.$$parserName||"parse",e=q.$error[d]?!1:c,f=q.$valid,g=q.$modelValue,h=q.$options&&q.$options.allowInvalid;q.$$runValidators(e,b,a,function(a){h||f===a||(q.$modelValue=a?b:c,q.$modelValue!==g&&q.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d,e){s++;var f=s;if(!g(a))return void l(!1);if(!h())return void l(!1);i();function g(a){var b=q.$$parserName||"parse";if(a===c)k(b,null);else if(k(b,a),!a)return x(q.$validators,function(a,b){k(b,null)}),x(q.$asyncValidators,function(a,b){k(b,null)}),!1;return!0}function h(){var a=!0;return x(q.$validators,function(c,e){var f=c(b,d);a=a&&f,k(e,f)}),a?!0:(x(q.$asyncValidators,function(a,b){k(b,null)}),!1)}function i(){var a=[],e=!0;x(q.$asyncValidators,function(f,g){var h=f(b,d);if(!Y(h))throw pf("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);k(g,c),a.push(h.then(function(){k(g,!0)},function(a){e=!1,k(g,!1)}))}),a.length?j.all(a).then(function(){l(e)},G):l(!0)}function k(a,b){f===s&&q.$setValidity(a,b)}function l(a){f===s&&e(a)}},this.$commitViewValue=function(){var a=q.$viewValue;h.cancel(p),(q.$$lastCommittedViewValue!==a||""===a&&q.$$hasNativeValidators)&&(q.$$lastCommittedViewValue=a,q.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=q.$$lastCommittedViewValue,d=b,e=J(d)?c:!0;if(e)for(var f=0;f<q.$parsers.length;f++)if(d=q.$parsers[f](d),J(d)){e=!1;break}N(q.$modelValue)&&isNaN(q.$modelValue)&&(q.$modelValue=n(a));var g=q.$modelValue,h=q.$options&&q.$options.allowInvalid;q.$$rawModelValue=d,h&&(q.$modelValue=d,i()),q.$$runValidators(e,d,q.$$lastCommittedViewValue,function(a){h||(q.$modelValue=a?d:c,i())});function i(){q.$modelValue!==g&&q.$$writeModelToScope()}},this.$$writeModelToScope=function(){o(a,q.$modelValue),x(q.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){q.$viewValue=a,(!q.$options||q.$options.updateOnDefault)&&q.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=q.$options;e&&K(e.debounce)&&(c=e.debounce,N(c)?d=c:N(c[b])?d=c[b]:N(c["default"])&&(d=c["default"])),h.cancel(p),d?p=h(function(){q.$commitViewValue()},d):i.$$phase?q.$commitViewValue():a.$apply(function(){q.$commitViewValue()})},a.$watch(function(){var b=n(a);if(b!==q.$modelValue){q.$modelValue=q.$$rawModelValue=b;for(var d=q.$formatters,e=d.length,f=b;e--;)f=d[e](f);q.$viewValue!==f&&(q.$viewValue=q.$$lastCommittedViewValue=f,q.$render(),q.$$runValidators(c,b,f,G))}return b})}],rf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:qf,priority:1,compile:function(b){return b.addClass(kf).addClass(mf).addClass(hf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||le;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],sf=/(\s+|^)default(\s+|$)/,tf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=a.$eval(b.ngModelOptions),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=Z(this.$options.updateOn.replace(sf,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function uf(a){var b=a.ctrl,d=a.$element,e={},f=a.set,g=a.unset,h=a.parentForm,i=a.$animate;e[jf]=!(e[hf]=d.hasClass(hf)),b.$setValidity=j;function j(a,d,e){d===c?k("$pending",a,e):l("$pending",a,e),X(d)?d?(g(b.$error,a,e),f(b.$$success,a,e)):(f(b.$error,a,e),g(b.$$success,a,e)):(g(b.$error,a,e),g(b.$$success,a,e)),b.$pending?(m(of,!0),b.$valid=b.$invalid=c,n("",null)):(m(of,!1),b.$valid=vf(b.$error),b.$invalid=!b.$valid,n("",b.$valid));var i;i=b.$pending&&b.$pending[a]?c:b.$error[a]?!1:b.$$success[a]?!0:null,n(a,i),h.$setValidity(a,i,b)}function k(a,c,d){b[a]||(b[a]={}),f(b[a],c,d)}function l(a,d,e){b[a]&&g(b[a],d,e),vf(b[a])&&(b[a]=c)}function m(a,b){b&&!e[a]?(i.addClass(d,a),e[a]=!0):!b&&e[a]&&(i.removeClass(d,a),e[a]=!1)}function n(a,b){a=a?"-"+Aa(a,"-"):"",m(hf+a,b===!0),m(jf+a,b===!1)}}function vf(a){if(a)for(var b in a)return!1;return!0}var wf=ie({terminal:!0,priority:1e3}),xf=["$locale","$interpolate",function(a,b){var c=/{}/g,d=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(e,f,h){var i,j=h.count,k=h.$attr.when&&f.attr(h.$attr.when),l=h.offset||0,m=e.$eval(k)||{},n={},o=b.startSymbol(),p=b.endSymbol(),q=o+j+"-"+l+p,r=u.noop;x(h,function(a,b){var c=d.exec(b);if(c){var e=(c[1]?"-":"")+g(c[2]);m[e]=f.attr(h.$attr[b])}}),x(m,function(a,d){n[d]=b(a.replace(c,q))}),e.$watch(j,function(b){var c=parseFloat(b),d=isNaN(c);d||c in m||(c=a.pluralCat(c-l)),c===i||d&&isNaN(i)||(r(),r=e.$watch(n[c],s),i=c)});function s(a){f.text(a||"")}}}}],yf=["$parse","$animate",function(a,e){var f="$$NG_REMOVED",g=d("ngRepeat"),h=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},i=function(a){return a.clone[0]},j=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,k){var l=k.ngRepeat,n=b.createComment(" end ngRepeat: "+l+" "),o=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw g("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);var p=o[1],q=o[2],r=o[3],s=o[4];if(o=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!o)throw g("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw g("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,y,z,A,B={$id:Jb};return s?v=a(s):(z=function(a,b){return Jb(b)},A=function(a){return a}),function(a,b,d,k,o){v&&(y=function(b,c,d){return u&&(B[u]=b),B[t]=c,B.$index=d,v(a,B)});var p=Ja();a.$watchCollection(q,function(d){var k,q,s,v,B,C,D,E,F,G,H,I,J=b[0],K=Ja();if(r&&(a[r]=d),w(d))F=d,E=y||z;else{E=y||A,F=[];for(var L in d)d.hasOwnProperty(L)&&"$"!=L.charAt(0)&&F.push(L);F.sort()}for(v=F.length,H=new Array(v),k=0;v>k;k++)if(B=d===F?k:F[k],C=d[B],D=E(B,C,k),p[D])G=p[D],delete p[D],K[D]=G,H[k]=G;else{if(K[D])throw x(H,function(a){a&&a.scope&&(p[a.id]=a)}),g("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",l,D,C);H[k]={id:D,scope:c,clone:c},K[D]=!0}for(var M in p){if(G=p[M],I=Ia(G.clone),e.leave(I),I[0].parentNode)for(k=0,q=I.length;q>k;k++)I[k][f]=!0;G.scope.$destroy()}for(k=0;v>k;k++)if(B=d===F?k:F[k],C=d[B],G=H[k],G.scope){s=J;do s=s.nextSibling;while(s&&s[f]);i(G)!=s&&e.move(Ia(G.clone),null,m(J)),J=j(G),h(G.scope,k,t,C,u,B,v)}else o(function(a,b){G.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,m(J)),J=c,G.clone=a,K[G.id]=G,h(G.scope,k,t,C,u,B,v)});p=K})}}}}],zf="ng-hide",Af="ng-hide-animate",Bf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,zf,{tempClasses:Af})})}}}],Cf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,zf,{tempClasses:Af})})}}}],Df=ie(function(a,b,c){a.$watchCollection(c.ngStyle,function(a,c){c&&a!==c&&x(c,function(a,c){b.css(c,"")}),a&&b.css(a)})}),Ef=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=e.ngSwitch||e.on,h=[],i=[],j=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};c.$watch(g,function(c){var d,e;for(d=0,e=j.length;e>d;++d)a.cancel(j[d]);for(j.length=0,d=0,e=k.length;e>d;++d){var g=Ia(i[d].clone);k[d].$destroy();var m=j[d]=a.leave(g);m.then(l(j,d))}i.length=0,k.length=0,(h=f.cases["!"+c]||f.cases["?"])&&x(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};i.push(g),a.enter(d,f.parent(),f)})})})}}}],Ff=ie({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Gf=ie({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Hf=ie({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",na(b));f(function(a){b.empty(),b.append(a)})}}),If=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Jf=d("ngOptions"),Kf=I({restrict:"A",terminal:!0}),Lf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,f={$setViewValue:G};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,g=this,h={},i=f;g.databound=c.ngModel,g.init=function(a,b,c){i=a,d=b,e=c},g.addOption=function(b,c){Ga(b,'"option value"'),h[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove()),c&&c[0].hasAttribute("selected")&&(c[0].selected=!0)},g.removeOption=function(a){this.hasOption(a)&&(delete h[a],i.$viewValue===a&&this.renderUnknownOption(a))},g.renderUnknownOption=function(b){var c="? "+Jb(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},g.hasOption=function(a){return h.hasOwnProperty(a)},b.$on("$destroy",function(){g.renderUnknownOption=G})}],link:function(f,g,h,i){if(i[1]){for(var j,k=i[0],n=i[1],o=h.multiple,p=h.ngOptions,q=!1,r=!1,s=m(b.createElement("option")),t=m(b.createElement("optgroup")),u=s.clone(),v=0,w=g.children(),z=w.length;z>v;v++)if(""===w[v].value){j=q=w.eq(v);break}k.init(n,q,u),o&&(n.$isEmpty=function(a){return!a||0===a.length}),p?C(f,g,n):o?B(f,g,n):A(f,g,n,k);function A(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(u.parent()&&u.remove(),b.val(a),""===a&&j.prop("selected",!0)):J(a)&&j?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){u.parent()&&u.remove(),c.$setViewValue(b.val())})})}function B(a,b,c){var d;c.$render=function(){var a=new Kb(c.$viewValue);x(b.find("option"),function(b){b.selected=K(a.get(b.value))})},a.$watch(function(){fa(d,c.$viewValue)||(d=ea(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];x(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function C(b,f,g){var h;if(!(h=p.match(e)))throw Jf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",p,na(f));var i=d(h[2]||h[1]),j=h[4]||h[6],m=/ as /.test(h[0])&&h[1],n=m?d(m):null,u=h[5],v=d(h[3]||""),w=d(h[2]?h[1]:j),z=d(h[7]),A=h[8],B=A?d(h[8]):null,C={},D=[[{element:f,label:""}]],E={};q&&(a(q)(b),q.removeClass("ng-scope"),q.remove()),f.empty(),f.on("change",G),g.$render=N,b.$watchCollection(z,L),b.$watchCollection(I,L),o&&b.$watchCollection(function(){return g.$modelValue},L);function F(a,c,d){return E[j]=d,u&&(E[u]=c),a(b,E)}function G(){b.$apply(function(){var a,c=z(b)||[];if(o)a=[],x(f.val(),function(b){b=B?C[b]:b,a.push(H(b,c[b]))});else{var d=B?C[f.val()]:f.val();a=H(d,c[d])}g.$setViewValue(a),N()})}function H(a,b){if("?"===a)return c;if(""===a)return null;var d=n?n:w;return F(d,a,b)}function I(){var a,c=z(b);if(c&&P(c)){a=new Array(c.length);for(var d=0,e=c.length;e>d;d++)a[d]=F(i,d,c[d]);return a}if(c){a={};for(var f in c)c.hasOwnProperty(f)&&(a[f]=F(i,f,c[f]))}return a}function J(a){var b;if(o)if(B&&P(a)){b=new Kb([]);for(var c=0;c<a.length;c++)b.put(F(B,null,a[c]),!0)}else b=new Kb(a);else B&&(a=F(B,null,a));return function(c,d){var e;return e=B?B:n?n:w,o?K(b.remove(F(e,c,d))):a===F(e,c,d)}}function L(){r||(b.$$postDigest(N),r=!0)}function M(a,b,c){a[b]=a[b]||0,a[b]+=c?1:-1}function N(){r=!1;var a,c,d,e,h,j,m,n,p,w,A,G,H,I,L,N,O,P={"":[]},Q=[""],R=g.$viewValue,S=z(b)||[],T=u?y(S):S,U={},V=J(R),W=!1;for(C={},G=0;w=T.length,w>G;G++)m=G,u&&(m=T[G],"$"===m.charAt(0))||(n=S[m],a=F(v,m,n)||"",(c=P[a])||(c=P[a]=[],Q.push(a)),H=V(m,n),W=W||H,N=F(i,m,n),N=K(N)?N:"",O=B?B(b,E):u?T[G]:G,B&&(C[O]=m),c.push({id:O,label:N,selected:H}));for(o||(q||null===R?P[""].unshift({id:"",label:"",selected:!W}):W||P[""].unshift({id:"?",label:"",selected:!0})),A=0,p=Q.length;p>A;A++){for(a=Q[A],c=P[a],D.length<=A?(e={element:t.clone().attr("label",a),label:c.label},h=[e],D.push(h),f.append(e.element)):(h=D[A],e=h[0],e.label!=a&&e.element.attr("label",e.label=a)),I=null,G=0,w=c.length;w>G;G++)d=c[G],(j=h[G+1])?(I=j.element,j.label!==d.label&&(M(U,j.label,!1),M(U,d.label,!0),I.text(j.label=d.label),I.prop("label",j.label)),j.id!==d.id&&I.val(j.id=d.id),I[0].selected!==d.selected&&(I.prop("selected",j.selected=d.selected),l&&I.prop("selected",j.selected))):(""===d.id&&q?L=q:(L=s.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),h.push(j={element:L,label:d.label,id:d.id,selected:d.selected}),M(U,d.label,!0),I?I.after(L):e.element.append(L),I=L);for(G++;h.length>G;)d=h.pop(),M(U,d.label,!1),d.element.remove()}for(;D.length>A;){for(c=D.pop(),G=1;G<c.length;++G)M(U,c[G].label,!1);c[0].element.remove()}x(U,function(a,b){a>0?k.addOption(b):0>a&&k.removeOption(b)})}}}}}}],Mf=["$interpolate",function(a){var b={addOption:G,removeOption:G};return{restrict:"E",priority:100,compile:function(c,d){if(J(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound||(h=b),e?a.$watch(e,function(a,b){d.$set("value",a),b!==a&&h.removeOption(b),h.addOption(a,c)}):h.addOption(d.value,c),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Nf=I({restrict:"E",terminal:!1}),Of=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Pf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(M(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,na(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||J(g)||g.test(a)}}}}},Qf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=E(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Rf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=E(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(Da(),Ta(u),void m(b).ready(function(){va(b,wa)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(){var a={};!function(a){var b="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",c="------------------------------------------------------------------------------------------------------------------------------------------",d=new RegExp("["+b+"]"),e=new RegExp("["+b+c+"]");a.isIdentifierStart=function(a){return 64===a?!0:65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&d.test(String.fromCharCode(a))},a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:64===a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&e.test(String.fromCharCode(a))}}(a);function b(a,b){var d=new c(a,b);return d.beautify()}function c(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D="";n="\n\r	 ".split(""),o="@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),t="0123456789".split(""),p="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>",p+=" <%= <% %> <?= <? ?>",p+=" ->",p=p.split(" "),r="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield".split(","),s=r.concat(["do","in","else","get","set","new","catch","finally","typeof"]),B={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},A={TK_START_EXPR:fa,TK_END_EXPR:ga,TK_START_BLOCK:ha,TK_END_BLOCK:ia,TK_WORD:ja,TK_RESERVED:ja,TK_SEMICOLON:ka,TK_STRING:la,TK_EQUALS:ma,TK_OPERATOR:oa,TK_COMMA:na,TK_BLOCK_COMMENT:pa,TK_INLINE_COMMENT:qa,TK_COMMENT:ra,TK_DOT:sa,TK_UNKNOWN:ta};function E(a,b){var c=0;a&&(c=a.indentation_level,!K()&&a.line_indent_level>c&&(c=a.line_indent_level));var d={mode:b,parent:a,last_text:a?a.last_text:"",last_word:a?a.last_word:"",declaration_statement:!1,declaration_assignment:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:c,line_indent_level:a?a.line_indent_level:c,start_line_index:e.length,had_comment:!1,ternary_depth:0};return d}function F(){return{text:[]}}for(c=c?c:{},C={},void 0!==c.space_after_anon_function&&void 0===c.jslint_happy&&(c.jslint_happy=c.space_after_anon_function),void 0!==c.braces_on_own_line&&(C.brace_style=c.braces_on_own_line?"expand":"collapse"),C.brace_style=c.brace_style?c.brace_style:C.brace_style?C.brace_style:"collapse","expand-strict"===C.brace_style&&(C.brace_style="expand"),C.indent_size=c.indent_size?parseInt(c.indent_size,10):4,C.indent_char=c.indent_char?c.indent_char:" ",C.preserve_newlines=void 0===c.preserve_newlines?!0:c.preserve_newlines,C.break_chained_methods=void 0===c.break_chained_methods?!1:c.break_chained_methods,C.max_preserve_newlines=void 0===c.max_preserve_newlines?0:parseInt(c.max_preserve_newlines,10),C.space_in_paren=void 0===c.space_in_paren?!1:c.space_in_paren,C.space_in_empty_paren=void 0===c.space_in_empty_paren?!1:c.space_in_empty_paren,C.jslint_happy=void 0===c.jslint_happy?!1:c.jslint_happy,C.keep_array_indentation=void 0===c.keep_array_indentation?!1:c.keep_array_indentation,C.space_before_conditional=void 0===c.space_before_conditional?!0:c.space_before_conditional,C.unescape_strings=void 0===c.unescape_strings?!1:c.unescape_strings,C.wrap_line_length=void 0===c.wrap_line_length?0:parseInt(c.wrap_line_length,10),C.e4x=void 0===c.e4x?!1:c.e4x,c.indent_with_tabs&&(C.indent_char="	",C.indent_size=1),j="";C.indent_size>0;)j+=C.indent_char,C.indent_size-=1;for(;b&&(" "===b.charAt(0)||"	"===b.charAt(0));)D+=b.charAt(0),b=b.substring(1);d=b,x=b.length,h="TK_START_BLOCK",i="",e=[F()],w=!1,z=[],m=[],V(B.BlockStatement),q=0,this.beautify=function(){for(var a,b,c,d;;){if(a=ea(),f=a[0],g=a[1],"TK_EOF"===g){for(;k.mode===B.Statement;)Y();break}if(c=C.keep_array_indentation&&W(k.mode),v=y>0,c)for(b=0;y>b;b+=1)N(b>0);else if(C.max_preserve_newlines&&y>C.max_preserve_newlines&&(y=C.max_preserve_newlines),C.preserve_newlines&&y>1)for(N(),b=1;y>b;b+=1)N(!0);A[g](),"TK_INLINE_COMMENT"!==g&&"TK_COMMENT"!==g&&"TK_BLOCK_COMMENT"!==g&&"TK_UNKNOWN"!==g&&(i=k.last_text,h=g,k.last_text=f),k.had_comment="TK_INLINE_COMMENT"===g||"TK_COMMENT"===g||"TK_BLOCK_COMMENT"===g}d=e[0].text.join("");for(var j=1;j<e.length;j++)d+="\n"+e[j].text.join("");return d=d.replace(/[\r\n ]+$/,"")};function G(a){if(a=void 0===a?!1:a,e.length)for(H(e[e.length-1],a);a&&e.length>1&&0===e[e.length-1].text.length;)e.pop(),H(e[e.length-1],a)}function H(a){for(;a.text.length&&(" "===a.text[a.text.length-1]||a.text[a.text.length-1]===j||a.text[a.text.length-1]===D);)a.text.pop()}function I(a){return a.replace(/^\s+|\s+$/g,"")}function J(a){a=a.replace(/\x0d/g,"");for(var b=[],c=a.indexOf("\n");-1!==c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");return a.length&&b.push(a),b}function K(){var a=e[e.length-1];return 0===a.text.length}function L(){if(K()){if(1===e.length)return!0;var a=e[e.length-2];return 0===a.text.length}return!1}function M(a){if(a=void 0===a?!1:a,C.wrap_line_length&&!a){var b=e[e.length-1],c=0;b.text.length>0&&(c=b.text.join("").length+f.length+(w?1:0),c>=C.wrap_line_length&&(a=!0))}(C.preserve_newlines&&v||a)&&!K()&&N(!1,!0)}function N(a,b){if(w=!1,!b&&";"!==k.last_text&&","!==k.last_text&&"="!==k.last_text&&"TK_OPERATOR"!==h)for(;k.mode===B.Statement&&!k.if_block&&!k.do_block;)Y();1===e.length&&K()||(a||!K())&&(k.multiline_frame=!0,e.push(F()))}function O(){if(K()){var a=e[e.length-1];if(C.keep_array_indentation&&W(k.mode)&&v){a.text.push("");for(var b=0;b<z.length;b+=1)a.text.push(z[b])}else D&&a.text.push(D),P(k.indentation_level)}}function P(a){if(e.length>1){var b=e[e.length-1];k.line_indent_level=a;for(var c=0;a>c;c+=1)b.text.push(j)}}function Q(){var a=e[e.length-1];if(w&&a.text.length){var b=a.text[a.text.length-1];" "!==b&&b!==j&&a.text.push(" ")}}function R(a){a=a||f,O(),Q(),w=!1,e[e.length-1].text.push(a)}function S(){k.indentation_level+=1}function T(){k.indentation_level>0&&(!k.parent||k.indentation_level>k.parent.indentation_level)&&(k.indentation_level-=1)}function U(a){if(!a.multiline_frame)for(var b,c=a.start_line_index,d=0;c<e.length;)b=e[c],c++,0!==b.text.length&&(d=D&&b.text[0]===D?1:0,b.text[d]===j&&b.text.splice(d,1))}function V(a){k?(m.push(k),l=k):l=E(null,a),k=E(l,a)}function W(a){return a===B.ArrayLiteral}function X(a){
return ba(a,[B.Expression,B.ForInitializer,B.Conditional])}function Y(){m.length>0&&(l=k,k=m.pop(),l.mode===B.Statement&&U(l))}function Z(){return k.parent.mode===B.ObjectLiteral&&k.mode===B.Statement&&":"===k.last_text&&0===k.ternary_depth}function $(){return"TK_RESERVED"===h&&ba(k.last_text,["var","let","const"])&&"TK_WORD"===g||"TK_RESERVED"===h&&"do"===k.last_text||"TK_RESERVED"===h&&"return"===k.last_text&&!v||"TK_RESERVED"===h&&"else"===k.last_text&&("TK_RESERVED"!==g||"if"!==f)||"TK_END_EXPR"===h&&(l.mode===B.ForInitializer||l.mode===B.Conditional)||"TK_WORD"===h&&k.mode===B.BlockStatement&&!k.in_case&&"--"!==f&&"++"!==f&&"TK_WORD"!==g&&"TK_RESERVED"!==g||k.mode===B.ObjectLiteral&&":"===k.last_text&&0===k.ternary_depth?(V(B.Statement),S(),"TK_RESERVED"===h&&ba(k.last_text,["var","let","const"])&&"TK_WORD"===g&&(k.declaration_statement=!0),Z()||M("TK_RESERVED"===g&&ba(f,["do","for","if","while"])),!0):!1}function _(a,b){for(var c=0;c<a.length;c++){var d=I(a[c]);if(d.charAt(0)!==b)return!1}return!0}function aa(a){return ba(a,["case","return","do","if","throw","else"])}function ba(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function ca(a){for(var b,c=!1,d="",e=0,f="",g=0;c||e<a.length;)if(b=a.charAt(e),e++,c){if(c=!1,"x"===b)f=a.substr(e,2),e+=2;else{if("u"!==b){d+="\\"+b;continue}f=a.substr(e,4),e+=4}if(!f.match(/^[0123456789abcdefABCDEF]+$/))return a;if(g=parseInt(f,16),g>=0&&32>g){d+="x"===b?"\\x"+f:"\\u"+f;continue}if(34===g||39===g||92===g)d+="\\"+String.fromCharCode(g);else{if("x"===b&&g>126&&255>=g)return a;d+=String.fromCharCode(g)}}else"\\"===b?c=!0:d+=b;return d}function da(a){for(var b=q,c=d.charAt(b);ba(c,n)&&c!==a;){if(b++,b>=x)return!1;c=d.charAt(b)}return c===a}function ea(){var b;if(y=0,q>=x)return["","TK_EOF"];v=!1,z=[];var c=d.charAt(q);for(q+=1;ba(c,n);){if("\n"===c?(y+=1,z=[]):y&&(c===j?z.push(j):"\r"!==c&&z.push(" ")),q>=x)return["","TK_EOF"];c=d.charAt(q),q+=1}if(a.isIdentifierChar(d.charCodeAt(q-1))){if(x>q)for(;a.isIdentifierChar(d.charCodeAt(q))&&(c+=d.charAt(q),q+=1,q!==x););if(q!==x&&c.match(/^[0-9]+[Ee]$/)&&("-"===d.charAt(q)||"+"===d.charAt(q))){var f=d.charAt(q);q+=1;var g=ea();return c+=f+g[0],[c,"TK_WORD"]}return"TK_DOT"===h||"TK_RESERVED"===h&&ba(k.last_text,["set","get"])||!ba(c,s)?[c,"TK_WORD"]:"in"===c?[c,"TK_OPERATOR"]:[c,"TK_RESERVED"]}if("("===c||"["===c)return[c,"TK_START_EXPR"];if(")"===c||"]"===c)return[c,"TK_END_EXPR"];if("{"===c)return[c,"TK_START_BLOCK"];if("}"===c)return[c,"TK_END_BLOCK"];if(";"===c)return[c,"TK_SEMICOLON"];if("/"===c){var i="",m=!0;if("*"===d.charAt(q)){if(q+=1,x>q)for(;x>q&&("*"!==d.charAt(q)||!d.charAt(q+1)||"/"!==d.charAt(q+1))&&(c=d.charAt(q),i+=c,("\n"===c||"\r"===c)&&(m=!1),q+=1,!(q>=x)););return q+=2,m&&0===y?["/*"+i+"*/","TK_INLINE_COMMENT"]:["/*"+i+"*/","TK_BLOCK_COMMENT"]}if("/"===d.charAt(q)){for(i=c;"\r"!==d.charAt(q)&&"\n"!==d.charAt(q)&&(i+=d.charAt(q),q+=1,!(q>=x)););return[i,"TK_COMMENT"]}}if("`"===c||"'"===c||'"'===c||("/"===c||C.e4x&&"<"===c&&d.slice(q-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===h&&aa(k.last_text)||"TK_END_EXPR"===h&&ba(l.mode,[B.Conditional,B.ForInitializer])||ba(h,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var r=c,u=!1,w=!1;if(b=c,x>q)if("/"===r){for(var A=!1;u||A||d.charAt(q)!==r;)if(b+=d.charAt(q),u?u=!1:(u="\\"===d.charAt(q),"["===d.charAt(q)?A=!0:"]"===d.charAt(q)&&(A=!1)),q+=1,q>=x)return[b,"TK_STRING"]}else if(C.e4x&&"<"===r){var D=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,E=d.slice(q-1),F=D.exec(E);if(F&&0===F.index){for(var G=F[2],H=0;F;){var J=!!F[1],K=F[2],L=!!F[F.length-1]||"![CDATA["===K.slice(0,8);if(K!==G||L||(J?--H:++H),0>=H)break;F=D.exec(E)}var M=F?F.index+F[0].length:E.length;return q+=M-1,[E.slice(0,M),"TK_STRING"]}}else for(;u||d.charAt(q)!==r;)if(b+=d.charAt(q),u?(("x"===d.charAt(q)||"u"===d.charAt(q))&&(w=!0),u=!1):u="\\"===d.charAt(q),q+=1,q>=x)return[b,"TK_STRING"];if(q+=1,b+=r,w&&C.unescape_strings&&(b=ca(b)),"/"===r)for(;x>q&&ba(d.charAt(q),o);)b+=d.charAt(q),q+=1;return[b,"TK_STRING"]}if("#"===c){if(1===e.length&&0===e[0].text.length&&"!"===d.charAt(q)){for(b=c;x>q&&"\n"!==c;)c=d.charAt(q),b+=c,q+=1;return[I(b)+"\n","TK_UNKNOWN"]}var N="#";if(x>q&&ba(d.charAt(q),t)){do c=d.charAt(q),N+=c,q+=1;while(x>q&&"#"!==c&&"="!==c);return"#"===c||("["===d.charAt(q)&&"]"===d.charAt(q+1)?(N+="[]",q+=2):"{"===d.charAt(q)&&"}"===d.charAt(q+1)&&(N+="{}",q+=2)),[N,"TK_WORD"]}}if("<"===c&&"<!--"===d.substring(q-1,q+3)){for(q+=3,c="<!--";"\n"!==d.charAt(q)&&x>q;)c+=d.charAt(q),q++;return k.in_html_comment=!0,[c,"TK_COMMENT"]}if("-"===c&&k.in_html_comment&&"-->"===d.substring(q-1,q+2))return k.in_html_comment=!1,q+=2,["-->","TK_COMMENT"];if("."===c)return[c,"TK_DOT"];if(ba(c,p)){for(;x>q&&ba(c+d.charAt(q),p)&&(c+=d.charAt(q),q+=1,!(q>=x)););return","===c?[c,"TK_COMMA"]:"="===c?[c,"TK_EQUALS"]:[c,"TK_OPERATOR"]}return[c,"TK_UNKNOWN"]}function fa(){$();var a=B.Expression;if("["===f){if("TK_WORD"===h||")"===k.last_text)return"TK_RESERVED"===h&&ba(k.last_text,r)&&(w=!0),V(a),R(),S(),void(C.space_in_paren&&(w=!0));a=B.ArrayLiteral,W(k.mode)&&("["===k.last_text||","===k.last_text&&("]"===i||"}"===i))&&(C.keep_array_indentation||N())}else"TK_RESERVED"===h&&"for"===k.last_text?a=B.ForInitializer:"TK_RESERVED"===h&&ba(k.last_text,["if","while"])&&(a=B.Conditional);";"===k.last_text||"TK_START_BLOCK"===h?N():"TK_END_EXPR"===h||"TK_START_EXPR"===h||"TK_END_BLOCK"===h||"."===k.last_text?M(v):"TK_RESERVED"===h&&"("===f||"TK_WORD"===h||"TK_OPERATOR"===h?"TK_RESERVED"===h&&("function"===k.last_word||"typeof"===k.last_word)||"*"===k.last_text&&"function"===i?C.jslint_happy&&(w=!0):"TK_RESERVED"!==h||!ba(k.last_text,r)&&"catch"!==k.last_text||C.space_before_conditional&&(w=!0):w=!0,"("===f&&("TK_EQUALS"===h||"TK_OPERATOR"===h)&&(Z()||M()),V(a),R(),C.space_in_paren&&(w=!0),S()}function ga(){for(;k.mode===B.Statement;)Y();k.multiline_frame&&M("]"===f&&W(k.mode)&&!C.keep_array_indentation),C.space_in_paren&&("TK_START_EXPR"!==h||C.space_in_empty_paren?w=!0:(G(),w=!1)),"]"===f&&C.keep_array_indentation?(R(),Y()):(Y(),R()),U(l),k.do_while&&l.mode===B.Conditional&&(l.mode=B.Expression,k.do_block=!1,k.do_while=!1)}function ha(){V(B.BlockStatement);var a=da("}"),b=a&&"function"===k.last_word&&"TK_END_EXPR"===h;"expand"===C.brace_style?"TK_OPERATOR"!==h&&(b||"TK_EQUALS"===h||"TK_RESERVED"===h&&aa(k.last_text)&&"else"!==k.last_text)?w=!0:N(!1,!0):"TK_OPERATOR"!==h&&"TK_START_EXPR"!==h?"TK_START_BLOCK"===h?N():w=!0:W(l.mode)&&","===k.last_text&&("}"===i?w=!0:N()),R(),S()}function ia(){for(;k.mode===B.Statement;)Y();var a="TK_START_BLOCK"===h;"expand"===C.brace_style?a||N():a||(W(k.mode)&&C.keep_array_indentation?(C.keep_array_indentation=!1,N(),C.keep_array_indentation=!0):N()),Y(),R()}function ja(){if($()||!v||X(k.mode)||"TK_OPERATOR"===h&&"--"!==k.last_text&&"++"!==k.last_text||"TK_EQUALS"===h||!C.preserve_newlines&&"TK_RESERVED"===h&&ba(k.last_text,["var","let","const","set","get"])||N(),k.do_block&&!k.do_while){if("TK_RESERVED"===g&&"while"===f)return w=!0,R(),w=!0,void(k.do_while=!0);N(),k.do_block=!1}if(k.if_block)if(k.else_block||"TK_RESERVED"!==g||"else"!==f){for(;k.mode===B.Statement;)Y();k.if_block=!1,k.else_block=!1}else k.else_block=!0;if("TK_RESERVED"===g&&("case"===f||"default"===f&&k.in_case_statement))return N(),(k.case_body||C.jslint_happy)&&(T(),k.case_body=!1),R(),k.in_case=!0,void(k.in_case_statement=!0);if("TK_RESERVED"===g&&"function"===f&&((ba(k.last_text,["}",";"])||K()&&!ba(k.last_text,["{",":","=",","]))&&(L()||k.had_comment||(N(),N(!0))),"TK_RESERVED"===h||"TK_WORD"===h?"TK_RESERVED"===h&&ba(k.last_text,["get","set","new","return"])?w=!0:N():"TK_OPERATOR"===h||"="===k.last_text?w=!0:X(k.mode)||N()),("TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h)&&(Z()||M()),"TK_RESERVED"===g&&"function"===f)return R(),void(k.last_word=f);if(u="NONE","TK_END_BLOCK"===h?"TK_RESERVED"===g&&ba(f,["else","catch","finally"])?"expand"===C.brace_style||"end-expand"===C.brace_style?u="NEWLINE":(u="SPACE",w=!0):u="NEWLINE":"TK_SEMICOLON"===h&&k.mode===B.BlockStatement?u="NEWLINE":"TK_SEMICOLON"===h&&X(k.mode)?u="SPACE":"TK_STRING"===h?u="NEWLINE":"TK_RESERVED"===h||"TK_WORD"===h||"*"===k.last_text&&"function"===i?u="SPACE":"TK_START_BLOCK"===h?u="NEWLINE":"TK_END_EXPR"===h&&(w=!0,u="NEWLINE"),"TK_RESERVED"===g&&ba(f,r)&&")"!==k.last_text&&(u="else"===k.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===g&&ba(f,["else","catch","finally"]))if("TK_END_BLOCK"!==h||"expand"===C.brace_style||"end-expand"===C.brace_style)N();else{G(!0);var a=e[e.length-1];"}"!==a.text[a.text.length-1]&&N(),w=!0}else"NEWLINE"===u?"TK_RESERVED"===h&&aa(k.last_text)?w=!0:"TK_END_EXPR"!==h?"TK_START_EXPR"===h&&"TK_RESERVED"===g&&ba(f,["var","let","const"])||":"===k.last_text||("TK_RESERVED"===g&&"if"===f&&"else"===k.last_word&&"{"!==k.last_text?w=!0:N()):"TK_RESERVED"===g&&ba(f,r)&&")"!==k.last_text&&N():W(k.mode)&&","===k.last_text&&"}"===i?N():"SPACE"===u&&(w=!0);R(),k.last_word=f,"TK_RESERVED"===g&&"do"===f&&(k.do_block=!0),"TK_RESERVED"===g&&"if"===f&&(k.if_block=!0)}function ka(){for($()&&(w=!1);k.mode===B.Statement&&!k.if_block&&!k.do_block;)Y();R(),k.mode===B.ObjectLiteral&&(k.mode=B.BlockStatement)}function la(){$()?w=!0:"TK_RESERVED"===h||"TK_WORD"===h?w=!0:"TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h?Z()||M():N(),R()}function ma(){$(),k.declaration_statement&&(k.declaration_assignment=!0),w=!0,R(),w=!0}function na(){return k.declaration_statement?(X(k.parent.mode)&&(k.declaration_assignment=!1),R(),void(k.declaration_assignment?(k.declaration_assignment=!1,N(!1,!0)):w=!0)):(R(),void(k.mode===B.ObjectLiteral||k.mode===B.Statement&&k.parent.mode===B.ObjectLiteral?(k.mode===B.Statement&&Y(),N()):w=!0))}function oa(){":"!==f||k.mode!==B.BlockStatement||"{"!==i||"TK_WORD"!==h&&"TK_RESERVED"!==h||(k.mode=B.ObjectLiteral),$();var a=!0,b=!0;return"TK_RESERVED"===h&&aa(k.last_text)?(w=!0,void R()):"*"!==f||"TK_DOT"!==h||i.match(/^\d+$/)?":"===f&&k.in_case?(k.case_body=!0,S(),R(),N(),void(k.in_case=!1)):"::"===f?void R():(!v||"--"!==f&&"++"!==f||N(),"TK_OPERATOR"===h&&M(),ba(f,["--","++","!","~"])||ba(f,["-","+"])&&(ba(h,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||ba(k.last_text,r)||","===k.last_text)?(a=!1,b=!1,";"===k.last_text&&X(k.mode)&&(a=!0),"TK_RESERVED"===h&&(a=!0),k.mode!==B.BlockStatement&&k.mode!==B.Statement||"{"!==k.last_text&&";"!==k.last_text||N()):":"===f?0===k.ternary_depth?(k.mode===B.BlockStatement&&(k.mode=B.ObjectLiteral),a=!1):k.ternary_depth-=1:"?"===f?k.ternary_depth+=1:"*"===f&&"TK_RESERVED"===h&&"function"===k.last_text&&(a=!1,b=!1),w=w||a,R(),void(w=b)):void R()}function pa(){var a,b=J(f),c=!1;for(N(!1,!0),b.length>1&&_(b.slice(1),"*")&&(c=!0),R(b[0]),a=1;a<b.length;a++)N(!1,!0),c?R(" "+I(b[a])):e[e.length-1].text.push(b[a]);N(!1,!0)}function qa(){w=!0,R(),w=!0}function ra(){v?N(!1,!0):G(!0),w=!0,R(),N(!1,!0)}function sa(){$(),"TK_RESERVED"===h&&aa(k.last_text)?w=!0:M(")"===k.last_text&&C.break_chained_methods),R()}function ta(){R(),"\n"===f[f.length-1]&&N()}}"function"==typeof define&&define.amd?define([],function(){return{js_beautify:b}}):"undefined"!=typeof exports?exports.js_beautify=b:"undefined"!=typeof window?window.js_beautify=b:"undefined"!=typeof global&&(global.js_beautify=b)}(),!function(){var a={version:"3.5.5"},b=[].slice,c=function(a){return b.call(a)},d=this.document;function e(a){return a&&(a.ownerDocument||a.document||a).documentElement}function f(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(d)try{c(d.documentElement.childNodes)[0].nodeType}catch(g){c=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch(h){var i=this.Element.prototype,j=i.setAttribute,k=i.setAttributeNS,l=this.CSSStyleDeclaration.prototype,m=l.setProperty;i.setAttribute=function(a,b){j.call(this,a,b+"")},i.setAttributeNS=function(a,b,c){k.call(this,a,b,c+"")},l.setProperty=function(a,b,c){m.call(this,a,b+"",c)}}a.ascending=n;function n(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}a.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},a.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},a.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},a.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]};function o(a){return null===a?NaN:+a}function p(a){return!isNaN(a)}a.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)p(c=+a[f])&&(d+=c);else for(;++f<e;)p(c=+b.call(a,a[f],f))&&(d+=c);return d},a.mean=function(a,b){var c,d=0,e=a.length,f=-1,g=e;if(1===arguments.length)for(;++f<e;)p(c=o(a[f]))?d+=c:--g;else for(;++f<e;)p(c=o(b.call(a,a[f],f)))?d+=c:--g;return g?d/g:void 0},a.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},a.median=function(b,c){var d,e=[],f=b.length,g=-1;if(1===arguments.length)for(;++g<f;)p(d=o(b[g]))&&e.push(d);else for(;++g<f;)p(d=o(c.call(b,b[g],g)))&&e.push(d);return e.length?a.quantile(e.sort(n),.5):void 0},a.variance=function(a,b){var c,d,e=a.length,f=0,g=0,h=-1,i=0;if(1===arguments.length)for(;++h<e;)p(c=o(a[h]))&&(d=c-f,f+=d/++i,g+=d*(c-f));else for(;++h<e;)p(c=o(b.call(a,a[h],h)))&&(d=c-f,f+=d/++i,g+=d*(c-f));return i>1?g/(i-1):void 0},a.deviation=function(){var b=a.variance.apply(this,arguments);return b?Math.sqrt(b):b};function q(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}var r=q(n);a.bisectLeft=r.left,a.bisect=a.bisectRight=r.right,a.bisector=function(a){return q(1===a.length?function(b,c){return n(a(b),c)}:a)},a.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},a.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},a.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},a.zip=function(){if(!(e=arguments.length))return[];for(var b=-1,c=a.min(arguments,s),d=new Array(c);++b<c;)for(var e,f=-1,g=d[b]=new Array(e);++f<e;)g[f]=arguments[f][b];return d};function s(a){return a.length}a.transpose=function(b){return a.zip.apply(a,b)},a.keys=function(a){var b=[];for(var c in a)b.push(c);return b},a.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},a.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},a.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var t=Math.abs;a.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=u(t(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e};function u(a){for(var b=1;a*b%1;)b*=10;return b}function v(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}a.map=function(a,b){var c=new w;if(a instanceof w)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};function w(){this._=Object.create(null)}var x="__proto__",y="\x00";v(w,{has:B,get:function(a){return this._[z(a)]},set:function(a,b){return this._[z(a)]=b},remove:C,keys:D,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:A(b),value:this._[b]});return a},size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b),this._[b])}});function z(a){return(a+="")===x||a[0]===y?y+a:a}function A(a){return(a+="")[0]===y?a.slice(1):a}function B(a){return z(a)in this._}function C(a){return(a=z(a))in this._&&delete this._[a]}function D(){var a=[];for(var b in this._)a.push(A(b));return a}function E(){var a=0;for(var b in this._)++a;return a}function F(){for(var a in this._)return!1;return!0}a.nest=function(){var b,c,d={},e=[],f=[];function g(a,f,h){if(h>=e.length)return c?c.call(d,f):b?f.sort(b):f;for(var i,j,k,l,m=-1,n=f.length,o=e[h++],p=new w;++m<n;)(l=p.get(i=o(j=f[m])))?l.push(j):p.set(i,[j]);return a?(j=a(),k=function(b,c){j.set(b,g(a,c,h))}):(j={},k=function(b,c){j[b]=g(a,c,h)}),p.forEach(k),j}function h(a,b){if(b>=e.length)return a;var c=[],d=f[b++];return a.forEach(function(a,d){c.push({key:a,values:h(d,b)})}),d?c.sort(function(a,b){return d(a.key,b.key)}):c}return d.map=function(a,b){return g(b,a,0)},d.entries=function(b){return h(g(a.map,b,0),0)},d.key=function(a){return e.push(a),d},d.sortKeys=function(a){return f[e.length-1]=a,d},d.sortValues=function(a){return b=a,d},d.rollup=function(a){return c=a,d},d},a.set=function(a){var b=new G;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b};function G(){this._=Object.create(null)}v(G,{has:B,add:function(a){return this._[z(a+="")]=!0,a},remove:C,values:D,size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b))}}),a.behavior={};function H(a){return a}a.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=I(a,b,b[c]);return a};function I(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function J(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=K.length;d>c;++c){var e=K[c]+b;if(e in a)return e}}var K=["webkit","ms","moz","Moz","o","O"];function L(){}a.dispatch=function(){for(var a=new M,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=N(a);return a};function M(){}M.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}};function N(a){var b=[],c=new w;function d(){for(var c,d=b,e=-1,f=d.length;++e<f;)(c=d[e].on)&&c.apply(this,arguments);return a}return d.on=function(d,e){var f,g=c.get(d);return arguments.length<2?g&&g.on:(g&&(g.on=null,b=b.slice(0,f=b.indexOf(g)).concat(b.slice(f+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}a.event=null;function O(){a.event.preventDefault()}function P(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c}function Q(b){for(var c=new M,d=0,e=arguments.length;++d<e;)c[arguments[d]]=N(c);return c.of=function(d,e){return function(f){try{var g=f.sourceEvent=a.event;f.target=b,a.event=f,c[f.type].apply(d,e)}finally{a.event=g}}},c}a.requote=function(a){return a.replace(R,"\\$&")};var R=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,S={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};function T(a){return S(a,X),a}var U=function(a,b){return b.querySelector(a)},V=function(a,b){return b.querySelectorAll(a)},W=function(a,b){var c=a.matches||a[J(a,"matchesSelector")];return(W=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(U=function(a,b){return Sizzle(a,b)[0]||null},V=Sizzle,W=Sizzle.matchesSelector),a.selection=function(){return a.select(d.documentElement)};var X=a.selection.prototype=[];X.select=function(a){var b,c,d,e,f=[];a=Y(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return T(f)};function Y(a){return"function"==typeof a?a:function(){return U(a,this)}}X.selectAll=function(a){var b,d,e=[];a=Z(a);for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)(d=h[i])&&(e.push(b=c(a.call(d,d.__data__,i,f))),b.parentNode=d);return T(e)};function Z(a){return"function"==typeof a?a:function(){return V(a,this)}}var $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:$,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.slice(0,b),a=a.slice(b+1)),$.hasOwnProperty(c)?{space:$[c],local:a}:a}},X.attr=function(b,c){if(arguments.length<2){if("string"==typeof b){var d=this.node();return b=a.ns.qualify(b),b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}for(c in b)this.each(_(c,b[c]));return this}return this.each(_(b,c))};function _(b,c){b=a.ns.qualify(b);function d(){this.removeAttribute(b)}function e(){this.removeAttributeNS(b.space,b.local)}function f(){this.setAttribute(b,c)}function g(){this.setAttributeNS(b.space,b.local,c)}function h(){var a=c.apply(this,arguments);null==a?this.removeAttribute(b):this.setAttribute(b,a)}function i(){var a=c.apply(this,arguments);null==a?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,a)}return null==c?b.local?e:d:"function"==typeof c?b.local?i:h:b.local?g:f}function aa(a){return a.trim().replace(/\s+/g," ")}X.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=ca(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!ba(a[e]).test(b))return!1;return!0}for(b in a)this.each(da(b,a[b]));return this}return this.each(da(a,b))};function ba(b){return new RegExp("(?:^|\\s+)"+a.requote(b)+"(?:\\s+|$)","g")}function ca(a){return(a+"").trim().split(/^|\s+/)}function da(a,b){a=ca(a).map(ea);var c=a.length;function d(){for(var d=-1;++d<c;)a[d](this,b)}function e(){for(var d=-1,e=b.apply(this,arguments);++d<c;)a[d](this,e)}return"function"==typeof b?e:d}function ea(a){var b=ba(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",aa(e+" "+a))):c.setAttribute("class",aa(e.replace(b," ")))}}X.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b="");for(c in a)this.each(fa(c,a[c],b));return this}if(2>d){var e=this.node();return f(e).getComputedStyle(e,null).getPropertyValue(a)}c=""}return this.each(fa(a,b,c))};function fa(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}X.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(ga(b,a[b]));return this}return this.each(ga(a,b))};function ga(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}X.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},X.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},X.append=function(a){return a=ha(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function ha(b){function c(){var a=this.ownerDocument,c=this.namespaceURI;return c?a.createElementNS(c,b):a.createElement(b)}function d(){return this.ownerDocument.createElementNS(b.space,b.local)}return"function"==typeof b?b:(b=a.ns.qualify(b)).local?d:c}X.insert=function(a,b){return a=ha(a),b=Y(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},X.remove=function(){return this.each(ia)};function ia(){var a=this.parentNode;a&&a.removeChild(this)}X.data=function(a,b){var c,d,e=-1,f=this.length;if(!arguments.length){for(a=new Array(f=(c=this[0]).length);++e<f;)(d=c[e])&&(a[e]=d.__data__);return a}function g(a,c){var d,e,f,g=a.length,k=c.length,l=Math.min(g,k),m=new Array(k),n=new Array(k),o=new Array(g);if(b){var p,q=new w,r=new Array(g);for(d=-1;++d<g;)q.has(p=b.call(e=a[d],e.__data__,d))?o[d]=e:q.set(p,e),r[d]=p;for(d=-1;++d<k;)(e=q.get(p=b.call(c,f=c[d],d)))?e!==!0&&(m[d]=e,e.__data__=f):n[d]=ja(f),q.set(p,!0);for(d=-1;++d<g;)q.get(r[d])!==!0&&(o[d]=a[d])}else{for(d=-1;++d<l;)e=a[d],f=c[d],e?(e.__data__=f,m[d]=e):n[d]=ja(f);for(;k>d;++d)n[d]=ja(c[d]);for(;g>d;++d)o[d]=a[d]}n.update=m,n.parentNode=m.parentNode=o.parentNode=a.parentNode,h.push(n),i.push(m),j.push(o)}var h=na([]),i=T([]),j=T([]);if("function"==typeof a)for(;++e<f;)g(c=this[e],a.call(c,c.parentNode.__data__,e));else for(;++e<f;)g(c=this[e],a);return i.enter=function(){return h},i.exit=function(){return j},i};function ja(a){return{__data__:a}}X.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},X.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=ka(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return T(e)};function ka(a){return function(){return W(this,a)}}X.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},X.sort=function(a){a=la.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};function la(a){return arguments.length||(a=n),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}X.each=function(a){return ma(this,function(b,c,d){a.call(b,b.__data__,c,d)})};function ma(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}X.call=function(a){var b=c(arguments);return a.apply(b[0]=this,b),this},X.empty=function(){return!this.node()},X.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},X.size=function(){var a=0;return ma(this,function(){++a}),a};function na(a){return S(a,oa),a}var oa=[];a.selection.enter=na,a.selection.enter.prototype=oa,oa.append=X.append,oa.empty=X.empty,oa.node=X.node,oa.call=X.call,oa.size=X.size,oa.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return T(g)},oa.insert=function(a,b){return arguments.length<2&&(b=pa(this)),X.insert.call(this,a,b)};function pa(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}a.select=function(a){var b;return"string"==typeof a?(b=[U(a,d)],b.parentNode=d.documentElement):(b=[a],b.parentNode=e(a)),T([b])},a.selectAll=function(a){var b;return"string"==typeof a?(b=c(V(a,d)),b.parentNode=d.documentElement):(b=a,b.parentNode=null),T([b])},X.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(qa(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(qa(a,b,c))};function qa(b,d,e){var f="__on"+b,g=b.indexOf("."),h=sa;g>0&&(b=b.slice(0,g));var i=ra.get(b);i&&(b=i,h=ta);function j(){var a=this[f];a&&(this.removeEventListener(b,a,a.$),delete this[f])}function k(){var a=h(d,c(arguments));j.call(this),this.addEventListener(b,this[f]=a,a.$=e),a._=d}function l(){var c,d=new RegExp("^__on([^.]+)"+a.requote(b)+"$");for(var e in this)if(c=e.match(d)){var f=this[e];this.removeEventListener(c[1],f,f.$),delete this[e]}}return g?d?k:j:d?L:l}var ra=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});d&&ra.forEach(function(a){"on"+a in d&&ra.remove(a)});function sa(b,c){return function(d){var e=a.event;a.event=d,c[0]=this.__data__;try{b.apply(this,c)}finally{a.event=e}}}function ta(a,b){var c=sa(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}var ua,va=0;function wa(b){var c=".dragsuppress-"+ ++va,d="click"+c,g=a.select(f(b)).on("touchmove"+c,O).on("dragstart"+c,O).on("selectstart"+c,O);if(null==ua&&(ua="onselectstart"in b?!1:J(b.style,"userSelect")),ua){var h=e(b).style,i=h[ua];h[ua]="none"}return function(a){if(g.on(c,null),ua&&(h[ua]=i),a){var b=function(){g.on(d,null)};g.on(d,function(){O(),b()},!0),setTimeout(b,0)}}}a.mouse=function(a){return ya(a,P())};var xa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ya(b,c){c.changedTouches&&(c=c.changedTouches[0]);var d=b.ownerSVGElement||b;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>xa){var g=f(b);if(g.scrollX||g.scrollY){d=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h=d[0][0].getScreenCTM();xa=!(h.f||h.e),d.remove()}}return xa?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y]}var i=b.getBoundingClientRect();return[c.clientX-i.left-b.clientLeft,c.clientY-i.top-b.clientTop]}a.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=P().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return ya(a,d)},a.behavior.drag=function(){var b=Q(g,"drag","dragstart","dragend"),c=null,d=h(L,a.mouse,f,"mousemove","mouseup"),e=h(za,a.touch,H,"touchmove","touchend");function g(){this.on("mousedown.drag",d).on("touchstart.drag",e)}function h(d,e,f,g,h){return function(){var i,j=this,k=a.event.target,l=j.parentNode,m=b.of(j,arguments),n=0,o=d(),p=".drag"+(null==o?"":"-"+o),q=a.select(f(k)).on(g+p,t).on(h+p,u),r=wa(k),s=e(l,o);c?(i=c.apply(j,arguments),i=[i.x-s[0],i.y-s[1]]):i=[0,0],m({type:"dragstart"});function t(){var a,b,c=e(l,o);c&&(a=c[0]-s[0],b=c[1]-s[1],n|=a|b,s=c,m({type:"drag",x:c[0]+i[0],y:c[1]+i[1],dx:a,dy:b}))}function u(){e(l,o)&&(q.on(g+p,null).on(h+p,null),r(n&&a.event.target===k),m({type:"dragend"}))}}}return g.origin=function(a){return arguments.length?(c=a,g):c},a.rebind(g,b,"on")};function za(){return a.event.changedTouches[0].identifier}a.touches=function(a,b){return arguments.length<2&&(b=P().touches),b?c(b).map(function(b){var c=ya(a,b);return c.identifier=b.identifier,c}):[]};var Aa=1e-6,Ba=Aa*Aa,Ca=Math.PI,Da=2*Ca,Ea=Da-Aa,Fa=Ca/2,Ga=Ca/180,Ha=180/Ca;function Ia(a){return a>0?1:0>a?-1:0}function Ja(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Ka(a){return a>1?0:-1>a?Ca:Math.acos(a)}function La(a){return a>1?Fa:-1>a?-Fa:Math.asin(a)}function Ma(a){return((a=Math.exp(a))-1/a)/2}function Na(a){return((a=Math.exp(a))+1/a)/2}function Oa(a){return((a=Math.exp(2*a))-1)/(a+1)}function Pa(a){return(a=Math.sin(a/2))*a}var Qa=Math.SQRT2,Ra=2,Sa=4;a.interpolateZoom=function(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2],i=f-c,j=g-d,k=i*i+j*j,l=Math.sqrt(k),m=(h*h-e*e+Sa*k)/(2*e*Ra*l),n=(h*h-e*e-Sa*k)/(2*h*Ra*l),o=Math.log(Math.sqrt(m*m+1)-m),p=Math.log(Math.sqrt(n*n+1)-n),q=p-o,r=(q||Math.log(h/e))/Qa;
function s(a){var b=a*r;if(q){var f=Na(o),g=e/(Ra*l)*(f*Oa(Qa*b+o)-Ma(o));return[c+g*i,d+g*j,e*f/Na(Qa*b+o)]}return[c+a*i,d+a*j,e*Math.exp(Qa*b)]}return s.duration=1e3*r,s},a.behavior.zoom=function(){var b,c,e,g,h,i,j,k,l,m={x:0,y:0,k:1},n=[960,500],o=Va,p=250,q=0,r="mousedown.zoom",s="mousemove.zoom",t="mouseup.zoom",u="touchstart.zoom",v=Q(w,"zoomstart","zoom","zoomend");Ua||(Ua="onwheel"in d?(Ta=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(Ta=function(){return a.event.wheelDelta},"mousewheel"):(Ta=function(){return-a.event.detail},"MozMousePixelScroll"));function w(a){a.on(r,G).on(Ua+".zoom",I).on("dblclick.zoom",J).on(u,H)}w.event=function(b){b.each(function(){var b=v.of(this,arguments),d=m;xi?a.select(this).transition().each("start.zoom",function(){m=this.__chart__||{x:0,y:0,k:1},D(b)}).tween("zoom:zoom",function(){var e=n[0],f=n[1],g=c?c[0]:e/2,h=c?c[1]:f/2,i=a.interpolateZoom([(g-m.x)/m.k,(h-m.y)/m.k,e/m.k],[(g-d.x)/d.k,(h-d.y)/d.k,e/d.k]);return function(a){var c=i(a),d=e/c[2];this.__chart__=m={x:g-c[0]*d,y:h-c[1]*d,k:d},E(b)}}).each("interrupt.zoom",function(){F(b)}).each("end.zoom",function(){F(b)}):(this.__chart__=m,D(b),E(b),F(b))})},w.translate=function(a){return arguments.length?(m={x:+a[0],y:+a[1],k:m.k},C(),w):[m.x,m.y]},w.scale=function(a){return arguments.length?(m={x:m.x,y:m.y,k:+a},C(),w):m.k},w.scaleExtent=function(a){return arguments.length?(o=null==a?Va:[+a[0],+a[1]],w):o},w.center=function(a){return arguments.length?(e=a&&[+a[0],+a[1]],w):e},w.size=function(a){return arguments.length?(n=a&&[+a[0],+a[1]],w):n},w.duration=function(a){return arguments.length?(p=+a,w):p},w.x=function(a){return arguments.length?(j=a,i=a.copy(),m={x:0,y:0,k:1},w):j},w.y=function(a){return arguments.length?(l=a,k=a.copy(),m={x:0,y:0,k:1},w):l};function x(a){return[(a[0]-m.x)/m.k,(a[1]-m.y)/m.k]}function y(a){return[a[0]*m.k+m.x,a[1]*m.k+m.y]}function z(a){m.k=Math.max(o[0],Math.min(o[1],a))}function A(a,b){b=y(b),m.x+=a[0]-b[0],m.y+=a[1]-b[1]}function B(b,d,e,f){b.__chart__={x:m.x,y:m.y,k:m.k},z(Math.pow(2,f)),A(c=d,e),b=a.select(b),p>0&&(b=b.transition().duration(p)),b.call(w.event)}function C(){j&&j.domain(i.range().map(function(a){return(a-m.x)/m.k}).map(i.invert)),l&&l.domain(k.range().map(function(a){return(a-m.y)/m.k}).map(k.invert))}function D(a){q++||a({type:"zoomstart"})}function E(a){C(),a({type:"zoom",scale:m.k,translate:[m.x,m.y]})}function F(a){--q||a({type:"zoomend"}),c=null}function G(){var b=this,c=a.event.target,d=v.of(b,arguments),e=0,g=a.select(f(b)).on(s,j).on(t,k),h=x(a.mouse(b)),i=wa(b);ui.call(b),D(d);function j(){e=1,A(a.mouse(b),h),E(d)}function k(){g.on(s,null).on(t,null),i(e&&a.event.target===c),F(d)}}function H(){var b,c=this,d=v.of(c,arguments),e={},f=0,g=".zoom-"+a.event.changedTouches[0].identifier,i="touchmove"+g,j="touchend"+g,k=[],l=a.select(c),n=wa(c);p(),D(d),l.on(r,null).on(u,p);function o(){var d=a.touches(c);return b=m.k,d.forEach(function(a){a.identifier in e&&(e[a.identifier]=x(a))}),d}function p(){var b=a.event.target;a.select(b).on(i,q).on(j,s),k.push(b);for(var d=a.event.changedTouches,g=0,l=d.length;l>g;++g)e[d[g].identifier]=null;var n=o(),p=Date.now();if(1===n.length){if(500>p-h){var r=n[0];B(c,r,e[r.identifier],Math.floor(Math.log(m.k)/Math.LN2)+1),O()}h=p}else if(n.length>1){var r=n[0],t=n[1],u=r[0]-t[0],v=r[1]-t[1];f=u*u+v*v}}function q(){var g,i,j,k,l=a.touches(c);ui.call(c);for(var m=0,n=l.length;n>m;++m,k=null)if(j=l[m],k=e[j.identifier]){if(i)break;g=j,i=k}if(k){var o=(o=j[0]-g[0])*o+(o=j[1]-g[1])*o,p=f&&Math.sqrt(o/f);g=[(g[0]+j[0])/2,(g[1]+j[1])/2],i=[(i[0]+k[0])/2,(i[1]+k[1])/2],z(p*b)}h=null,A(g,i),E(d)}function s(){if(a.event.touches.length){for(var b=a.event.changedTouches,c=0,f=b.length;f>c;++c)delete e[b[c].identifier];for(var h in e)return void o()}a.selectAll(k).on(g,null),l.on(r,G).on(u,H),n(),F(d)}}function I(){var d=v.of(this,arguments);g?clearTimeout(g):(b=x(c=e||a.mouse(this)),ui.call(this),D(d)),g=setTimeout(function(){g=null,F(d)},50),O(),z(Math.pow(2,.002*Ta())*m.k),A(c,b),E(d)}function J(){var b=a.mouse(this),c=Math.log(m.k)/Math.LN2;B(this,b,x(b),a.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}return a.rebind(w,v,"on")};var Ta,Ua,Va=[0,1/0];a.color=Wa;function Wa(){}Wa.prototype.toString=function(){return this.rgb()+""},a.hsl=Xa;function Xa(a,b,c){return this instanceof Xa?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof Xa?new Xa(a.h,a.s,a.l):rb(""+a,sb,Xa):new Xa(a,b,c)}var Ya=Xa.prototype=new Wa;Ya.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Xa(this.h,this.s,this.l/a)},Ya.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Xa(this.h,this.s,a*this.l)},Ya.rgb=function(){return Za(this.h,this.s,this.l)};function Za(a,b,c){var d,e;a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,e=.5>=c?c*(1+b):c+b-c*b,d=2*c-e;function f(a){return a>360?a-=360:0>a&&(a+=360),60>a?d+(e-d)*a/60:180>a?e:240>a?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(255*f(a))}return new mb(g(a+120),g(a),g(a-120))}a.hcl=$a;function $a(b,c,d){return this instanceof $a?(this.h=+b,this.c=+c,void(this.l=+d)):arguments.length<2?b instanceof $a?new $a(b.h,b.c,b.l):b instanceof bb?ib(b.l,b.a,b.b):ib((b=tb((b=a.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new $a(b,c,d)}var _a=$a.prototype=new Wa;_a.brighter=function(a){return new $a(this.h,this.c,Math.min(100,this.l+cb*(arguments.length?a:1)))},_a.darker=function(a){return new $a(this.h,this.c,Math.max(0,this.l-cb*(arguments.length?a:1)))},_a.rgb=function(){return ab(this.h,this.c,this.l).rgb()};function ab(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new bb(c,Math.cos(a*=Ga)*b,Math.sin(a)*b)}a.lab=bb;function bb(a,b,c){return this instanceof bb?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof bb?new bb(a.l,a.a,a.b):a instanceof $a?ab(a.h,a.c,a.l):tb((a=mb(a)).r,a.g,a.b):new bb(a,b,c)}var cb=18,db=.95047,eb=1,fb=1.08883,gb=bb.prototype=new Wa;gb.brighter=function(a){return new bb(Math.min(100,this.l+cb*(arguments.length?a:1)),this.a,this.b)},gb.darker=function(a){return new bb(Math.max(0,this.l-cb*(arguments.length?a:1)),this.a,this.b)},gb.rgb=function(){return hb(this.l,this.a,this.b)};function hb(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=jb(e)*db,d=jb(d)*eb,f=jb(f)*fb,new mb(lb(3.2404542*e-1.5371385*d-.4985314*f),lb(-.969266*e+1.8760108*d+.041556*f),lb(.0556434*e-.2040259*d+1.0572252*f))}function ib(a,b,c){return a>0?new $a(Math.atan2(c,b)*Ha,Math.sqrt(b*b+c*c),a):new $a(NaN,NaN,a)}function jb(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function kb(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function lb(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}a.rgb=mb;function mb(a,b,c){return this instanceof mb?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof mb?new mb(a.r,a.g,a.b):rb(""+a,mb,Za):new mb(a,b,c)}function nb(a){return new mb(a>>16,a>>8&255,255&a)}function ob(a){return nb(a)+""}var pb=mb.prototype=new Wa;pb.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new mb(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new mb(e,e,e)},pb.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new mb(a*this.r,a*this.g,a*this.b)},pb.hsl=function(){return sb(this.r,this.g,this.b)},pb.toString=function(){return"#"+qb(this.r)+qb(this.g)+qb(this.b)};function qb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function rb(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/i.exec(a))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(vb(e[0]),vb(e[1]),vb(e[2]))}return(f=wb.get(a.toLowerCase()))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function sb(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new Xa(d,e,i)}function tb(a,b,c){a=ub(a),b=ub(b),c=ub(c);var d=kb((.4124564*a+.3575761*b+.1804375*c)/db),e=kb((.2126729*a+.7151522*b+.072175*c)/eb),f=kb((.0193339*a+.119192*b+.9503041*c)/fb);return bb(116*e-16,500*(d-e),200*(e-f))}function ub(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function vb(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}var wb=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wb.forEach(function(a,b){wb.set(a,nb(b))});function xb(a){return"function"==typeof a?a:function(){return a}}a.functor=xb,a.xhr=yb(H);function yb(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),zb(b,c,a,d)}}function zb(b,d,e,f){var g={},h=a.dispatch("beforesend","progress","load","error"),i={},j=new XMLHttpRequest,k=null;!this.XDomainRequest||"withCredentials"in j||!/^(http(s)?:)?\/\//.test(b)||(j=new XDomainRequest),"onload"in j?j.onload=j.onerror=l:j.onreadystatechange=function(){j.readyState>3&&l()};function l(){var a,b=j.status;if(!b&&Bb(j)||b>=200&&300>b||304===b){try{a=e.call(g,j)}catch(c){return void h.error.call(g,c)}h.load.call(g,a)}else h.error.call(g,j)}return j.onprogress=function(b){var c=a.event;a.event=b;try{h.progress.call(g,j)}finally{a.event=c}},g.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?i[a]:(null==b?delete i[a]:i[a]=b+"",g)},g.mimeType=function(a){return arguments.length?(d=null==a?null:a+"",g):d},g.responseType=function(a){return arguments.length?(k=a,g):k},g.response=function(a){return e=a,g},["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(c(arguments)))}}),g.send=function(a,c,e){if(2===arguments.length&&"function"==typeof c&&(e=c,c=null),j.open(a,b,!0),null==d||"accept"in i||(i.accept=d+",*/*"),j.setRequestHeader)for(var f in i)j.setRequestHeader(f,i[f]);return null!=d&&j.overrideMimeType&&j.overrideMimeType(d),null!=k&&(j.responseType=k),null!=e&&g.on("error",e).on("load",function(a){e(null,a)}),h.beforesend.call(g,j),j.send(null==c?null:c),g},g.abort=function(){return j.abort(),g},a.rebind(g,h,"on"),null==f?g:g.get(Ab(f))}function Ab(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Bb(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}a.dsv=function(a,b){var c=new RegExp('["'+a+"\n]"),d=a.charCodeAt(0);function e(a,c,d){arguments.length<3&&(d=c,c=null);var e=zb(a,b,null==c?f:g(c),d);return e.row=function(a){return arguments.length?e.response(null==(c=a)?f:g(a)):c},e}function f(a){return e.parse(a.responseText)}function g(a){return function(b){return e.parse(b.responseText,a)}}e.parse=function(a,b){var c;return e.parseRows(a,function(a,d){if(c)return c(a,d-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");c=b?function(a,c){return b(e(a),c)}:e})},e.parseRows=function(a,b){var c,e,f={},g={},h=[],i=a.length,j=0,k=0;function l(){if(j>=i)return g;if(e)return e=!1,f;var b=j;if(34===a.charCodeAt(b)){for(var c=b;c++<i;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}j=c+2;var h=a.charCodeAt(c+1);return 13===h?(e=!0,10===a.charCodeAt(c+2)&&++j):10===h&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;i>j;){var h=a.charCodeAt(j++),k=1;if(10===h)e=!0;else if(13===h)e=!0,10===a.charCodeAt(j)&&(++j,++k);else if(h!==d)continue;return a.slice(b,j-k)}return a.slice(b)}for(;(c=l())!==g;){for(var m=[];c!==f&&c!==g;)m.push(c),c=l();b&&null==(m=b(m,k++))||h.push(m)}return h},e.format=function(b){if(Array.isArray(b[0]))return e.formatRows(b);var c=new G,d=[];return b.forEach(function(a){for(var b in a)c.has(b)||d.push(c.add(b))}),[d.map(i).join(a)].concat(b.map(function(b){return d.map(function(a){return i(b[a])}).join(a)})).join("\n")},e.formatRows=function(a){return a.map(h).join("\n")};function h(b){return b.map(i).join(a)}function i(a){return c.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}return e},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Cb,Db,Eb,Fb,Gb,Hb=this[J(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};a.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,f:!1,n:null};Db?Db.n=f:Cb=f,Db=f,Eb||(Fb=clearTimeout(Fb),Eb=1,Hb(Ib))};function Ib(){var a=Jb(),b=Kb()-a;b>24?(isFinite(b)&&(clearTimeout(Fb),Fb=setTimeout(Ib,b)),Eb=0):(Eb=1,Hb(Ib))}a.timer.flush=function(){Jb(),Kb()};function Jb(){var a=Date.now();for(Gb=Cb;Gb;)a>=Gb.t&&(Gb.f=Gb.c(a-Gb.t)),Gb=Gb.n;return a}function Kb(){for(var a,b=Cb,c=1/0;b;)b.f?b=a?a.n=b.n:Cb=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return Db=a,c}function Lb(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}a.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Mb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nb);a.formatPrefix=function(b,c){var d=0;return b&&(0>b&&(b*=-1),c&&(b=a.round(b,Lb(b,c))),d=1+Math.floor(1e-12+Math.log(b)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3)))),Mb[8+d/3]};function Nb(a,b){var c=Math.pow(10,3*t(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Ob(b){var c=b.decimal,d=b.thousands,e=b.grouping,f=b.currency,g=e&&d?function(a,b){for(var c=a.length,f=[],g=0,h=e[0],i=0;c>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(c-=h,c+h)),!((i+=h+1)>b));)h=e[g=(g+1)%e.length];return f.reverse().join(d)}:H;return function(b){var d=Pb.exec(b),e=d[1]||" ",h=d[2]||">",i=d[3]||"-",j=d[4]||"",k=d[5],l=+d[6],m=d[7],n=d[8],o=d[9],p=1,q="",r="",s=!1,t=!0;switch(n&&(n=+n.substring(1)),(k||"0"===e&&"="===h)&&(k=e="0",h="="),o){case"n":m=!0,o="g";break;case"%":p=100,r="%",o="f";break;case"p":p=100,r="%",o="r";break;case"b":case"o":case"x":case"X":"#"===j&&(q="0"+o.toLowerCase());case"c":t=!1;case"d":s=!0,n=0;break;case"s":p=-1,o="r"}"$"===j&&(q=f[0],r=f[1]),"r"!=o||n||(o="g"),null!=n&&("g"==o?n=Math.max(1,Math.min(21,n)):("e"==o||"f"==o)&&(n=Math.max(0,Math.min(20,n)))),o=Qb.get(o)||Rb;var u=k&&m;return function(b){var d=r;if(s&&b%1)return"";var f=0>b||0===b&&0>1/b?(b=-b,"-"):"-"===i?"":i;if(0>p){var j=a.formatPrefix(b,n);b=j.scale(b),d=j.symbol+r}else b*=p;b=o(b,n);var v,w,x=b.lastIndexOf(".");if(0>x){var y=t?b.lastIndexOf("e"):-1;0>y?(v=b,w=""):(v=b.substring(0,y),w=b.substring(y))}else v=b.substring(0,x),w=c+b.substring(x+1);!k&&m&&(v=g(v,1/0));var z=q.length+v.length+w.length+(u?0:f.length),A=l>z?new Array(z=l-z+1).join(e):"";return u&&(v=g(A+v,A.length?l-w.length:1/0)),f+=q,b=v+w,("<"===h?f+b+A:">"===h?A+f+b:"^"===h?A.substring(0,z>>=1)+f+b+A.substring(z):f+(u?b:A+b))+d}}}var Pb=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Qb=a.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(b,c){return(b=a.round(b,Lb(b,c))).toFixed(Math.max(0,Math.min(20,Lb(b*(1+1e-15),c))))}});function Rb(a){return a+""}var Sb=a.time={},Tb=Date;function Ub(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ub.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Vb.setUTCDate.apply(this._,arguments)},setDay:function(){Vb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Vb.setUTCFullYear.apply(this._,arguments)},setHours:function(){Vb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Vb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Vb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Vb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Vb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Vb.setTime.apply(this._,arguments)}};var Vb=Date.prototype;function Wb(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new Tb(c-1)),1),c}function f(a,c){return b(a=new Tb(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{Tb=Ub;var d=new Ub;return d._=a,g(d,b,c)}finally{Tb=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Xb(a);return i.floor=i,i.round=Xb(d),i.ceil=Xb(e),i.offset=Xb(f),i.range=h,a}function Xb(a){return function(b,c){try{Tb=Ub;var d=new Ub;return d._=b,a(d,c)._}finally{Tb=Date}}}Sb.year=Wb(function(a){return a=Sb.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),Sb.years=Sb.year.range,Sb.years.utc=Sb.year.utc.range,Sb.day=Wb(function(a){var b=new Tb(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),Sb.days=Sb.day.range,Sb.days.utc=Sb.day.utc.range,Sb.dayOfYear=function(a){var b=Sb.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=Sb[a]=Wb(function(a){return(a=Sb.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=Sb.year(a).getDay();return Math.floor((Sb.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});Sb[a+"s"]=c.range,Sb[a+"s"].utc=c.utc.range,Sb[a+"OfYear"]=function(a){var c=Sb.year(a).getDay();return Math.floor((Sb.dayOfYear(a)+(c+b)%7)/7)}}),Sb.week=Sb.sunday,Sb.weeks=Sb.sunday.range,Sb.weeks.utc=Sb.sunday.utc.range,Sb.weekOfYear=Sb.sundayOfYear;function Yb(b){var c=b.dateTime,d=b.date,e=b.time,f=b.periods,g=b.days,h=b.shortDays,i=b.months,j=b.shortMonths;function k(a){var b=a.length;function c(c){for(var d,e,f,g=[],h=-1,i=0;++h<b;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=Zb[d=a.charAt(++h)])&&(d=a.charAt(++h)),(f=v[d])&&(d=f(c,null==e?"e"===d?" ":"0":e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},d=l(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);var e=null!=c.Z&&Tb!==Ub,f=new(e?Ub:Tb);return"j"in c?f.setFullYear(c.y,0,c.j):"w"in c&&("W"in c||"U"in c)?(f.setFullYear(c.y,0,1),f.setFullYear(c.y,0,"W"in c?(c.w+6)%7+7*c.W-(f.getDay()+5)%7:c.w+7*c.U-(f.getDay()+6)%7)):f.setFullYear(c.y,c.m,c.d),f.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,c.S,c.L),e?f._:f},c.toString=function(){return a},c}function l(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=w[g in Zb?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}k.utc=function(a){var b=k(a);function c(a){try{Tb=Ub;var c=new Tb;return c._=a,b(c)}finally{Tb=Date}}return c.parse=function(a){try{Tb=Ub;var c=b.parse(a);return c&&c._}finally{Tb=Date}},c.toString=b.toString,c},k.multi=k.utc.multi=tc;var m=a.map(),n=bc(g),o=cc(g),p=bc(h),q=cc(h),r=bc(i),s=cc(i),t=bc(j),u=cc(j);f.forEach(function(a,b){m.set(a.toLowerCase(),b)});var v={a:function(a){return h[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return j[a.getMonth()]},B:function(a){return i[a.getMonth()]},c:k(c),d:function(a,b){return ac(a.getDate(),b,2)},e:function(a,b){return ac(a.getDate(),b,2)},H:function(a,b){return ac(a.getHours(),b,2)},I:function(a,b){return ac(a.getHours()%12||12,b,2)},j:function(a,b){return ac(1+Sb.dayOfYear(a),b,3)},L:function(a,b){return ac(a.getMilliseconds(),b,3)},m:function(a,b){return ac(a.getMonth()+1,b,2)},M:function(a,b){return ac(a.getMinutes(),b,2)},p:function(a){return f[+(a.getHours()>=12)]},S:function(a,b){return ac(a.getSeconds(),b,2)},U:function(a,b){return ac(Sb.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return ac(Sb.mondayOfYear(a),b,2)},x:k(d),X:k(e),y:function(a,b){return ac(a.getFullYear()%100,b,2)},Y:function(a,b){return ac(a.getFullYear()%1e4,b,4)},Z:rc,"%":function(){return"%"}},w={a:x,A:y,b:z,B:A,c:B,d:lc,e:lc,H:nc,I:nc,j:mc,L:qc,m:kc,M:oc,p:E,S:pc,U:ec,w:dc,W:fc,x:C,X:D,y:hc,Y:gc,Z:ic,"%":sc};function x(a,b,c){p.lastIndex=0;var d=p.exec(b.slice(c));return d?(a.w=q.get(d[0].toLowerCase()),c+d[0].length):-1}function y(a,b,c){n.lastIndex=0;var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1}function z(a,b,c){t.lastIndex=0;var d=t.exec(b.slice(c));return d?(a.m=u.get(d[0].toLowerCase()),c+d[0].length):-1}function A(a,b,c){r.lastIndex=0;var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1}function B(a,b,c){return l(a,v.c.toString(),b,c)}function C(a,b,c){return l(a,v.x.toString(),b,c)}function D(a,b,c){return l(a,v.X.toString(),b,c)}function E(a,b,c){var d=m.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}return k}var Zb={"-":"",_:" ",0:"0"},$b=/^\s*\d+/,_b=/^%/;function ac(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function bc(b){return new RegExp("^(?:"+b.map(a.requote).join("|")+")","i")}function cc(a){for(var b=new w,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function dc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function ec(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function fc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function gc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function hc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.y=jc(+d[0]),c+d[0].length):-1}function ic(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function jc(a){return a+(a>68?1900:2e3)}function kc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function lc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function mc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function nc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function oc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function pc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function qc(a,b,c){$b.lastIndex=0;var d=$b.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function rc(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=t(b)/60|0,e=t(b)%60;return c+ac(d,"0",2)+ac(e,"0",2)}function sc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function tc(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}a.locale=function(a){return{numberFormat:Ob(a),timeFormat:Yb(a)}};var uc=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=uc.numberFormat,a.geo={};function vc(){}vc.prototype={s:0,t:0,add:function(a){xc(a,this.t,wc),xc(wc.s,this.s,this),this.s?this.t+=wc.t:this.s=wc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var wc=new vc;function xc(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}a.geo.stream=function(a,b){a&&zc.hasOwnProperty(a.type)?zc[a.type](a,b):yc(a,b)};function yc(a,b){a&&Ac.hasOwnProperty(a.type)&&Ac[a.type](a,b)}var zc={Feature:function(a,b){yc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)yc(c[d].geometry,b)}},Ac={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Bc(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Bc(c[d],b,0)},Polygon:function(a,b){Cc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Cc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)yc(c[d],b)}};function Bc(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function Cc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Bc(a[c],b,1);b.polygonEnd()}a.geo.area=function(b){return Dc=0,a.geo.stream(b,Fc),Dc};var Dc,Ec=new vc,Fc={sphere:function(){Dc+=4*Ca},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Ec.reset(),Fc.lineStart=Gc},polygonEnd:function(){var a=2*Ec;Dc+=0>a?4*Ca+a:a,Fc.lineStart=Fc.lineEnd=Fc.point=L}};function Gc(){var a,b,c,d,e;Fc.point=function(g,h){Fc.point=f,c=(a=g)*Ga,d=Math.cos(h=(b=h)*Ga/2+Ca/4),e=Math.sin(h)};function f(a,b){a*=Ga,b=b*Ga/2+Ca/4;var f=a-c,g=f>=0?1:-1,h=g*f,i=Math.cos(b),j=Math.sin(b),k=e*j,l=d*i+k*Math.cos(h),m=k*g*Math.sin(h);Ec.add(Math.atan2(m,l)),c=a,d=i,e=j}Fc.lineEnd=function(){f(a,b)}}function Hc(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function Ic(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Jc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Kc(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Lc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Mc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Nc(a){return[Math.atan2(a[1],a[0]),La(a[2])]}function Oc(a,b){return t(a[0]-b[0])<Aa&&t(a[1]-b[1])<Aa}a.geo.bounds=function(){var b,c,d,e,f,g,h,i,j,k,l,m={point:n,lineStart:p,lineEnd:q,polygonStart:function(){m.point=r,m.lineStart=s,m.lineEnd=u,j=0,Fc.polygonStart()},polygonEnd:function(){Fc.polygonEnd(),m.point=n,m.lineStart=p,m.lineEnd=q,0>Ec?(b=-(d=180),c=-(e=90)):j>Aa?e=90:-Aa>j&&(c=-90),l[0]=b,l[1]=d}};function n(a,f){k.push(l=[b=a,d=a]),c>f&&(c=f),f>e&&(e=f)}function o(a,g){var h=Hc([a*Ga,g*Ga]);if(i){var j=Jc(i,h),k=[j[1],-j[0],0],l=Jc(k,j);Mc(l),l=Nc(l);var m=a-f,o=m>0?1:-1,p=l[0]*Ha*o,q=t(m)>180;if(q^(p>o*f&&o*a>p)){var r=l[1]*Ha;r>e&&(e=r)}else if(p=(p+360)%360-180,q^(p>o*f&&o*a>p)){var r=-l[1]*Ha;c>r&&(c=r)}else c>g&&(c=g),g>e&&(e=g);q?f>a?v(b,a)>v(b,d)&&(d=a):v(a,d)>v(b,d)&&(b=a):d>=b?(b>a&&(b=a),a>d&&(d=a)):a>f?v(b,a)>v(b,d)&&(d=a):v(a,d)>v(b,d)&&(b=a)}else n(a,g);i=h,f=a}function p(){m.point=o}function q(){l[0]=b,l[1]=d,m.point=n,i=null}function r(a,b){if(i){var c=a-f;j+=t(c)>180?c+(c>0?360:-360):c}else g=a,h=b;Fc.point(a,b),o(a,b)}function s(){Fc.lineStart()}function u(){r(g,h),Fc.lineEnd(),t(j)>Aa&&(b=-(d=180)),l[0]=b,l[1]=d,i=null}function v(a,b){return(b-=a)<0?b+360:b}function w(a,b){return a[0]-b[0]}function x(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}return function(f){e=d=-(b=c=1/0),k=[],a.geo.stream(f,m);var g=k.length;if(g){k.sort(w);for(var h,i=1,j=k[0],n=[j];g>i;++i)h=k[i],x(h[0],j)||x(h[1],j)?(v(j[0],h[1])>v(j[0],j[1])&&(j[1]=h[1]),v(h[0],j[1])>v(j[0],j[1])&&(j[0]=h[0])):n.push(j=h);for(var o,h,p=-(1/0),g=n.length-1,i=0,j=n[g];g>=i;j=h,++i)h=n[i],(o=v(j[1],h[0]))>p&&(p=o,b=h[0],d=j[1])}return k=l=null,b===1/0||c===1/0?[[NaN,NaN],[NaN,NaN]]:[[b,c],[d,e]]}}(),a.geo.centroid=function(b){Pc=Qc=Rc=Sc=Tc=Uc=Vc=Wc=Xc=Yc=Zc=0,a.geo.stream(b,$c);var c=Xc,d=Yc,e=Zc,f=c*c+d*d+e*e;return Ba>f&&(c=Uc,d=Vc,e=Wc,Aa>Qc&&(c=Rc,d=Sc,e=Tc),f=c*c+d*d+e*e,Ba>f)?[NaN,NaN]:[Math.atan2(d,c)*Ha,La(e/Math.sqrt(f))*Ha]};var Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c={sphere:L,point:_c,lineStart:bd,lineEnd:cd,polygonStart:function(){$c.lineStart=dd},polygonEnd:function(){$c.lineStart=bd}};function _c(a,b){a*=Ga;var c=Math.cos(b*=Ga);ad(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function ad(a,b,c){++Pc,Rc+=(a-Rc)/Pc,Sc+=(b-Sc)/Pc,Tc+=(c-Tc)/Pc}function bd(){var a,b,c;$c.point=function(e,f){e*=Ga;var g=Math.cos(f*=Ga);a=g*Math.cos(e),b=g*Math.sin(e),c=Math.sin(f),$c.point=d,ad(a,b,c)};function d(d,e){d*=Ga;var f=Math.cos(e*=Ga),g=f*Math.cos(d),h=f*Math.sin(d),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=b*i-c*h)*j+(j=c*g-a*i)*j+(j=a*h-b*g)*j),a*g+b*h+c*i);Qc+=j,Uc+=j*(a+(a=g)),Vc+=j*(b+(b=h)),Wc+=j*(c+(c=i)),ad(a,b,c)}}function cd(){$c.point=_c}function dd(){var a,b,c,d,e;$c.point=function(g,h){a=g,b=h,$c.point=f,g*=Ga;var i=Math.cos(h*=Ga);
c=i*Math.cos(g),d=i*Math.sin(g),e=Math.sin(h),ad(c,d,e)},$c.lineEnd=function(){f(a,b),$c.lineEnd=cd,$c.point=_c};function f(a,b){a*=Ga;var f=Math.cos(b*=Ga),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(b),j=d*i-e*h,k=e*g-c*i,l=c*h-d*g,m=Math.sqrt(j*j+k*k+l*l),n=c*g+d*h+e*i,o=m&&-Ka(n)/m,p=Math.atan2(m,n);Xc+=o*j,Yc+=o*k,Zc+=o*l,Qc+=p,Uc+=p*(c+(c=g)),Vc+=p*(d+(d=h)),Wc+=p*(e+(e=i)),ad(c,d,e)}}function ed(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function fd(){return!0}function gd(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(Oc(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new id(c,a,null,!0),j=new id(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new id(d,a,null,!1),j=new id(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),hd(f),hd(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function hd(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function id(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function jd(b,c,d,e){return function(f,g){var h=c(g),i=f.invert(e[0],e[1]),j={point:k,lineStart:m,lineEnd:n,polygonStart:function(){j.point=u,j.lineStart=v,j.lineEnd=w,o=[],p=[]},polygonEnd:function(){j.point=k,j.lineStart=m,j.lineEnd=n,o=a.merge(o);var b=rd(i,p);o.length?(t||(g.polygonStart(),t=!0),gd(o,md,b,d,g)):b&&(t||(g.polygonStart(),t=!0),g.lineStart(),d(null,null,1,g),g.lineEnd()),t&&(g.polygonEnd(),t=!1),o=p=null},sphere:function(){g.polygonStart(),g.lineStart(),d(null,null,1,g),g.lineEnd(),g.polygonEnd()}};function k(a,c){var d=f(a,c);b(a=d[0],c=d[1])&&g.point(a,c)}function l(a,b){var c=f(a,b);h.point(c[0],c[1])}function m(){j.point=l,h.lineStart()}function n(){j.point=k,h.lineEnd()}var o,p,q,r=ld(),s=c(r),t=!1;function u(a,b){q.push([a,b]);var c=f(a,b);s.point(c[0],c[1])}function v(){s.lineStart(),q=[]}function w(){u(q[0][0],q[0][1]),s.lineEnd();var a,b=s.clean(),c=r.buffer(),d=c.length;if(q.pop(),p.push(q),q=null,d)if(1&b){a=c[0];var e,d=a.length-1,f=-1;if(d>0){for(t||(g.polygonStart(),t=!0),g.lineStart();++f<d;)g.point((e=a[f])[0],e[1]);g.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),o.push(c.filter(kd))}return j}}function kd(a){return a.length>1}function ld(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:L,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function md(a,b){return((a=a.x)[0]<0?a[1]-Fa-Aa:Fa-a[1])-((b=b.x)[0]<0?b[1]-Fa-Aa:Fa-b[1])}var nd=jd(fd,od,qd,[-Ca,-Ca/2]);function od(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Ca:-Ca,i=t(f-c);t(i-Ca)<Aa?(a.point(c,d=(d+g)/2>0?Fa:-Fa),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Ca&&(t(c-e)<Aa&&(c-=e*Aa),t(f-h)<Aa&&(f-=h*Aa),d=pd(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function pd(a,b,c,d){var e,f,g=Math.sin(a-c);return t(g)>Aa?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function qd(a,b,c,d){var e;if(null==a)e=c*Fa,d.point(-Ca,e),d.point(0,e),d.point(Ca,e),d.point(Ca,0),d.point(Ca,-e),d.point(0,-e),d.point(-Ca,-e),d.point(-Ca,0),d.point(-Ca,e);else if(t(a[0]-b[0])>Aa){var f=a[0]<b[0]?Ca:-Ca;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function rd(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;Ec.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Ca/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Ca/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Ca,z=o*t;if(Ec.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Da:v,y^m>=c^r>=c){var A=Jc(Hc(l),Hc(a));Mc(A);var B=Jc(e,A);Mc(B);var C=(y^v>=0?-1:1)*La(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Aa>f||Aa>f&&0>Ec)^1&g}function sd(a){var b=Math.cos(a),c=b>0,d=t(b)>Aa,e=be(a,6*Ga);return jd(f,g,e,c?[0,-a]:[-Ca,a-Ca]);function f(a,c){return Math.cos(a)*Math.cos(c)>b}function g(a){var b,e,g,j,k;return{lineStart:function(){j=g=!1,k=1},point:function(l,m){var n,o=[l,m],p=f(l,m),q=c?p?0:i(l,m):p?i(l+(0>l?Ca:-Ca),m):0;if(!b&&(j=g=p)&&a.lineStart(),p!==g&&(n=h(b,o),(Oc(b,n)||Oc(o,n))&&(o[0]+=Aa,o[1]+=Aa,p=f(o[0],o[1]))),p!==g)k=0,p?(a.lineStart(),n=h(o,b),a.point(n[0],n[1])):(n=h(b,o),a.point(n[0],n[1]),a.lineEnd()),b=n;else if(d&&b&&c^p){var r;q&e||!(r=h(o,b,!0))||(k=0,c?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&Oc(b,o)||a.point(o[0],o[1]),b=o,g=p,e=q},lineEnd:function(){g&&a.lineEnd(),b=null},clean:function(){return k|(j&&g)<<1}}}function h(a,c,d){var e=Hc(a),f=Hc(c),g=[1,0,0],h=Jc(e,f),i=Ic(h,h),j=h[0],k=i-j*j;if(!k)return!d&&a;var l=b*i/k,m=-b*j/k,n=Jc(g,h),o=Lc(g,l),p=Lc(h,m);Kc(o,p);var q=n,r=Ic(o,q),s=Ic(q,q),u=r*r-s*(Ic(o,o)-1);if(!(0>u)){var v=Math.sqrt(u),w=Lc(q,(-r-v)/s);if(Kc(w,o),w=Nc(w),!d)return w;var x,y=a[0],z=c[0],A=a[1],B=c[1];y>z&&(x=y,y=z,z=x);var C=z-y,D=t(C-Ca)<Aa,E=D||Aa>C;if(!D&&A>B&&(x=A,A=B,B=x),E?D?A+B>0^w[1]<(t(w[0]-y)<Aa?A:B):A<=w[1]&&w[1]<=B:C>Ca^(y<=w[0]&&w[0]<=z)){var F=Lc(q,(-r+v)/s);return Kc(F,o),[w,Nc(F)]}}}function i(b,d){var e=c?a:Ca-a,f=0;return-e>b?f|=1:b>e&&(f|=2),-e>d?f|=4:d>e&&(f|=8),f}}function td(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}var ud=1e9;a.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=vd(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])};function vd(b,c,d,e){return function(i){var j,k,l,m=i,n=ld(),o=td(b,c,d,e),p={point:t,lineStart:C,lineEnd:D,polygonStart:function(){i=n,j=[],k=[],B=!0},polygonEnd:function(){i=m,j=a.merge(j);var c=q([b,e]),d=B&&c,f=j.length;(d||f)&&(i.polygonStart(),d&&(i.lineStart(),r(null,null,1,i),i.lineEnd()),f&&gd(j,g,c,r,i),i.polygonEnd()),j=k=l=null}};function q(a){for(var b=0,c=k.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=k[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&Ja(j,f,a)>0&&++b:f[1]<=d&&Ja(j,f,a)<0&&--b,j=f;return 0!==b}function r(a,g,i,j){var k=0,l=0;if(null==a||(k=f(a,i))!==(l=f(g,i))||h(a,g)<0^i>0){do j.point(0===k||3===k?b:d,k>1?e:c);while((k=(k+i+4)%4)!==l)}else j.point(g[0],g[1])}function s(a,f){return a>=b&&d>=a&&f>=c&&e>=f}function t(a,b){s(a,b)&&i.point(a,b)}var u,v,w,x,y,z,A,B;function C(){p.point=E,k&&k.push(l=[]),A=!0,z=!1,x=y=NaN}function D(){j&&(E(u,v),w&&z&&n.rejoin(),j.push(n.buffer())),p.point=t,z&&i.lineEnd()}function E(a,b){a=Math.max(-ud,Math.min(ud,a)),b=Math.max(-ud,Math.min(ud,b));var c=s(a,b);if(k&&l.push([a,b]),A)u=a,v=b,w=c,A=!1,c&&(i.lineStart(),i.point(a,b));else if(c&&z)i.point(a,b);else{var d={a:{x:x,y:y},b:{x:a,y:b}};o(d)?(z||(i.lineStart(),i.point(d.a.x,d.a.y)),i.point(d.b.x,d.b.y),c||i.lineEnd(),B=!1):c&&(i.lineStart(),i.point(a,b),B=!1)}x=a,y=b,z=c}return p};function f(a,e){return t(a[0]-b)<Aa?e>0?0:3:t(a[0]-d)<Aa?e>0?2:1:t(a[1]-c)<Aa?e>0?1:0:e>0?3:2}function g(a,b){return h(a.x,b.x)}function h(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}}function wd(a){var b=0,c=Ca/3,d=Vd(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Ca/180,c=a[1]*Ca/180):[b/Ca*180,c/Ca*180]},e}function xd(a,b){var c=Math.sin(a),d=(c+Math.sin(b))/2,e=1+c*(2*d-c),f=Math.sqrt(e)/d;function g(a,b){var c=Math.sqrt(e-2*d*Math.sin(b))/d;return[c*Math.sin(a*=d),f-c*Math.cos(a)]}return g.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/d,La((e-(a*a+c*c)*d*d)/(2*d))]},g}(a.geo.conicEqualArea=function(){return wd(xd)}).raw=xd,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var b,c,d,e,f=a.geo.albers(),g=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};function j(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}return j.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},j.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},j.precision=function(a){return arguments.length?(f.precision(a),g.precision(a),h.precision(a),j):f.precision()},j.scale=function(a){return arguments.length?(f.scale(a),g.scale(.35*a),h.scale(a),j.translate(f.translate())):f.scale()},j.translate=function(a){if(!arguments.length)return f.translate();var b=f.scale(),k=+a[0],l=+a[1];return c=f.translate(a).clipExtent([[k-.455*b,l-.238*b],[k+.455*b,l+.238*b]]).stream(i).point,d=g.translate([k-.307*b,l+.201*b]).clipExtent([[k-.425*b+Aa,l+.12*b+Aa],[k-.214*b-Aa,l+.234*b-Aa]]).stream(i).point,e=h.translate([k-.205*b,l+.212*b]).clipExtent([[k-.214*b+Aa,l+.166*b+Aa],[k-.115*b-Aa,l+.234*b-Aa]]).stream(i).point,j},j.scale(1070)};var yd,zd,Ad={point:L,lineStart:L,lineEnd:L,polygonStart:function(){zd=0,Ad.lineStart=Bd},polygonEnd:function(){Ad.lineStart=Ad.lineEnd=Ad.point=L,yd+=t(zd/2)}};function Bd(){var a,b,c,d;Ad.point=function(f,g){Ad.point=e,a=c=f,b=d=g};function e(a,b){zd+=d*a-c*b,c=a,d=b}Ad.lineEnd=function(){e(a,b)}}var Cd,Dd,Ed,Fd,Gd={point:Hd,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function Hd(a,b){Cd>a&&(Cd=a),a>Ed&&(Ed=a),Dd>b&&(Dd=b),b>Fd&&(Fd=b)}function Id(){var a=Jd(4.5),b=[],c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(b){return a=Jd(b),c},result:function(){if(b.length){var a=b.join("");return b=[],a}}};function d(c,d){b.push("M",c,",",d,a)}function e(a,d){b.push("M",a,",",d),c.point=f}function f(a,c){b.push("L",a,",",c)}function g(){c.point=d}function h(){b.push("Z")}return c}function Jd(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}var Kd={point:Ld,lineStart:Md,lineEnd:Nd,polygonStart:function(){Kd.lineStart=Od},polygonEnd:function(){Kd.point=Ld,Kd.lineStart=Md,Kd.lineEnd=Nd}};function Ld(a,b){Rc+=a,Sc+=b,++Tc}function Md(){var a,b;Kd.point=function(d,e){Kd.point=c,Ld(a=d,b=e)};function c(c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f);Uc+=g*(a+c)/2,Vc+=g*(b+d)/2,Wc+=g,Ld(a=c,b=d)}}function Nd(){Kd.point=Ld}function Od(){var a,b,c,d;Kd.point=function(f,g){Kd.point=e,Ld(a=c=f,b=d=g)};function e(a,b){var e=a-c,f=b-d,g=Math.sqrt(e*e+f*f);Uc+=g*(c+a)/2,Vc+=g*(d+b)/2,Wc+=g,g=d*a-c*b,Xc+=g*(c+a),Yc+=g*(d+b),Zc+=3*g,Ld(c=a,d=b)}Kd.lineEnd=function(){e(a,b)}}function Pd(a){var b=4.5,c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(a){return b=a,c},result:L};function d(c,d){a.moveTo(c+b,d),a.arc(c,d,b,0,Da)}function e(b,d){a.moveTo(b,d),c.point=f}function f(b,c){a.lineTo(b,c)}function g(){c.point=d}function h(){a.closePath()}return c}function Qd(a){var b=.5,c=Math.cos(30*Ga),d=16;function e(a){return(d?g:f)(a)}function f(b){return Td(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function g(b){var c,e,f,g,i,j,k,l,m,n,o,p,q,r={point:s,lineStart:t,lineEnd:v,polygonStart:function(){b.polygonStart(),r.lineStart=w},polygonEnd:function(){b.polygonEnd(),r.lineStart=t}};function s(c,d){c=a(c,d),b.point(c[0],c[1])}function t(){m=NaN,r.point=u,b.lineStart()}function u(c,e){var f=Hc([c,e]),g=a(c,e);h(m,n,l,o,p,q,m=g[0],n=g[1],l=c,o=f[0],p=f[1],q=f[2],d,b),b.point(m,n)}function v(){r.point=s,b.lineEnd()}function w(){t(),r.point=x,r.lineEnd=y}function x(a,b){u(c=a,e=b),f=m,g=n,i=o,j=p,k=q,r.point=u}function y(){h(m,n,l,o,p,q,f,g,c,i,j,k,d,b),r.lineEnd=v,v()}return r}function h(d,e,f,g,i,j,k,l,m,n,o,p,q,r){var s=k-d,u=l-e,v=s*s+u*u;if(v>4*b&&q--){var w=g+n,x=i+o,y=j+p,z=Math.sqrt(w*w+x*x+y*y),A=Math.asin(y/=z),B=t(t(y)-1)<Aa||t(f-m)<Aa?(f+m)/2:Math.atan2(x,w),C=a(B,A),D=C[0],E=C[1],F=D-d,G=E-e,H=u*F-s*G;(H*H/v>b||t((s*F+u*G)/v-.5)>.3||c>g*n+i*o+j*p)&&(h(d,e,f,g,i,j,D,E,B,w/=z,x/=z,y,q,r),r.point(D,E),h(D,E,B,w,x,y,k,l,m,n,o,p,q,r))}}return e.precision=function(a){return arguments.length?(d=(b=a*a)>0&&16,e):Math.sqrt(b)},e}a.geo.path=function(){var b,c,d,e,f,g=4.5;function h(b){return b&&("function"==typeof g&&e.pointRadius(+g.apply(this,arguments)),f&&f.valid||(f=d(e)),a.geo.stream(b,f)),e.result()}h.area=function(b){return yd=0,a.geo.stream(b,d(Ad)),yd},h.centroid=function(b){return Rc=Sc=Tc=Uc=Vc=Wc=Xc=Yc=Zc=0,a.geo.stream(b,d(Kd)),Zc?[Xc/Zc,Yc/Zc]:Wc?[Uc/Wc,Vc/Wc]:Tc?[Rc/Tc,Sc/Tc]:[NaN,NaN]},h.bounds=function(b){return Ed=Fd=-(Cd=Dd=1/0),a.geo.stream(b,d(Gd)),[[Cd,Dd],[Ed,Fd]]},h.projection=function(a){return arguments.length?(d=(b=a)?a.stream||Rd(a):H,i()):b},h.context=function(a){return arguments.length?(e=null==(c=a)?new Id:new Pd(a),"function"!=typeof g&&e.pointRadius(g),i()):c},h.pointRadius=function(a){return arguments.length?(g="function"==typeof a?a:(e.pointRadius(+a),+a),h):g};function i(){return f=null,h}return h.projection(a.geo.albersUsa()).context(null)};function Rd(a){var b=Qd(function(b,c){return a([b*Ha,c*Ha])});return function(a){return Wd(b(a))}}a.geo.transform=function(a){return{stream:function(b){var c=new Sd(b);for(var d in a)c[d]=a[d];return c}}};function Sd(a){this.stream=a}Sd.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Td(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}a.geo.projection=Ud,a.geo.projectionMutator=Vd;function Ud(a){return Vd(function(){return a})()}function Vd(b){var c,d,e,f,g,h,i=Qd(function(a,b){return a=c(a,b),[a[0]*j+f,g-a[1]*j]}),j=150,k=480,l=250,m=0,n=0,o=0,p=0,q=0,r=nd,s=H,t=null,u=null;function v(a){return a=e(a[0]*Ga,a[1]*Ga),[a[0]*j+f,g-a[1]*j]}function w(a){return a=e.invert((a[0]-f)/j,(g-a[1])/j),a&&[a[0]*Ha,a[1]*Ha]}v.stream=function(a){return h&&(h.valid=!1),h=Wd(r(d,i(s(a)))),h.valid=!0,h},v.clipAngle=function(a){return arguments.length?(r=null==a?(t=a,nd):sd((t=+a)*Ga),y()):t},v.clipExtent=function(a){return arguments.length?(u=a,s=a?vd(a[0][0],a[0][1],a[1][0],a[1][1]):H,y()):u},v.scale=function(a){return arguments.length?(j=+a,x()):j},v.translate=function(a){return arguments.length?(k=+a[0],l=+a[1],x()):[k,l]},v.center=function(a){return arguments.length?(m=a[0]%360*Ga,n=a[1]%360*Ga,x()):[m*Ha,n*Ha]},v.rotate=function(a){return arguments.length?(o=a[0]%360*Ga,p=a[1]%360*Ga,q=a.length>2?a[2]%360*Ga:0,x()):[o*Ha,p*Ha,q*Ha]},a.rebind(v,i,"precision");function x(){e=ed(d=Zd(o,p,q),c);var a=c(m,n);return f=k-a[0]*j,g=l+a[1]*j,y()}function y(){return h&&(h.valid=!1,h=null),v}return function(){return c=b.apply(this,arguments),v.invert=c.invert&&w,x()}}function Wd(a){return Td(a,function(b,c){a.point(b*Ga,c*Ga)})}function Xd(a,b){return[a,b]}(a.geo.equirectangular=function(){return Ud(Xd)}).raw=Xd.invert=Xd,a.geo.rotation=function(a){a=Zd(a[0]%360*Ga,a[1]*Ga,a.length>2?a[2]*Ga:0);function b(b){return b=a(b[0]*Ga,b[1]*Ga),b[0]*=Ha,b[1]*=Ha,b}return b.invert=function(b){return b=a.invert(b[0]*Ga,b[1]*Ga),b[0]*=Ha,b[1]*=Ha,b},b};function Yd(a,b){return[a>Ca?a-Da:-Ca>a?a+Da:a,b]}Yd.invert=Xd;function Zd(a,b,c){return a?b||c?ed(_d(a),ae(b,c)):_d(a):b||c?ae(b,c):Yd}function $d(a){return function(b,c){return b+=a,[b>Ca?b-Da:-Ca>b?b+Da:b,c]}}function _d(a){var b=$d(a);return b.invert=$d(-a),b}function ae(a,b){var c=Math.cos(a),d=Math.sin(a),e=Math.cos(b),f=Math.sin(b);function g(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*c+h*d;return[Math.atan2(i*e-k*f,h*c-j*d),La(k*e+i*f)]}return g.invert=function(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*e-i*f;return[Math.atan2(i*e+j*f,h*c+k*d),La(k*c-h*d)]},g}a.geo.circle=function(){var a,b,c=[0,0],d=6;function e(){var a="function"==typeof c?c.apply(this,arguments):c,d=Zd(-a[0]*Ga,-a[1]*Ga,0).invert,e=[];return b(null,null,1,{point:function(a,b){e.push(a=d(a,b)),a[0]*=Ha,a[1]*=Ha}}),{type:"Polygon",coordinates:[e]}}return e.origin=function(a){return arguments.length?(c=a,e):c},e.angle=function(c){return arguments.length?(b=be((a=+c)*Ga,d*Ga),e):a},e.precision=function(c){return arguments.length?(b=be(a*Ga,(d=+c)*Ga),e):d},e.angle(90)};function be(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=ce(c,e),f=ce(c,f),(g>0?f>e:e>f)&&(e+=g*Da)):(e=a+g*Da,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=Nc([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function ce(a,b){var c=Hc(b);c[0]-=a,Mc(c);var d=Ka(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Aa)%(2*Math.PI)}a.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Ga,e=a[1]*Ga,f=b[1]*Ga,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},a.geo.graticule=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n=10,o=n,p=90,q=360,r=2.5;function s(){return{type:"MultiLineString",coordinates:u()}}function u(){return a.range(Math.ceil(e/p)*p,d,p).map(l).concat(a.range(Math.ceil(i/q)*q,h,q).map(m)).concat(a.range(Math.ceil(c/n)*n,b,n).filter(function(a){return t(a%p)>Aa}).map(j)).concat(a.range(Math.ceil(g/o)*o,f,o).filter(function(a){return t(a%q)>Aa}).map(k))}return s.lines=function(){return u().map(function(a){return{type:"LineString",coordinates:a}})},s.outline=function(){return{type:"Polygon",coordinates:[l(e).concat(m(h).slice(1),l(d).reverse().slice(1),m(i).reverse().slice(1))]}},s.extent=function(a){return arguments.length?s.majorExtent(a).minorExtent(a):s.minorExtent()},s.majorExtent=function(a){return arguments.length?(e=+a[0][0],d=+a[1][0],i=+a[0][1],h=+a[1][1],e>d&&(a=e,e=d,d=a),i>h&&(a=i,i=h,h=a),s.precision(r)):[[e,i],[d,h]]},s.minorExtent=function(a){return arguments.length?(c=+a[0][0],b=+a[1][0],g=+a[0][1],f=+a[1][1],c>b&&(a=c,c=b,b=a),g>f&&(a=g,g=f,f=a),s.precision(r)):[[c,g],[b,f]]},s.step=function(a){return arguments.length?s.majorStep(a).minorStep(a):s.minorStep()},s.majorStep=function(a){return arguments.length?(p=+a[0],q=+a[1],s):[p,q]},s.minorStep=function(a){return arguments.length?(n=+a[0],o=+a[1],s):[n,o]},s.precision=function(a){return arguments.length?(r=+a,j=de(g,f,90),k=ee(c,b,r),l=de(i,h,90),m=ee(e,d,r),s):r},s.majorExtent([[-180,-90+Aa],[180,90-Aa]]).minorExtent([[-180,-80-Aa],[180,80+Aa]])};function de(b,c,d){var e=a.range(b,c-Aa,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function ee(b,c,d){var e=a.range(b,c-Aa,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function fe(a){return a.source}function ge(a){return a.target}a.geo.greatArc=function(){var b,c,d=fe,e=ge;function f(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}return f.distance=function(){return a.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},f.source=function(a){return arguments.length?(d=a,b="function"==typeof a?null:a,f):d},f.target=function(a){return arguments.length?(e=a,c="function"==typeof a?null:a,f):e},f.precision=function(){return arguments.length?f:0},f},a.geo.interpolate=function(a,b){return he(a[0]*Ga,a[1]*Ga,b[0]*Ga,b[1]*Ga)};function he(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(Pa(d-b)+e*g*Pa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Ha,Math.atan2(g,Math.sqrt(d*d+e*e))*Ha]}:function(){return[a*Ha,b*Ha]};return o.distance=m,o}a.geo.length=function(b){return ie=0,a.geo.stream(b,je),ie};var ie,je={sphere:L,point:L,lineStart:ke,lineEnd:L,polygonStart:L,polygonEnd:L};function ke(){var a,b,c;je.point=function(e,f){a=e*Ga,b=Math.sin(f*=Ga),c=Math.cos(f),je.point=d},je.lineEnd=function(){je.point=je.lineEnd=L};function d(d,e){var f=Math.sin(e*=Ga),g=Math.cos(e),h=t((d*=Ga)-a),i=Math.cos(h);ie+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=c*f-b*g*i)*h),b*f+c*g*i),a=d,b=f,c=g}}function le(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}var me=le(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(a.geo.azimuthalEqualArea=function(){return Ud(me)}).raw=me;var ne=le(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},H);(a.geo.azimuthalEquidistant=function(){return Ud(ne)}).raw=ne;function oe(a,b){var c=Math.cos(a),d=function(a){return Math.tan(Ca/4+a/2)},e=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(d(b)/d(a)),f=c*Math.pow(d(a),e)/e;if(!e)return re;function g(a,b){f>0?-Fa+Aa>b&&(b=-Fa+Aa):b>Fa-Aa&&(b=Fa-Aa);var c=f/Math.pow(d(b),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}return g.invert=function(a,b){var c=f-b,d=Ia(e)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Fa]},g}(a.geo.conicConformal=function(){return wd(oe)}).raw=oe;function pe(a,b){var c=Math.cos(a),d=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),e=c/d+a;if(t(d)<Aa)return Xd;function f(a,b){var c=e-b;return[c*Math.sin(d*a),e-c*Math.cos(d*a)]}return f.invert=function(a,b){var c=e-b;return[Math.atan2(a,c)/d,e-Ia(d)*Math.sqrt(a*a+c*c)]},f}(a.geo.conicEquidistant=function(){return wd(pe)}).raw=pe;var qe=le(function(a){return 1/a},Math.atan);(a.geo.gnomonic=function(){return Ud(qe)}).raw=qe;function re(a,b){return[a,Math.log(Math.tan(Ca/4+b/2))]}re.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Fa]};function se(a){var b,c=Ud(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Ca*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}(a.geo.mercator=function(){return se(re)}).raw=re;var te=le(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Ud(te)}).raw=te;var ue=le(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(a.geo.stereographic=function(){return Ud(ue)}).raw=ue;function ve(a,b){return[Math.log(Math.tan(Ca/4+b/2)),-a]}ve.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Fa]},(a.geo.transverseMercator=function(){var a=se(ve),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=ve,a.geom={};function we(a){return a[0]}function xe(a){return a[1]}a.geom.hull=function(a){var b=we,c=xe;if(arguments.length)return d(a);function d(a){if(a.length<3)return[];var d,e=xb(b),f=xb(c),g=a.length,h=[],i=[];for(d=0;g>d;d++)h.push([+e.call(this,a[d],d),+f.call(this,a[d],d),d]);for(h.sort(ze),d=0;g>d;d++)i.push([h[d][0],-h[d][1]]);var j=ye(h),k=ye(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(d=j.length-1;d>=0;--d)n.push(a[h[j[d]][2]]);for(d=+l;d<k.length-m;++d)n.push(a[h[k[d]][2]]);return n}return d.x=function(a){return arguments.length?(b=a,d):b},d.y=function(a){return arguments.length?(c=a,d):c},d};function ye(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&Ja(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function ze(a,b){return a[0]-b[0]||a[1]-b[1]}a.geom.polygon=function(a){return S(a,Ae),a};var Ae=a.geom.polygon.prototype=[];Ae.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},Ae.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},Ae.clip=function(a){for(var b,c,d,e,f,g,h=De(a),i=-1,j=this.length-De(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Be(g,k,e)?(Be(f,k,e)||a.push(Ce(f,g,k,e)),a.push(g)):Be(f,k,e)&&a.push(Ce(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};function Be(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Ce(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function De(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}var Ee,Fe,Ge,He,Ie,Je=[],Ke=[];function Le(){ef(this),this.edge=this.site=this.circle=null}function Me(a){var b=Je.pop()||new Le;return b.site=a,b}function Ne(a){Xe(a),Ge.remove(a),Je.push(a),ef(a)}function Oe(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Ne(a);for(var i=f;i.circle&&t(c-i.circle.x)<Aa&&t(d-i.circle.cy)<Aa;)f=i.P,h.unshift(i),Ne(i),i=f;h.unshift(i),Xe(i);for(var j=g;j.circle&&t(c-j.circle.x)<Aa&&t(d-j.circle.cy)<Aa;)g=j.N,h.push(j),Ne(j),j=g;h.push(j),Xe(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],bf(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=_e(i.site,j.site,null,e),We(i),We(j)}function Pe(a){for(var b,c,d,e,f=a.x,g=a.y,h=Ge._;h;)if(d=Qe(h,g)-f,d>Aa)h=h.L;else{if(e=f-Re(h,g),!(e>Aa)){d>-Aa?(b=h.P,c=h):e>-Aa?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Me(a);if(Ge.insert(b,i),b||c){if(b===c)return Xe(b),c=Me(b.site),Ge.insert(i,c),i.edge=c.edge=_e(b.site,i.site),We(b),void We(c);if(!c)return void(i.edge=_e(b.site,i.site));Xe(b),Xe(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};bf(c.edge,j,o,u),i.edge=_e(j,a,null,u),c.edge=_e(a,o,null,u),We(b),We(c)}}function Qe(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Re(a,b){var c=a.N;if(c)return Qe(c,b);var d=a.site;return d.y===b?d.x:1/0}function Se(a){this.site=a,this.edges=[]}Se.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Ue),b.length};function Te(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=Fe,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(t(d-b)>Aa||t(e-c)>Aa)&&(h.splice(g,0,new cf(af(f.site,k,t(d-l)<Aa&&o-e>Aa?{x:l,y:t(b-l)<Aa?c:o}:t(e-o)<Aa&&m-d>Aa?{x:t(c-o)<Aa?b:m,y:o}:t(d-m)<Aa&&e-n>Aa?{x:m,y:t(b-m)<Aa?c:n}:t(e-n)<Aa&&d-l>Aa?{x:t(c-n)<Aa?b:l,y:n}:null),f.site,null)),++i)}function Ue(a,b){return b.angle-a.angle}function Ve(){ef(this),this.x=this.y=this.arc=this.site=this.cy=null}function We(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Ba)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=Ke.pop()||new Ve;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=Ie._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}Ie.insert(s,r),s||(He=r)}}}}function Xe(a){var b=a.circle;b&&(b.P||(He=b.N),Ie.remove(b),Ke.push(b),ef(b),a.circle=null)}function Ye(a){for(var b,c=Ee,d=td(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Ze(b,a)||!d(b)||t(b.a.x-b.b.x)<Aa&&t(b.a.y-b.b.y)<Aa)&&(b.a=b.b=null,c.splice(e,1))}function Ze(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function $e(a,b){this.l=a,this.r=b,this.a=this.b=null}function _e(a,b,c,d){var e=new $e(a,b);return Ee.push(e),c&&bf(e,a,b,c),d&&bf(e,b,a,d),Fe[a.i].edges.push(new cf(e,a,b)),Fe[b.i].edges.push(new cf(e,b,a)),e}function af(a,b,c){var d=new $e(a,null);return d.a=b,d.b=c,Ee.push(d),d}function bf(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function cf(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}cf.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function df(){this._=null}function ef(a){a.U=a.C=a.L=a.R=a.P=a.N=null}df.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=hf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(ff(this,c),a=c,c=a.U),c.C=!1,d.C=!0,gf(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(gf(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ff(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?hf(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,ff(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,gf(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,ff(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,gf(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,ff(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,gf(this,e),a=this._;break}b.C=!0,
a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}};function ff(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function gf(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function hf(a){for(;a.L;)a=a.L;return a}function jf(a,b){var c,d,e,f=a.sort(kf).pop();for(Ee=[],Fe=new Array(a.length),Ge=new df,Ie=new df;;)if(e=He,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&(Fe[f.i]=new Se(f),Pe(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Oe(e.arc)}b&&(Ye(b),Te(b));var g={cells:Fe,edges:Ee};return Ge=Ie=Ee=Fe=null,g}function kf(a,b){return b.y-a.y||b.x-a.x}a.geom.voronoi=function(a){var b=we,c=xe,d=b,e=c,f=lf;if(a)return g(a);function g(a){var b=new Array(a.length),c=f[0][0],d=f[0][1],e=f[1][0],g=f[1][1];return jf(h(a),f).cells.forEach(function(f,h){var i=f.edges,j=f.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=c&&j.x<=e&&j.y>=d&&j.y<=g?[[c,g],[e,g],[e,d],[c,d]]:[];k.point=a[h]}),b}function h(a){return a.map(function(a,b){return{x:Math.round(d(a,b)/Aa)*Aa,y:Math.round(e(a,b)/Aa)*Aa,i:b}})}return g.links=function(a){return jf(h(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},g.triangles=function(a){var b=[];return jf(h(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Ue),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&mf(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},g.x=function(a){return arguments.length?(d=xb(b=a),g):b},g.y=function(a){return arguments.length?(e=xb(c=a),g):c},g.clipExtent=function(a){return arguments.length?(f=null==a?lf:a,g):f===lf?null:f},g.size=function(a){return arguments.length?g.clipExtent(a&&[[0,0],a]):f===lf?null:f&&f[1]},g};var lf=[[-1e6,-1e6],[1e6,1e6]];function mf(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}a.geom.delaunay=function(b){return a.geom.voronoi().triangles(b)},a.geom.quadtree=function(a,b,c,d,e){var f,g=we,h=xe;if(f=arguments.length)return g=nf,h=of,3===f&&(e=c,d=b,c=b=0),i(a);function i(a){var i,j,k,l,m,n,o,p,q,r=xb(g),s=xb(h);if(null!=b)n=b,o=c,p=d,q=e;else if(p=q=-(n=o=1/0),j=[],k=[],m=a.length,f)for(l=0;m>l;++l)i=a[l],i.x<n&&(n=i.x),i.y<o&&(o=i.y),i.x>p&&(p=i.x),i.y>q&&(q=i.y),j.push(i.x),k.push(i.y);else for(l=0;m>l;++l){var u=+r(i=a[l],l),v=+s(i,l);n>u&&(n=u),o>v&&(o=v),u>p&&(p=u),v>q&&(q=v),j.push(u),k.push(v)}var w=p-n,x=q-o;w>x?q=o+w:p=n+x;function y(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,j=a.y;if(null!=i)if(t(i-c)+t(j-d)<.01)z(a,b,c,d,e,f,g,h);else{var k=a.point;a.x=a.y=a.point=null,z(a,k,i,j,e,f,g,h),z(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else z(a,b,c,d,e,f,g,h)}function z(a,b,c,d,e,f,g,h){var i=.5*(e+g),j=.5*(f+h),k=c>=i,l=d>=j,m=l<<1|k;a.leaf=!1,a=a.nodes[m]||(a.nodes[m]=pf()),k?e=i:g=i,l?f=j:h=j,y(a,b,c,d,e,f,g,h)}var A=pf();if(A.add=function(a){y(A,a,+r(a,++l),+s(a,l),n,o,p,q)},A.visit=function(a){qf(a,A,n,o,p,q)},A.find=function(a){return rf(A,a[0],a[1],n,o,p,q)},l=-1,null==b){for(;++l<m;)y(A,a[l],j[l],k[l],n,o,p,q);--l}else a.forEach(A.add);return j=k=a=i=null,A}return i.x=function(a){return arguments.length?(g=a,i):g},i.y=function(a){return arguments.length?(h=a,i):h},i.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),i):null==b?null:[[b,c],[d,e]]},i.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),i):null==b?null:[d-b,e-c]},i};function nf(a){return a.x}function of(a){return a.y}function pf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function qf(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&qf(a,i[0],c,d,g,h),i[1]&&qf(a,i[1],g,d,e,h),i[2]&&qf(a,i[2],c,h,g,f),i[3]&&qf(a,i[3],g,h,e,f)}}function rf(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}a.interpolateRgb=sf;function sf(b,c){b=a.rgb(b),c=a.rgb(c);var d=b.r,e=b.g,f=b.b,g=c.r-d,h=c.g-e,i=c.b-f;return function(a){return"#"+qb(Math.round(d+g*a))+qb(Math.round(e+h*a))+qb(Math.round(f+i*a))}}a.interpolateObject=tf;function tf(a,b){var c,d={},e={};for(c in a)c in b?d[c]=yf(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}a.interpolateNumber=uf;function uf(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}a.interpolateString=vf;function vf(a,b){var c,d,e,f=wf.lastIndex=xf.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=wf.exec(a))&&(d=xf.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:uf(c,d)})),f=xf.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}var wf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xf=new RegExp(wf.source,"g");a.interpolate=yf;function yf(b,c){for(var d,e=a.interpolators.length;--e>=0&&!(d=a.interpolators[e](b,c)););return d}a.interpolators=[function(a,b){var c=typeof b;return("string"===c?wb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?sf:vf:b instanceof Wa?sf:Array.isArray(b)?zf:"object"===c&&isNaN(b)?tf:uf)(a,b)}],a.interpolateArray=zf;function zf(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(yf(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}var Af=function(){return H},Bf=a.map({linear:Af,poly:Jf,quad:function(){return Gf},cubic:function(){return Hf},sin:function(){return Kf},exp:function(){return Lf},circle:function(){return Mf},elastic:Nf,back:Of,bounce:function(){return Pf}}),Cf=a.map({"in":H,out:Ef,"in-out":Ff,"out-in":function(a){return Ff(Ef(a))}});a.ease=function(a){var c=a.indexOf("-"),d=c>=0?a.slice(0,c):a,e=c>=0?a.slice(c+1):"in";return d=Bf.get(d)||Af,e=Cf.get(e)||H,Df(e(d.apply(null,b.call(arguments,1))))};function Df(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function Ef(a){return function(b){return 1-a(1-b)}}function Ff(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Gf(a){return a*a}function Hf(a){return a*a*a}function If(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Jf(a){return function(b){return Math.pow(b,a)}}function Kf(a){return 1-Math.cos(a*Fa)}function Lf(a){return Math.pow(2,10*(a-1))}function Mf(a){return 1-Math.sqrt(1-a*a)}function Nf(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Da*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Da/b)}}function Of(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Pf(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}a.interpolateHcl=Qf;function Qf(b,c){b=a.hcl(b),c=a.hcl(c);var d=b.h,e=b.c,f=b.l,g=c.h-d,h=c.c-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.c:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:-180>g&&(g+=360),function(a){return ab(d+g*a,e+h*a,f+i*a)+""}}a.interpolateHsl=Rf;function Rf(b,c){b=a.hsl(b),c=a.hsl(c);var d=b.h,e=b.s,f=b.l,g=c.h-d,h=c.s-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.s:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:-180>g&&(g+=360),function(a){return Za(d+g*a,e+h*a,f+i*a)+""}}a.interpolateLab=Sf;function Sf(b,c){b=a.lab(b),c=a.lab(c);var d=b.l,e=b.a,f=b.b,g=c.l-d,h=c.a-e,i=c.b-f;return function(a){return hb(d+g*a,e+h*a,f+i*a)+""}}a.interpolateRound=Tf;function Tf(a,b){return b-=a,function(c){return Math.round(a+b*c)}}a.transform=function(b){var c=d.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(a){if(null!=a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new Uf(b?b.matrix:Yf)})(b)};function Uf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Wf(b),e=Vf(b,c),f=Wf(Xf(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Ha,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Ha:0}Uf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Vf(a,b){return a[0]*b[0]+a[1]*b[1]}function Wf(a){var b=Math.sqrt(Vf(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Xf(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}var Yf={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Zf;function Zf(b,c){var d,e=[],f=[],g=a.transform(b),h=a.transform(c),i=g.translate,j=h.translate,k=g.rotate,l=h.rotate,m=g.skew,n=h.skew,o=g.scale,p=h.scale;return i[0]!=j[0]||i[1]!=j[1]?(e.push("translate(",null,",",null,")"),f.push({i:1,x:uf(i[0],j[0])},{i:3,x:uf(i[1],j[1])})):j[0]||j[1]?e.push("translate("+j+")"):e.push(""),k!=l?(k-l>180?l+=360:l-k>180&&(k+=360),f.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:uf(k,l)})):l&&e.push(e.pop()+"rotate("+l+")"),m!=n?f.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:uf(m,n)}):n&&e.push(e.pop()+"skewX("+n+")"),o[0]!=p[0]||o[1]!=p[1]?(d=e.push(e.pop()+"scale(",null,",",null,")"),f.push({i:d-4,x:uf(o[0],p[0])},{i:d-2,x:uf(o[1],p[1])})):(1!=p[0]||1!=p[1])&&e.push(e.pop()+"scale("+p+")"),d=f.length,function(a){for(var b,c=-1;++c<d;)e[(b=f[c]).i]=b.x(a);return e.join("")}}function $f(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function _f(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}a.layout={},a.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(ag(a[c]));return b}};function ag(a){for(var b=a.source,c=a.target,d=cg(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function bg(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function cg(a,b){if(a===b)return a;for(var c=bg(a),d=bg(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}a.layout.chord=function(){var b,c,d,e,f,g,h,i={},j=0;function k(){var i,k,m,n,o,p={},q=[],r=a.range(e),s=[];for(b=[],c=[],i=0,n=-1;++n<e;){for(k=0,o=-1;++o<e;)k+=d[n][o];q.push(k),s.push(a.range(e)),i+=k}for(f&&r.sort(function(a,b){return f(q[a],q[b])}),g&&s.forEach(function(a,b){a.sort(function(a,c){return g(d[b][a],d[b][c])})}),i=(Da-j*e)/i,k=0,n=-1;++n<e;){for(m=k,o=-1;++o<e;){var t=r[n],u=s[t][o],v=d[t][u],w=k,x=k+=v*i;p[t+"-"+u]={index:t,subindex:u,startAngle:w,endAngle:x,value:v}}c[t]={index:t,startAngle:m,endAngle:k,value:(k-m)/i},k+=j}for(n=-1;++n<e;)for(o=n-1;++o<e;){var y=p[n+"-"+o],z=p[o+"-"+n];(y.value||z.value)&&b.push(y.value<z.value?{source:z,target:y}:{source:y,target:z})}h&&l()}function l(){b.sort(function(a,b){return h((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}return i.matrix=function(a){return arguments.length?(e=(d=a)&&d.length,b=c=null,i):d},i.padding=function(a){return arguments.length?(j=a,b=c=null,i):j},i.sortGroups=function(a){return arguments.length?(f=a,b=c=null,i):f},i.sortSubgroups=function(a){return arguments.length?(g=a,b=null,i):g},i.sortChords=function(a){return arguments.length?(h=a,b&&l(),i):h},i.chords=function(){return b||k(),b},i.groups=function(){return c||k(),c},i},a.layout.force=function(){var b,c,d,e,f,g={},h=a.dispatch("start","tick","end"),i=[1,1],j=.9,k=ig,l=jg,m=-30,n=kg,o=.1,p=.64,q=[],r=[];function s(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/p){if(n>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&n>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}g.tick=function(){if((c*=.99)<.005)return h.end({type:"end",alpha:c=0}),!0;var b,g,k,l,n,p,t,u,v,w=q.length,x=r.length;for(g=0;x>g;++g)k=r[g],l=k.source,n=k.target,u=n.x-l.x,v=n.y-l.y,(p=u*u+v*v)&&(p=c*e[g]*((p=Math.sqrt(p))-d[g])/p,u*=p,v*=p,n.x-=u*(t=l.weight/(n.weight+l.weight)),n.y-=v*t,l.x+=u*(t=1-t),l.y+=v*t);if((t=c*o)&&(u=i[0]/2,v=i[1]/2,g=-1,t))for(;++g<w;)k=q[g],k.x+=(u-k.x)*t,k.y+=(v-k.y)*t;if(m)for(hg(b=a.geom.quadtree(q),c,f),g=-1;++g<w;)(k=q[g]).fixed||b.visit(s(k));for(g=-1;++g<w;)k=q[g],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*j,k.y-=(k.py-(k.py=k.y))*j);h.tick({type:"tick",alpha:c})},g.nodes=function(a){return arguments.length?(q=a,g):q},g.links=function(a){return arguments.length?(r=a,g):r},g.size=function(a){return arguments.length?(i=a,g):i},g.linkDistance=function(a){return arguments.length?(k="function"==typeof a?a:+a,g):k},g.distance=g.linkDistance,g.linkStrength=function(a){return arguments.length?(l="function"==typeof a?a:+a,g):l},g.friction=function(a){return arguments.length?(j=+a,g):j},g.charge=function(a){return arguments.length?(m="function"==typeof a?a:+a,g):m},g.chargeDistance=function(a){return arguments.length?(n=a*a,g):Math.sqrt(n)},g.gravity=function(a){return arguments.length?(o=+a,g):o},g.theta=function(a){return arguments.length?(p=a*a,g):Math.sqrt(p)},g.alpha=function(b){return arguments.length?(b=+b,c?c=b>0?b:0:b>0&&(h.start({type:"start",alpha:c=b}),a.timer(g.tick)),g):c},g.start=function(){var a,b,c,h=q.length,j=r.length,n=i[0],o=i[1];for(a=0;h>a;++a)(c=q[a]).index=a,c.weight=0;for(a=0;j>a;++a)c=r[a],"number"==typeof c.source&&(c.source=q[c.source]),"number"==typeof c.target&&(c.target=q[c.target]),++c.source.weight,++c.target.weight;for(a=0;h>a;++a)c=q[a],isNaN(c.x)&&(c.x=p("x",n)),isNaN(c.y)&&(c.y=p("y",o)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(d=[],"function"==typeof k)for(a=0;j>a;++a)d[a]=+k.call(this,r[a],a);else for(a=0;j>a;++a)d[a]=k;if(e=[],"function"==typeof l)for(a=0;j>a;++a)e[a]=+l.call(this,r[a],a);else for(a=0;j>a;++a)e[a]=l;if(f=[],"function"==typeof m)for(a=0;h>a;++a)f[a]=+m.call(this,q[a],a);else for(a=0;h>a;++a)f[a]=m;function p(c,d){if(!b){for(b=new Array(h),i=0;h>i;++i)b[i]=[];for(i=0;j>i;++i){var e=r[i];b[e.source.index].push(e.target),b[e.target.index].push(e.source)}}for(var f,g=b[a],i=-1,k=g.length;++i<k;)if(!isNaN(f=g[i][c]))return f;return Math.random()*d}return g.resume()},g.resume=function(){return g.alpha(.1)},g.stop=function(){return g.alpha(0)},g.drag=function(){return b||(b=a.behavior.drag().origin(H).on("dragstart.force",dg).on("drag.force",t).on("dragend.force",eg)),arguments.length?void this.on("mouseover.force",fg).on("mouseout.force",gg).call(b):b};function t(b){b.px=a.event.x,b.py=a.event.y,g.resume()}return a.rebind(g,h,"on")};function dg(a){a.fixed|=2}function eg(a){a.fixed&=-7}function fg(a){a.fixed|=4,a.px=a.x,a.py=a.y}function gg(a){a.fixed&=-5}function hg(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(hg(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}var ig=20,jg=1,kg=1/0;a.layout.hierarchy=function(){var a=qg,b=og,c=pg;function d(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=b.call(d,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;c&&(f.value=0),f.children=j}else c&&(f.value=+c.call(d,f,f.depth)||0),delete f.children;return ng(e,function(b){var d,e;a&&(d=b.children)&&d.sort(a),c&&(e=b.parent)&&(e.value+=b.value)}),h}return d.sort=function(b){return arguments.length?(a=b,d):a},d.children=function(a){return arguments.length?(b=a,d):b},d.value=function(a){return arguments.length?(c=a,d):c},d.revalue=function(a){return c&&(mg(a,function(a){a.children&&(a.value=0)}),ng(a,function(a){var b;a.children||(a.value=+c.call(d,a,a.depth)||0),(b=a.parent)&&(b.value+=a.value)})),a},d};function lg(b,c){return a.rebind(b,c,"sort","children","value"),b.nodes=b,b.links=rg,b}function mg(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function ng(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function og(a){return a.children}function pg(a){return a.value}function qg(a,b){return b.value-a.value}function rg(b){return a.merge(b.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}a.layout.partition=function(){var b=a.layout.hierarchy(),c=[1,1];function d(a,b,c,e){var f=a.children;if(a.x=b,a.y=a.depth*e,a.dx=c,a.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(c=a.value?c/a.value:0;++j<g;)d(h=f[j],b,i=h.value*c,e),b+=i}}function e(a){var b=a.children,c=0;if(b&&(d=b.length))for(var d,f=-1;++f<d;)c=Math.max(c,e(b[f]));return 1+c}function f(a,f){var g=b.call(this,a,f);return d(g[0],0,c[0],c[1]/e(g[0])),g}return f.size=function(a){return arguments.length?(c=a,f):c},lg(f,b)},a.layout.pie=function(){var b=Number,c=sg,d=0,e=Da,f=0;function g(h){var i,j=h.length,k=h.map(function(a,c){return+b.call(g,a,c)}),l=+("function"==typeof d?d.apply(this,arguments):d),m=("function"==typeof e?e.apply(this,arguments):e)-l,n=Math.min(Math.abs(m)/j,+("function"==typeof f?f.apply(this,arguments):f)),o=n*(0>m?-1:1),p=(m-j*o)/a.sum(k),q=a.range(j),r=[];return null!=c&&q.sort(c===sg?function(a,b){return k[b]-k[a]}:function(a,b){return c(h[a],h[b])}),q.forEach(function(a){r[a]={data:h[a],value:i=k[a],startAngle:l,endAngle:l+=i*p+o,padAngle:n}}),r}return g.value=function(a){return arguments.length?(b=a,g):b},g.sort=function(a){return arguments.length?(c=a,g):c},g.startAngle=function(a){return arguments.length?(d=a,g):d},g.endAngle=function(a){return arguments.length?(e=a,g):e},g.padAngle=function(a){return arguments.length?(f=a,g):f},g};var sg={};a.layout.stack=function(){var b=H,c=yg,d=zg,e=vg,f=tg,g=ug;function h(i,j){if(!(n=i.length))return i;var k=i.map(function(a,c){return b.call(h,a,c)}),l=k.map(function(a){return a.map(function(a,b){return[f.call(h,a,b),g.call(h,a,b)]})}),m=c.call(h,l,j);k=a.permute(k,m),l=a.permute(l,m);var n,o,p,q,r=d.call(h,l,j),s=k[0].length;for(p=0;s>p;++p)for(e.call(h,k[0][p],q=r[p],l[0][p][1]),o=1;n>o;++o)e.call(h,k[o][p],q+=l[o-1][p][1],l[o][p][1]);return i}return h.values=function(a){return arguments.length?(b=a,h):b},h.order=function(a){return arguments.length?(c="function"==typeof a?a:wg.get(a)||yg,h):c},h.offset=function(a){return arguments.length?(d="function"==typeof a?a:xg.get(a)||zg,h):d},h.x=function(a){return arguments.length?(f=a,h):f},h.y=function(a){return arguments.length?(g=a,h):g},h.out=function(a){return arguments.length?(e=a,h):e},h};function tg(a){return a.x}function ug(a){return a.y}function vg(a,b,c){a.y0=b,a.y=c}var wg=a.map({"inside-out":function(b){var c,d,e=b.length,f=b.map(Ag),g=b.map(Bg),h=a.range(e).sort(function(a,b){return f[a]-f[b]}),i=0,j=0,k=[],l=[];for(c=0;e>c;++c)d=h[c],j>i?(i+=g[d],k.push(d)):(j+=g[d],l.push(d));return l.reverse().concat(k)},reverse:function(b){return a.range(b.length).reverse()},"default":yg}),xg=a.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:zg});function yg(b){return a.range(b.length)}function zg(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function Ag(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function Bg(a){return a.reduce(Cg,0)}function Cg(a,b){return a+b[1]}a.layout.histogram=function(){var b=!0,c=Number,d=Fg,e=Dg;function f(f,g){for(var h,i,j=[],k=f.map(c,this),l=d.call(this,k,g),m=e.call(this,l,k,g),g=-1,n=k.length,o=m.length-1,p=b?1:1/n;++g<o;)h=j[g]=[],h.dx=m[g+1]-(h.x=m[g]),h.y=0;if(o>0)for(g=-1;++g<n;)i=k[g],i>=l[0]&&i<=l[1]&&(h=j[a.bisect(m,i,1,o)-1],h.y+=p,h.push(f[g]));return j}return f.value=function(a){return arguments.length?(c=a,f):c},f.range=function(a){return arguments.length?(d=xb(a),f):d},f.bins=function(a){return arguments.length?(e="number"==typeof a?function(b){return Eg(b,a)}:xb(a),f):e},f.frequency=function(a){return arguments.length?(b=!!a,f):b},f};function Dg(a,b){return Eg(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Eg(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Fg(b){return[a.min(b),a.max(b)]}a.layout.pack=function(){var b,c=a.layout.hierarchy().sort(Gg),d=0,e=[1,1];function f(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,ng(h,function(a){a.r=+k(a.value)}),ng(h,Kg),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;ng(h,function(a){a.r+=l}),ng(h,Kg),ng(h,function(a){a.r-=l})}return Ng(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}return f.size=function(a){return arguments.length?(e=a,f):e},f.radius=function(a){return arguments.length?(b=null==a||"function"==typeof a?a:+a,f):b},f.padding=function(a){return arguments.length?(d=+a,f):d},lg(f,c)};function Gg(a,b){return a.value-b.value}function Hg(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function Ig(a,b){a._pack_next=b,b._pack_prev=a}function Jg(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Kg(a){if((b=a.children)&&(i=b.length)){var b,c,d,e,f,g,h,i,j=1/0,k=-(1/0),l=1/0,m=-(1/0);function n(a){j=Math.min(a.x-a.r,j),k=Math.max(a.x+a.r,k),l=Math.min(a.y-a.r,l),m=Math.max(a.y+a.r,m)}if(b.forEach(Lg),c=b[0],c.x=-c.r,c.y=0,n(c),i>1&&(d=b[1],d.x=d.r,d.y=0,n(d),i>2))for(e=b[2],Og(c,d,e),n(e),Hg(c,e),c._pack_prev=e,Hg(e,d),d=c._pack_next,f=3;i>f;f++){Og(c,d,e=b[f]);var o=0,p=1,q=1;for(g=d._pack_next;g!==d;g=g._pack_next,p++)if(Jg(g,e)){o=1;break}if(1==o)for(h=c._pack_prev;h!==g._pack_prev&&!Jg(h,e);h=h._pack_prev,q++);o?(q>p||p==q&&d.r<c.r?Ig(c,d=g):Ig(c=h,d),f--):(Hg(c,e),d=e,n(e))}var r=(j+k)/2,s=(l+m)/2,t=0;for(f=0;i>f;f++)e=b[f],e.x-=r,e.y-=s,t=Math.max(t,e.r+Math.sqrt(e.x*e.x+e.y*e.y));a.r=t,b.forEach(Mg)}}function Lg(a){a._pack_next=a._pack_prev=a}function Mg(a){delete a._pack_next,delete a._pack_prev}function Ng(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Ng(e[f],b,c,d)}function Og(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}a.layout.tree=function(){var b=a.layout.hierarchy().sort(null).value(null),c=Pg,d=[1,1],e=null;function f(a,f){var j=b.call(this,a,f),l=j[0],m=g(l);if(ng(m,h),m.parent.m=-m.z,mg(m,i),e)mg(l,k);else{var n=l,o=l,p=l;mg(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=c(n,o)/2-n.x,r=d[0]/(o.x+c(o,n)/2+q),s=d[1]/(p.depth||1);mg(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return j}function g(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function h(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){Tg(a);var f=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+c(a._,e._),a.m=a.z-f):a.z=f}else e&&(a.z=e.z+c(a._,e._));a.parent.A=j(a,e,a.parent.A||d[0])}function i(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function j(a,b,d){if(b){for(var e,f=a,g=a,h=b,i=f.parent.children[0],j=f.m,k=g.m,l=h.m,m=i.m;h=Rg(h),f=Qg(f),h&&f;)i=Qg(i),g=Rg(g),g.a=a,e=h.z+l-f.z-j+c(h._,f._),e>0&&(Sg(Ug(h,a,d),a,e),j+=e,k+=e),l+=h.m,j+=f.m,m+=i.m,k+=g.m;h&&!Rg(g)&&(g.t=h,g.m+=l-k),f&&!Qg(i)&&(i.t=f,i.m+=j-m,d=a)}return d}function k(a){a.x*=d[0],a.y=a.depth*d[1]}return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a)?k:null,f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null==(d=a)?null:k,f):e?d:null},lg(f,b)};function Pg(a,b){return a.parent==b.parent?1:2}function Qg(a){var b=a.children;return b.length?b[0]:a.t}function Rg(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Sg(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Tg(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Ug(a,b,c){return a.a.parent===b.parent?a.a:c}a.layout.cluster=function(){var b=a.layout.hierarchy().sort(null).value(null),c=Pg,d=[1,1],e=!1;function f(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;ng(i,function(a){var b=a.children;b&&b.length?(a.x=Wg(b),a.y=Vg(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Xg(i),l=Yg(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return ng(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a),f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null!=(d=a),f):e?d:null},lg(f,b)};function Vg(b){return 1+a.max(b,function(a){return a.y})}function Wg(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Xg(a){var b=a.children;return b&&b.length?Xg(b[0]):a}function Yg(a){var b,c=a.children;return c&&(b=c.length)?Yg(c[b-1]):a}a.layout.treemap=function(){var b,c=a.layout.hierarchy(),d=Math.round,e=[1,1],f=null,g=Zg,h=!1,i="squarify",j=.5*(1+Math.sqrt(5));function k(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function l(a){var b=a.children;if(b&&b.length){var c,d,e,f=g(a),h=[],j=b.slice(),m=1/0,p="slice"===i?f.dx:"dice"===i?f.dy:"slice-dice"===i?1&a.depth?f.dy:f.dx:Math.min(f.dx,f.dy);for(k(j,f.dx*f.dy/a.value),h.area=0;(e=j.length)>0;)h.push(c=j[e-1]),h.area+=c.area,"squarify"!==i||(d=n(h,p))<=m?(j.pop(),m=d):(h.area-=h.pop().area,o(h,p,f,!1),p=Math.min(f.dx,f.dy),h.length=h.area=0,m=1/0);h.length&&(o(h,p,f,!0),h.length=h.area=0),b.forEach(l)}}function m(a){var b=a.children;if(b&&b.length){var c,d=g(a),e=b.slice(),f=[];for(k(e,d.dx*d.dy/a.value),f.area=0;c=e.pop();)f.push(c),f.area+=c.area,null!=c.z&&(o(f,c.z?d.dx:d.dy,d,!e.length),f.length=f.area=0);b.forEach(m)}}function n(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*j/d,d/(b*f*j)):1/0}function o(a,b,c,e){var f,g=-1,h=a.length,i=c.x,j=c.y,k=b?d(a.area/b):0;if(b==c.dx){for((e||k>c.dy)&&(k=c.dy);++g<h;)f=a[g],f.x=i,f.y=j,f.dy=k,i+=f.dx=Math.min(c.x+c.dx-i,k?d(f.area/k):0);f.z=!0,f.dx+=c.x+c.dx-i,c.y+=k,c.dy-=k}else{for((e||k>c.dx)&&(k=c.dx);++g<h;)f=a[g],f.x=i,f.y=j,f.dx=k,j+=f.dy=Math.min(c.y+c.dy-j,k?d(f.area/k):0);f.z=!1,f.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function p(a){var d=b||c(a),f=d[0];return f.x=0,f.y=0,f.dx=e[0],f.dy=e[1],b&&c.revalue(f),k([f],f.dx*f.dy/f.value),(b?m:l)(f),h&&(b=d),d}return p.size=function(a){return arguments.length?(e=a,p):e},p.padding=function(a){if(!arguments.length)return f;function b(b){var c=a.call(p,b,b.depth);return null==c?Zg(b):$g(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return $g(b,a)}var d;return g=null==(f=a)?Zg:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,p},p.round=function(a){return arguments.length?(d=a?Math.round:Number,p):d!=Number},p.sticky=function(a){return arguments.length?(h=a,b=null,p):h},p.ratio=function(a){return arguments.length?(j=a,p):j},p.mode=function(a){return arguments.length?(i=a+"",p):i},lg(p,c)};function Zg(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function $g(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}a.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var b=a.random.normal.apply(a,arguments);return function(){return Math.exp(b())}},bates:function(b){var c=a.random.irwinHall(b);return function(){return c()/b}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},a.scale={};function _g(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function ah(a){return a.rangeExtent?a.rangeExtent():_g(a.range())}function bh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function ch(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function dh(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:eh}var eh={floor:H,ceil:H};function fh(b,c,d,e){var f=[],g=[],h=0,i=Math.min(b.length,c.length)-1;for(b[i]<b[0]&&(b=b.slice().reverse(),c=c.slice().reverse());++h<=i;)f.push(d(b[h-1],b[h])),g.push(e(c[h-1],c[h]));return function(c){var d=a.bisect(b,c,1,i)-1;return g[d](f[d](c))}}a.scale.linear=function(){return gh([0,1],[0,1],yf,!1)};function gh(a,b,c,d){var e,f;function g(){var g=Math.min(a.length,b.length)>2?fh:bh,i=d?_f:$f;return e=g(a,b,i,c),f=g(b,a,i,yf),h}function h(a){return e(a)}return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(Tf)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return kh(a,b)},h.tickFormat=function(b,c){return lh(a,b,c)},h.nice=function(b){return ih(a,b),g()},h.copy=function(){return gh(a,b,c,d)},g()}function hh(b,c){return a.rebind(b,c,"range","rangeRound","interpolate","clamp")}function ih(a,b){return ch(a,dh(jh(a,b)[2]))}function jh(a,b){null==b&&(b=10);var c=_g(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function kh(b,c){return a.range.apply(a,jh(b,c))}function lh(b,c,d){var e=jh(b,c);if(d){var f=Pb.exec(d);if(f.shift(),"s"===f[8]){var g=a.formatPrefix(Math.max(t(e[0]),t(e[1])));return f[7]||(f[7]="."+nh(g.scale(e[2]))),f[8]="f",d=a.format(f.join("")),function(a){return d(g.scale(a))+g.symbol}}f[7]||(f[7]="."+oh(f[8],e)),d=f.join("")}else d=",."+nh(e[2])+"f";return a.format(d)}var mh={s:1,g:1,p:1,r:1,e:1};function nh(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function oh(a,b){var c=nh(b[2]);return a in mh?Math.abs(c-nh(Math.max(t(b[0]),t(b[1]))))+ +("e"!==a):c-2*("%"===a)}a.scale.log=function(){return ph(a.scale.linear().domain([0,1]),10,!0,[1,10])};function ph(b,c,d,e){function f(a){return(d?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(c)}function g(a){return d?Math.pow(c,a):-Math.pow(c,-a)}function h(a){return b(f(a))}return h.invert=function(a){return g(b.invert(a))},h.domain=function(a){return arguments.length?(d=a[0]>=0,b.domain((e=a.map(Number)).map(f)),h):e},h.base=function(a){return arguments.length?(c=+a,b.domain(e.map(f)),h):c},h.nice=function(){var a=ch(e.map(f),d?Math:rh);return b.domain(a),e=a.map(g),h},h.ticks=function(){var a=_g(e),b=[],h=a[0],i=a[1],j=Math.floor(f(h)),k=Math.ceil(f(i)),l=c%1?2:c;if(isFinite(k-j)){if(d){for(;k>j;j++)for(var m=1;l>m;m++)b.push(g(j)*m);b.push(g(j))}else for(b.push(g(j));j++<k;)for(var m=l-1;m>0;m--)b.push(g(j)*m);
for(j=0;b[j]<h;j++);for(k=b.length;b[k-1]>i;k--);b=b.slice(j,k)}return b},h.tickFormat=function(b,c){if(!arguments.length)return qh;arguments.length<2?c=qh:"function"!=typeof c&&(c=a.format(c));var e,i=Math.max(.1,b/h.ticks().length),j=d?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(a){return a/g(j(f(a)+e))<=i?c(a):""}},h.copy=function(){return ph(b.copy(),c,d,e)},hh(h,b)}var qh=a.format(".0e"),rh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};a.scale.pow=function(){return sh(a.scale.linear(),1,[0,1])};function sh(a,b,c){var d=th(b),e=th(1/b);function f(b){return a(d(b))}return f.invert=function(b){return e(a.invert(b))},f.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(d)),f):c},f.ticks=function(a){return kh(c,a)},f.tickFormat=function(a,b){return lh(c,a,b)},f.nice=function(a){return f.domain(ih(c,a))},f.exponent=function(g){return arguments.length?(d=th(b=g),e=th(1/b),a.domain(c.map(d)),f):b},f.copy=function(){return sh(a.copy(),b,c)},hh(f,a)}function th(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return uh([],{t:"range",a:[[]]})};function uh(b,c){var d,e,f;function g(a){return e[((d.get(a)||("range"===c.t?d.set(a,b.push(a)):NaN))-1)%e.length]}function h(c,d){return a.range(b.length).map(function(a){return c+d*a})}return g.domain=function(a){if(!arguments.length)return b;b=[],d=new w;for(var e,f=-1,h=a.length;++f<h;)d.has(e=a[f])||d.set(e,b.push(e));return g[c.t].apply(g,c.a)},g.range=function(a){return arguments.length?(e=a,f=0,c={t:"range",a:arguments},g):e},g.rangePoints=function(a,d){arguments.length<2&&(d=0);var i=a[0],j=a[1],k=b.length<2?(i=(i+j)/2,0):(j-i)/(b.length-1+d);return e=h(i+k*d/2,k),f=0,c={t:"rangePoints",a:arguments},g},g.rangeRoundPoints=function(a,d){arguments.length<2&&(d=0);var i=a[0],j=a[1],k=b.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(b.length-1+d)|0;return e=h(i+Math.round(k*d/2+(j-i-(b.length-1+d)*k)/2),k),f=0,c={t:"rangeRoundPoints",a:arguments},g},g.rangeBands=function(a,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=(l-k)/(b.length-d+2*i);return e=h(k+m*i,m),j&&e.reverse(),f=m*(1-d),c={t:"rangeBands",a:arguments},g},g.rangeRoundBands=function(a,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=Math.floor((l-k)/(b.length-d+2*i));return e=h(k+Math.round((l-k-(b.length-d)*m)/2),m),j&&e.reverse(),f=Math.round(m*(1-d)),c={t:"rangeRoundBands",a:arguments},g},g.rangeBand=function(){return f},g.rangeExtent=function(){return _g(c.a[0])},g.copy=function(){return uh(b,c)},g.domain(b)}a.scale.category10=function(){return a.scale.ordinal().range(vh)},a.scale.category20=function(){return a.scale.ordinal().range(wh)},a.scale.category20b=function(){return a.scale.ordinal().range(xh)},a.scale.category20c=function(){return a.scale.ordinal().range(yh)};var vh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ob),wh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ob),xh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ob),yh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ob);a.scale.quantile=function(){return zh([],[])};function zh(b,c){var d;function e(){var e=0,g=c.length;for(d=[];++e<g;)d[e-1]=a.quantile(b,e/g);return f}function f(b){return isNaN(b=+b)?void 0:c[a.bisect(d,b)]}return f.domain=function(a){return arguments.length?(b=a.map(o).filter(p).sort(n),e()):b},f.range=function(a){return arguments.length?(c=a,e()):c},f.quantiles=function(){return d},f.invertExtent=function(a){return a=c.indexOf(a),0>a?[NaN,NaN]:[a>0?d[a-1]:b[0],a<d.length?d[a]:b[b.length-1]]},f.copy=function(){return zh(b,c)},e()}a.scale.quantize=function(){return Ah(0,1,[0,1])};function Ah(a,b,c){var d,e;function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/d+a,[b,b+1/d]},f.copy=function(){return Ah(a,b,c)},g()}a.scale.threshold=function(){return Bh([.5],[0,1])};function Bh(b,c){function d(d){return d>=d?c[a.bisect(b,d)]:void 0}return d.domain=function(a){return arguments.length?(b=a,d):b},d.range=function(a){return arguments.length?(c=a,d):c},d.invertExtent=function(a){return a=c.indexOf(a),[b[a-1],b[a]]},d.copy=function(){return Bh(b,c)},d}a.scale.identity=function(){return Ch([0,1])};function Ch(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return kh(a,b)},b.tickFormat=function(b,c){return lh(a,b,c)},b.copy=function(){return Ch(a)},b}a.svg={};function Dh(){return 0}a.svg.arc=function(){var a=Fh,b=Gh,c=Dh,d=Eh,e=Hh,f=Ih,g=Jh;function h(){var h=Math.max(0,+a.apply(this,arguments)),j=Math.max(0,+b.apply(this,arguments)),k=e.apply(this,arguments)-Fa,l=f.apply(this,arguments)-Fa,m=Math.abs(l-k),n=k>l?0:1;if(h>j&&(o=j,j=h,h=o),m>=Ea)return i(j,n)+(h?i(h,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+g.apply(this,arguments)||0)/2)&&(q=d===Eh?Math.sqrt(h*h+j*j):+d.apply(this,arguments),n||(B*=-1),j&&(B=La(q/j*Math.sin(r))),h&&(A=La(q/h*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Ca?0:1;if(B&&Kh(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(h){w=h*Math.cos(l-A),x=h*Math.sin(l-A),y=h*Math.cos(k+A),z=h*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Ca?0:1;if(A&&Kh(w,x,y,z)===1-n^F){var G=(k+l)/2;w=h*Math.cos(G),x=h*Math.sin(G),y=z=null}}else w=x=0;if((o=Math.min(Math.abs(j-h)/2,+c.apply(this,arguments)))>.001){p=j>h^n?0:1;var H=null==y?[w,x]:null==u?[s,t]:Ce([s,t],[y,z],[u,v],[w,x]),I=s-H[0],J=t-H[1],K=u-H[0],L=v-H[1],M=1/Math.sin(Math.acos((I*K+J*L)/(Math.sqrt(I*I+J*J)*Math.sqrt(K*K+L*L)))/2),N=Math.sqrt(H[0]*H[0]+H[1]*H[1]);if(null!=u){var O=Math.min(o,(j-N)/(M+1)),P=Lh(null==y?[w,x]:[y,z],[s,t],j,O,n),Q=Lh([u,v],[w,x],j,O,n);o===O?C.push("M",P[0],"A",O,",",O," 0 0,",p," ",P[1],"A",j,",",j," 0 ",1-n^Kh(P[1][0],P[1][1],Q[1][0],Q[1][1]),",",n," ",Q[1],"A",O,",",O," 0 0,",p," ",Q[0]):C.push("M",P[0],"A",O,",",O," 0 1,",p," ",Q[0])}else C.push("M",s,",",t);if(null!=y){var R=Math.min(o,(h-N)/(M-1)),S=Lh([s,t],[y,z],h,-R,n),T=Lh([w,x],null==u?[s,t]:[u,v],h,-R,n);o===R?C.push("L",T[0],"A",R,",",R," 0 0,",p," ",T[1],"A",h,",",h," 0 ",n^Kh(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",R,",",R," 0 0,",p," ",S[0]):C.push("L",T[0],"A",R,",",R," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",h,",",h," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function i(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}return h.innerRadius=function(b){return arguments.length?(a=xb(b),h):a},h.outerRadius=function(a){return arguments.length?(b=xb(a),h):b},h.cornerRadius=function(a){return arguments.length?(c=xb(a),h):c},h.padRadius=function(a){return arguments.length?(d=a==Eh?Eh:xb(a),h):d},h.startAngle=function(a){return arguments.length?(e=xb(a),h):e},h.endAngle=function(a){return arguments.length?(f=xb(a),h):f},h.padAngle=function(a){return arguments.length?(g=xb(a),h):g},h.centroid=function(){var c=(+a.apply(this,arguments)+ +b.apply(this,arguments))/2,d=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2-Fa;return[Math.cos(d)*c,Math.sin(d)*c]},h};var Eh="auto";function Fh(a){return a.innerRadius}function Gh(a){return a.outerRadius}function Hh(a){return a.startAngle}function Ih(a){return a.endAngle}function Jh(a){return a&&a.padAngle}function Kh(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function Lh(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(t*t*s-u*u),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function Mh(a){var b=we,c=xe,d=fd,e=Oh,f=e.key,g=.7;function h(f){var h,i=[],j=[],k=-1,l=f.length,m=xb(b),n=xb(c);function o(){i.push("M",e(a(j),g))}for(;++k<l;)d.call(this,h=f[k],k)?j.push([+m.call(this,h,k),+n.call(this,h,k)]):j.length&&(o(),j=[]);return j.length&&o(),i.length?i.join(""):null}return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(f="function"==typeof a?e=a:(e=Nh.get(a)||Oh).key,h):f},h.tension=function(a){return arguments.length?(g=a,h):g},h}a.svg.line=function(){return Mh(H)};var Nh=a.map({linear:Oh,"linear-closed":Ph,step:Qh,"step-before":Rh,"step-after":Sh,basis:Yh,"basis-open":Zh,"basis-closed":$h,bundle:_h,cardinal:Vh,"cardinal-open":Th,"cardinal-closed":Uh,monotone:ii});Nh.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});function Oh(a){return a.join("L")}function Ph(a){return Oh(a)+"Z"}function Qh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function Rh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Sh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Th(a,b){return a.length<4?Oh(a):a[1]+Wh(a.slice(1,-1),Xh(a,b))}function Uh(a,b){return a.length<3?Oh(a):a[0]+Wh((a.push(a[0]),a),Xh([a[a.length-2]].concat(a,[a[1]]),b))}function Vh(a,b){return a.length<3?Oh(a):a[0]+Wh(a,Xh(a,b))}function Wh(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return Oh(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Xh(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Yh(a){if(a.length<3)return Oh(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",ai(di,g),",",ai(di,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),ei(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Zh(a){if(a.length<4)return Oh(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(ai(di,f)+","+ai(di,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),ei(c,f,g);return c.join("")}function $h(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[ai(di,g),",",ai(di,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),ei(b,g,h);return b.join("")}function _h(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Yh(a)}function ai(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var bi=[0,2/3,1/3,0],ci=[0,1/3,2/3,0],di=[0,1/6,2/3,1/6];function ei(a,b,c){a.push("C",ai(bi,b),",",ai(bi,c),",",ai(ci,b),",",ai(ci,c),",",ai(di,b),",",ai(di,c))}function fi(a,b){return(b[1]-a[1])/(b[0]-a[0])}function gi(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=fi(e,f);++b<c;)d[b]=(g+(g=fi(e=f,f=a[b+1])))/2;return d[b]=g,d}function hi(a){for(var b,c,d,e,f=[],g=gi(a),h=-1,i=a.length-1;++h<i;)b=fi(a[h],a[h+1]),t(b)<Aa?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function ii(a){return a.length<3?Oh(a):a[0]+Wh(a,hi(a))}a.svg.line.radial=function(){var a=Mh(ji);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function ji(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Fa,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function ki(a){var b=we,c=we,d=0,e=xe,f=fd,g=Oh,h=g.key,i=g,j="L",k=.7;function l(h){var l,m,n,o=[],p=[],q=[],r=-1,s=h.length,t=xb(b),u=xb(d),v=b===c?function(){return m}:xb(c),w=d===e?function(){return n}:xb(e);function x(){o.push("M",g(a(q),k),j,i(a(p.reverse()),k),"Z")}for(;++r<s;)f.call(this,l=h[r],r)?(p.push([m=+t.call(this,l,r),n=+u.call(this,l,r)]),q.push([+v.call(this,l,r),+w.call(this,l,r)])):p.length&&(x(),p=[],q=[]);return p.length&&x(),o.length?o.join(""):null}return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(h="function"==typeof a?g=a:(g=Nh.get(a)||Oh).key,i=g.reverse||g,j=g.closed?"M":"L",l):h},l.tension=function(a){return arguments.length?(k=a,l):k},l}Rh.reverse=Sh,Sh.reverse=Rh,a.svg.area=function(){return ki(H)},a.svg.area.radial=function(){var a=ki(ji);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},a.svg.chord=function(){var a=fe,b=ge,c=li,d=Hh,e=Ih;function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)-Fa,k=e.call(a,h,g)-Fa;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Ca)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}return f.radius=function(a){return arguments.length?(c=xb(a),f):c},f.source=function(b){return arguments.length?(a=xb(b),f):a},f.target=function(a){return arguments.length?(b=xb(a),f):b},f.startAngle=function(a){return arguments.length?(d=xb(a),f):d},f.endAngle=function(a){return arguments.length?(e=xb(a),f):e},f};function li(a){return a.radius}a.svg.diagonal=function(){var a=fe,b=ge,c=mi;function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}return d.source=function(b){return arguments.length?(a=xb(b),d):a},d.target=function(a){return arguments.length?(b=xb(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d};function mi(a){return[a.x,a.y]}a.svg.diagonal.radial=function(){var b=a.svg.diagonal(),c=mi,d=b.projection;return b.projection=function(a){return arguments.length?d(ni(c=a)):c},b};function ni(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Fa;return[c*Math.cos(d),c*Math.sin(d)]}}a.svg.symbol=function(){var a=pi,b=oi;function c(c,d){return(ri.get(a.call(this,c,d))||qi)(b.call(this,c,d))}return c.type=function(b){return arguments.length?(a=xb(b),c):a},c.size=function(a){return arguments.length?(b=xb(a),c):b},c};function oi(){return 64}function pi(){return"circle"}function qi(a){var b=Math.sqrt(a/Ca);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}var ri=a.map({circle:qi,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*ti)),c=b*ti;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/si),c=b*si/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/si),c=b*si/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});a.svg.symbolTypes=ri.keys();var si=Math.sqrt(3),ti=Math.tan(30*Ga);X.transition=function(a){for(var b,c,d=xi||++Ai,e=Di(a),f=[],g=yi||{time:Date.now(),ease:If,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&Ei(c,k,e,d,g),b.push(c)}return wi(f,e,d)},X.interrupt=function(a){return this.each(null==a?ui:vi(Di(a)))};var ui=vi(Di());function vi(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function wi(a,b,c){return S(a,zi),a.namespace=b,a.id=c,a}var xi,yi,zi=[],Ai=0;zi.call=X.call,zi.empty=X.empty,zi.node=X.node,zi.size=X.size,a.transition=function(b,c){return b&&b.transition?xi?b.transition(c):b:a.selection().transition(b)},a.transition.prototype=zi,zi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=Y(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),Ei(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return wi(g,f,e)},zi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=Z(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&Ei(e,o,h,g,f),b.push(e)}return wi(i,h,g)},zi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=ka(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return wi(e,this.namespace,this.id)},zi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):ma(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};function Bi(a,b,c,d){var e=a.id,f=a.namespace;return ma(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}zi.attr=function(b,c){if(arguments.length<2){for(c in b)this.attr(c,b[c]);return this}var d="transform"==b?Zf:yf,e=a.ns.qualify(b);function f(){this.removeAttribute(e)}function g(){this.removeAttributeNS(e.space,e.local)}function h(a){return null==a?f:(a+="",function(){var b,c=this.getAttribute(e);return c!==a&&(b=d(c,a),function(a){this.setAttribute(e,b(a))})})}function i(a){return null==a?g:(a+="",function(){var b,c=this.getAttributeNS(e.space,e.local);return c!==a&&(b=d(c,a),function(a){this.setAttributeNS(e.space,e.local,b(a))})})}return Bi(this,"attr."+b,c,e.local?i:h)},zi.attrTween=function(b,c){var d=a.ns.qualify(b);function e(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e&&function(a){this.setAttribute(d,e(a))}}function f(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}return this.tween("attr."+b,d.local?f:e)},zi.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}function e(){this.style.removeProperty(a)}function g(b){return null==b?e:(b+="",function(){var d,e=f(this).getComputedStyle(this,null).getPropertyValue(a);return e!==b&&(d=yf(e,b),function(b){this.style.setProperty(a,d(b),c)})})}return Bi(this,"style."+a,b,g)},zi.styleTween=function(a,b,c){arguments.length<3&&(c="");function d(d,e){var g=b.call(this,d,e,f(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),c)}}return this.tween("style."+a,d)},zi.text=function(a){return Bi(this,"text",a,Ci)};function Ci(a){return null==a&&(a=""),function(){this.textContent=a}}zi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},zi.ease=function(b){var c=this.id,d=this.namespace;return arguments.length<1?this.node()[d][c].ease:("function"!=typeof b&&(b=a.ease.apply(a,arguments)),ma(this,function(a){a[d][c].ease=b}))},zi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:ma(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},zi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:ma(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},zi.each=function(b,c){var d=this.id,e=this.namespace;if(arguments.length<2){var f=yi,g=xi;try{xi=d,ma(this,function(a,c,f){yi=a[e][d],b.call(a,a.__data__,c,f)})}finally{yi=f,xi=g}}else ma(this,function(f){var g=f[e][d];(g.event||(g.event=a.dispatch("start","end","interrupt"))).on(b,c)});return this},zi.transition=function(){for(var a,b,c,d,e=this.id,f=++Ai,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],Ei(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return wi(h,g,f)};function Di(a){return null==a?"__transition__":"__transition_"+a+"__"}function Ei(b,c,d,e,f){var g=b[d]||(b[d]={active:0,count:0}),h=g[e];if(!h){var i=f.time;h=g[e]={tween:new w,time:i,delay:f.delay,duration:f.duration,ease:f.ease,index:c},f=null,++g.count,a.timer(function(f){var j,k,l=h.delay,m=Gb,n=[];if(m.t=l+i,f>=l)return o(f-l);m.c=o;function o(d){if(g.active>e)return q();var f=g[g.active];f&&(--g.count,delete g[g.active],f.event&&f.event.interrupt.call(b,b.__data__,f.index)),g.active=e,h.event&&h.event.start.call(b,b.__data__,c),h.tween.forEach(function(a,d){(d=d.call(b,b.__data__,c))&&n.push(d)}),k=h.ease,j=h.duration,a.timer(function(){return m.c=p(d||1)?fd:p,1},0,i)}function p(a){if(g.active!==e)return 1;for(var d=a/j,f=k(d),i=n.length;i>0;)n[--i].call(b,f);return d>=1?(h.event&&h.event.end.call(b,b.__data__,c),q()):void 0}function q(){return--g.count?delete g[e]:delete b[d],1}},0,i)}}a.svg.axis=function(){var b,c=a.scale.linear(),d=Fi,e=6,f=6,g=3,h=[10],i=null;function j(j){j.each(function(){var j,k=a.select(this),l=this.__chart__||c,m=this.__chart__=c.copy(),n=null==i?m.ticks?m.ticks.apply(m,h):m.domain():i,o=null==b?m.tickFormat?m.tickFormat.apply(m,h):H:b,p=k.selectAll(".tick").data(n,m),q=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Aa),r=a.transition(p.exit()).style("opacity",Aa).remove(),s=a.transition(p.order()).style("opacity",1),t=Math.max(e,0)+g,u=ah(m),v=k.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),a.transition(v));q.append("line"),q.append("text");var x,y,z,A,B=q.select("line"),C=s.select("line"),D=p.select("text").text(o),E=q.select("text"),F=s.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(j=Hi,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(j=Ii,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*t),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*t),m.rangeBand){var I=m,J=I.rangeBand()/2;l=m=function(a){return I(a)+J}}else l.rangeBand?l=m:r.call(j,m,l);q.call(j,l,m),s.call(j,m,m)})}return j.scale=function(a){return arguments.length?(c=a,j):c},j.orient=function(a){return arguments.length?(d=a in Gi?a+"":Fi,j):d},j.ticks=function(){return arguments.length?(h=arguments,j):h},j.tickValues=function(a){return arguments.length?(i=a,j):i},j.tickFormat=function(a){return arguments.length?(b=a,j):b},j.tickSize=function(a){var b=arguments.length;return b?(e=+a,f=+arguments[b-1],j):e},j.innerTickSize=function(a){return arguments.length?(e=+a,j):e},j.outerTickSize=function(a){return arguments.length?(f=+a,j):f},j.tickPadding=function(a){return arguments.length?(g=+a,j):g},j.tickSubdivide=function(){return arguments.length&&j},j};var Fi="bottom",Gi={top:1,right:1,bottom:1,left:1};function Hi(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Ii(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}a.svg.brush=function(){var b,c,d=Q(m,"brushstart","brush","brushend"),e=null,g=null,h=[0,0],i=[0,0],j=!0,k=!0,l=Ki[0];function m(b){b.each(function(){var b=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",q).on("touchstart.brush",q),c=b.selectAll(".background").data([0]);c.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var d=b.selectAll(".resize").data(l,H);d.exit().remove(),d.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ji[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),d.style("display",m.empty()?"none":null);var f,h=a.transition(b),i=a.transition(c);e&&(f=ah(e),i.attr("x",f[0]).attr("width",f[1]-f[0]),o(h)),g&&(f=ah(g),i.attr("y",f[0]).attr("height",f[1]-f[0]),p(h)),n(h)})}m.event=function(e){e.each(function(){var e=d.of(this,arguments),f={x:h,y:i,i:b,j:c},g=this.__chart__||f;this.__chart__=f,xi?a.select(this).transition().each("start.brush",function(){b=g.i,c=g.j,h=g.x,i=g.y,e({type:"brushstart"})}).tween("brush:brush",function(){var a=zf(h,f.x),d=zf(i,f.y);return b=c=null,function(b){h=f.x=a(b),i=f.y=d(b),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){b=f.i,c=f.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})};function n(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+h[+/e$/.test(a)]+","+i[+/^s/.test(a)]+")"})}function o(a){a.select(".extent").attr("x",h[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function p(a){a.select(".extent").attr("y",i[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function q(){var l,q,r=this,s=a.select(a.event.target),t=d.of(r,arguments),u=a.select(r),v=s.datum(),w=!/^(n|s)$/.test(v)&&e,x=!/^(e|w)$/.test(v)&&g,y=s.classed("extent"),z=wa(r),A=a.mouse(r),B=a.select(f(r)).on("keydown.brush",E).on("keyup.brush",F);if(a.event.changedTouches?B.on("touchmove.brush",G).on("touchend.brush",I):B.on("mousemove.brush",G).on("mouseup.brush",I),u.interrupt().selectAll("*").interrupt(),y)A[0]=h[0]-A[0],A[1]=i[0]-A[1];else if(v){var C=+/w$/.test(v),D=+/^n/.test(v);q=[h[1-C]-A[0],i[1-D]-A[1]],A[0]=h[C],A[1]=i[D]}else a.event.altKey&&(l=A.slice());u.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",s.style("cursor")),t({type:"brushstart"}),G();function E(){32==a.event.keyCode&&(y||(l=null,A[0]-=h[1],A[1]-=i[1],y=2),O())}function F(){32==a.event.keyCode&&2==y&&(A[0]+=h[1],A[1]+=i[1],y=0,O())}function G(){var b=a.mouse(r),c=!1;q&&(b[0]+=q[0],b[1]+=q[1]),y||(a.event.altKey?(l||(l=[(h[0]+h[1])/2,(i[0]+i[1])/2]),A[0]=h[+(b[0]<l[0])],A[1]=i[+(b[1]<l[1])]):l=null),w&&H(b,e,0)&&(o(u),c=!0),x&&H(b,g,1)&&(p(u),c=!0),c&&(n(u),t({type:"brush",mode:y?"move":"resize"}))}function H(a,d,e){var f,g,m=ah(d),n=m[0],o=m[1],p=A[e],q=e?i:h,r=q[1]-q[0];return y&&(n-=p,o-=r+p),f=(e?k:j)?Math.max(n,Math.min(o,a[e])):a[e],y?g=(f+=p)+r:(l&&(p=Math.max(n,Math.min(o,2*l[e]-f))),f>p?(g=f,f=p):g=p),q[0]!=f||q[1]!=g?(e?c=null:b=null,q[0]=f,q[1]=g,!0):void 0}function I(){G(),u.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null),a.select("body").style("cursor",null),B.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),t({type:"brushend"})}}return m.x=function(a){return arguments.length?(e=a,l=Ki[!e<<1|!g],m):e},m.y=function(a){return arguments.length?(g=a,l=Ki[!e<<1|!g],m):g},m.clamp=function(a){return arguments.length?(e&&g?(j=!!a[0],k=!!a[1]):e?j=!!a:g&&(k=!!a),m):e&&g?[j,k]:e?j:g?k:null},m.extent=function(a){var d,f,j,k,l;return arguments.length?(e&&(d=a[0],f=a[1],g&&(d=d[0],f=f[0]),b=[d,f],e.invert&&(d=e(d),f=e(f)),d>f&&(l=d,d=f,f=l),(d!=h[0]||f!=h[1])&&(h=[d,f])),g&&(j=a[0],k=a[1],e&&(j=j[1],k=k[1]),c=[j,k],g.invert&&(j=g(j),k=g(k)),j>k&&(l=j,j=k,k=l),(j!=i[0]||k!=i[1])&&(i=[j,k])),m):(e&&(b?(d=b[0],f=b[1]):(d=h[0],f=h[1],e.invert&&(d=e.invert(d),f=e.invert(f)),d>f&&(l=d,d=f,f=l))),g&&(c?(j=c[0],k=c[1]):(j=i[0],k=i[1],g.invert&&(j=g.invert(j),k=g.invert(k)),j>k&&(l=j,j=k,k=l))),e&&g?[[d,j],[f,k]]:e?[d,f]:g&&[j,k])},m.clear=function(){return m.empty()||(h=[0,0],i=[0,0],b=c=null),m},m.empty=function(){return!!e&&h[0]==h[1]||!!g&&i[0]==i[1]},a.rebind(m,d,"on")};var Ji={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ki=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Li=Sb.format=uc.timeFormat,Mi=Li.utc,Ni=Mi("%Y-%m-%dT%H:%M:%S.%LZ");Li.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Oi:Ni;function Oi(a){return a.toISOString()}Oi.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},Oi.toString=Ni.toString,Sb.second=Wb(function(a){return new Tb(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),Sb.seconds=Sb.second.range,Sb.seconds.utc=Sb.second.utc.range,Sb.minute=Wb(function(a){return new Tb(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),Sb.minutes=Sb.minute.range,Sb.minutes.utc=Sb.minute.utc.range,Sb.hour=Wb(function(a){var b=a.getTimezoneOffset()/60;return new Tb(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),Sb.hours=Sb.hour.range,Sb.hours.utc=Sb.hour.utc.range,Sb.month=Wb(function(a){return a=Sb.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),Sb.months=Sb.month.range,Sb.months.utc=Sb.month.utc.range;function Pi(b,c,d){function e(a){return b(a)}e.invert=function(a){return Qi(b.invert(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain().map(Qi)};function f(b,d){var e=b[1]-b[0],f=e/d,g=a.bisect(Ri,f);return g==Ri.length?[c.year,jh(b.map(function(a){return a/31536e6}),d)[2]]:g?c[f/Ri[g-1]<Ri[g]/f?g-1:g]:[Ui,jh(b,d)[2]]}return e.nice=function(a,b){var c=e.domain(),d=_g(c),g=null==a?f(d,10):"number"==typeof a&&f(d,a);g&&(a=g[0],b=g[1]);function h(c){return!isNaN(c)&&!a.range(c,Qi(+c+1),b).length}return e.domain(ch(c,b>1?{floor:function(b){for(;h(b=a.floor(b));)b=Qi(b-1);return b},ceil:function(b){for(;h(b=a.ceil(b));)b=Qi(+b+1);return b}}:a))},e.ticks=function(a,b){var c=_g(e.domain()),d=null==a?f(c,10):"number"==typeof a?f(c,a):!a.range&&[{range:a},b];return d&&(a=d[0],
b=d[1]),a.range(c[0],Qi(+c[1]+1),1>b?1:b)},e.tickFormat=function(){return d},e.copy=function(){return Pi(b.copy(),c,d)},hh(e,b)}function Qi(a){return new Date(a)}var Ri=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Si=[[Sb.second,1],[Sb.second,5],[Sb.second,15],[Sb.second,30],[Sb.minute,1],[Sb.minute,5],[Sb.minute,15],[Sb.minute,30],[Sb.hour,1],[Sb.hour,3],[Sb.hour,6],[Sb.hour,12],[Sb.day,1],[Sb.day,2],[Sb.week,1],[Sb.month,1],[Sb.month,3],[Sb.year,1]],Ti=Li.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",fd]]),Ui={range:function(b,c,d){return a.range(Math.ceil(b/d)*d,+c,d).map(Qi)},floor:H,ceil:H};Si.year=Sb.year,Sb.scale=function(){return Pi(a.scale.linear(),Si,Ti)};var Vi=Si.map(function(a){return[a[0].utc,a[1]]}),Wi=Mi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",fd]]);Vi.year=Sb.year.utc,Sb.scale.utc=function(){return Pi(a.scale.linear(),Vi,Wi)},a.text=yb(function(a){return a.responseText}),a.json=function(a,b){return zb(a,"application/json",Xi,b)};function Xi(a){return JSON.parse(a.responseText)}a.html=function(a,b){return zb(a,"text/html",Yi,b)};function Yi(a){var b=d.createRange();return b.selectNode(d.body),b.createContextualFragment(a.responseText)}a.xml=yb(function(a){return a.responseXML}),"function"==typeof define&&define.amd?define(a):"object"==typeof module&&module.exports&&(module.exports=a),this.d3=a}();var JSHINT=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},N={asi:!0,bitwise:!0,boss:!0,browser:!0,camelcase:!0,couch:!0,curly:!0,debug:!0,devel:!0,dojo:!0,eqeqeq:!0,eqnull:!0,es5:!0,esnext:!0,evil:!0,expr:!0,forin:!0,funcscope:!0,globalstrict:!0,immed:!0,iterator:!0,jquery:!0,lastsemic:!0,latedef:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,mootools:!0,multistr:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nonstandard:!0,nomen:!0,onevar:!0,onecase:!0,passfail:!0,plusplus:!0,proto:!0,prototypejs:!0,regexdash:!0,regexp:!0,rhino:!0,undef:!0,unused:!0,scripturl:!0,shadow:!0,smarttabs:!0,strict:!0,sub:!0,supernew:!0,trailing:!0,validthis:!0,withstmt:!0,white:!0,worker:!0,wsh:!0,yui:!0},O={maxlen:!1,indent:!1,maxerr:!1,predef:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1},P={bitwise:!0,forin:!0,newcap:!0,nomen:!0,plusplus:!0,regexp:!0,undef:!0,white:!0,eqeqeq:!0,onevar:!0},Q={eqeq:"eqeqeq",vars:"onevar",windows:"wsh"},R={ArrayBuffer:!1,ArrayBufferView:!1,Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,DataView:!1,DOMParser:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,Float32Array:!1,Float64Array:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Image:!1,length:!1,localStorage:!1,location:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,top:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},S={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},T={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},U={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},V=["closure","exception","global","label","outer","unused","var"],W={$:!1,jQuery:!1},X={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,Iframe:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},Y={__filename:!1,__dirname:!1,Buffer:!1,console:!1,exports:!0,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1,setTimeout:!1,clearTimeout:!1,setInterval:!1,clearInterval:!1},Z={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},$={defineClass:!1,deserialize:!1,gc:!1,help:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},_={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,Set:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1,WeakMap:!1},aa={escape:!1,unescape:!1},ba={},ca={importScripts:!0,postMessage:!0,self:!0},da={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},ea={YUI:!1,Y:!1,YUI_config:!1};!function(){D=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,E=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,F=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/=(?!(\S*\/[gim]?))|\/(\*(jshint|jslint|members?|global)?|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,G=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,H=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,I=/\*\//,J=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,K=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,L=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}();function fa(){}function ga(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function ha(a,b){void 0===O[a]&&void 0===N[a]&&sa("Bad option: '"+a+"'.",b)}function ia(a){return"[object String]"===Object.prototype.toString.call(a)}"function"!=typeof Array.isArray&&(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length,d=0;c>d;d++)a.call(b||this,this[d],d,this)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this||void 0===this)throw new TypeError;var b=new Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),"function"!=typeof Object.create&&(Object.create=function(a){return fa.prototype=a,new fa}),"function"!=typeof Object.keys&&(Object.keys=function(a){var b,c=[];for(b in a)ga(a,b)&&c.push(b);return c});function ja(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a}function ka(a){return a>="0"&&"9">=a}function la(a,b){return a&&a.identifier&&a.value===b?!0:!1}function ma(a,b){return a.replace(/\{([^{}]*)\}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})}function na(a,b){var c;for(c in b)ga(b,c)&&!ga(JSHINT.blacklist,c)&&(a[c]=b[c])}function oa(){Object.keys(JSHINT.blacklist).forEach(function(a){delete q[a]})}function pa(){p.couch&&na(q,S),p.rhino&&na(q,$),p.prototypejs&&na(q,Z),p.node&&(na(q,Y),p.globalstrict=!0),p.devel&&na(q,T),p.dojo&&na(q,U),p.browser&&na(q,R),p.nonstandard&&na(q,aa),p.jquery&&na(q,W),p.mootools&&na(q,X),p.worker&&na(q,ca),p.wsh&&na(q,da),p.esnext&&B(),p.globalstrict&&p.strict!==!1&&(p.strict=!0),p.yui&&na(q,ea)}function qa(a,b,c){var d=Math.floor(b/j.length*100);throw{name:"JSHintError",line:b,character:c,message:a+" ("+d+"% scanned).",raw:a}}function ra(a,b,c,d){return JSHINT.undefs.push([a,b,c,d])}function sa(a,b,c,d,e,f){var g,h,i;return b=b||n,"(end)"===b.id&&(b=y),h=b.line||0,g=b.from||0,i={id:"(error)",raw:a,evidence:j[h-1]||"",line:h,character:g,scope:JSHINT.scope,a:c,b:d,c:e,d:f},i.reason=ma(a,i),JSHINT.errors.push(i),p.passfail&&qa("Stopping. ",h,g),C+=1,C>=p.maxerr&&qa("Too many errors.",h,g),i}function ta(a,b,c,d,e,f,g){return sa(a,{line:b,from:c},d,e,f,g)}function ua(a,b,c,d,e,f){sa(a,b,c,d,e,f)}function va(a,b,c,d,e,f,g){return ua(a,{line:b,from:c},d,e,f,g)}function wa(a,b){var c;return c={id:"(internal)",elem:a,value:b},JSHINT.internals.push(c),c}var xa=function(){var a,b,c,d;function e(){var b,e,f;return c>=j.length?!1:(a=1,d=j[c],c+=1,p.smarttabs?(e=d.match(/(\/\/)? \t/),b=e&&!e[1]?0:-1):b=d.search(/ \t|\t [^\*]/),b>=0&&ta("Mixed spaces and tabs.",c,b+1),d=d.replace(/\t/g,x),b=d.search(E),b>=0&&ta("Unsafe character.",c,b),p.maxlen&&p.maxlen<d.length&&ta("Line too long.",c,d.length),f=p.trailing&&d.match(/^(.*?)\s+$/),f&&!/^\s+$/.test(d)&&ta("Trailing whitespace.",c,f[1].length+1),!0)}function f(d,e){var f,g;function h(a){if(!p.proto&&"__proto__"===a)return void ta("The '{a}' property is deprecated.",c,b,a);if(!p.iterator&&"__iterator__"===a)return void ta("'{a}' is only available in JavaScript 1.7.",c,b,a);var d=/^(_+.*|.*_+)$/.test(a);if(p.nomen&&d&&"_"!==a){if(p.node&&"."!==y.id&&/^(__dirname|__filename)$/.test(a))return;return void ta("Unexpected {a} in '{b}'.",c,b,"dangling '_'",a)}p.camelcase&&a.replace(/^_+/,"").indexOf("_")>-1&&!a.match(/^[A-Z0-9_]*$/)&&ta("Identifier '{a}' is not in camel case.",c,b,e)}return g="(color)"===d||"(range)"===d?{type:d}:"(punctuator)"===d||"(identifier)"===d&&ga(ba,e)?ba[e]||ba["(error)"]:ba[d],g=Object.create(g),("(string)"===d||"(range)"===d)&&!p.scripturl&&K.test(e)&&ta("Script URL.",c,b),"(identifier)"===d&&(g.identifier=!0,h(e)),g.value=e,g.line=c,g.character=a,g.from=b,f=g.id,"(endline)"!==f&&(r=f&&("(,=:[!&|?{};".indexOf(f.charAt(f.length-1))>=0||"return"===f||"case"===f)),g}return{init:function(a){j="string"==typeof a?a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):a,j[0]&&"#!"===j[0].substr(0,2)&&(j[0]=""),c=0,e(),b=1},range:function(e,g){var h,i="";for(b=a,d.charAt(0)!==e&&va("Expected '{a}' and instead saw '{b}'.",c,a,e,d.charAt(0));;){switch(d=d.slice(1),a+=1,h=d.charAt(0)){case"":va("Missing '{a}'.",c,a,h);break;case g:return d=d.slice(1),a+=1,f("(range)",i);case"\\":ta("Unexpected '{a}'.",c,a,h)}i+=h}},token:function(){var g,h,j,k,l,m,n,o,q,s,u,v,x,z;function A(c){var e,f=c.exec(d);return f?(o=f[0].length,e=f[1],h=e.charAt(0),d=d.substr(o),b=a+o-e.length,a+=o,e):void 0}function B(g){var h,j,k="",l=!1;i&&'"'!==g&&ta("Strings must use doublequote.",c,a),p.quotmark&&("single"===p.quotmark&&"'"!==g?ta("Strings must use singlequote.",c,a):"double"===p.quotmark&&'"'!==g?ta("Strings must use doublequote.",c,a):p.quotmark===!0&&(t=t||g,t!==g&&ta("Mixed double and single quotes.",c,a)));function m(b){var e=parseInt(d.substr(j+1,b),16);j+=b,e>=32&&126>=e&&34!==e&&92!==e&&39!==e&&ta("Unnecessary escapement.",c,a),a+=b,h=String.fromCharCode(e)}j=0;a:for(;;){for(;j>=d.length;){j=0;var n=c,o=b;if(!e()){va("Unclosed string.",n,o);break a}l?l=!1:ta("Unclosed string.",n,o)}if(h=d.charAt(j),h===g)return a+=1,d=d.substr(j+1),f("(string)",k,g);if(" ">h){if("\n"===h||"\r"===h)break;ta("Control character in string: {a}.",c,a+j,d.slice(0,j))}else if("\\"===h)switch(j+=1,a+=1,h=d.charAt(j),z=d.charAt(j+1),h){case"\\":case'"':case"/":break;case"'":i&&ta("Avoid \\'.",c,a);break;case"b":h="\b";break;case"f":h="\f";break;case"n":h="\n";break;case"r":h="\r";break;case"t":h="	";break;case"0":h="\x00",z>=0&&7>=z&&w["use strict"]&&ta("Octal literals are not allowed in strict mode.",c,a);break;case"u":m(4);break;case"v":i&&ta("Avoid \\v.",c,a),h="";break;case"x":i&&ta("Avoid \\x-.",c,a),m(2);break;case"":if(l=!0,p.multistr){i&&ta("Avoid EOL escapement.",c,a),h="",a-=1;break}ta("Bad escapement of EOL. Use option multistr if needed.",c,a);break;case"!":if("<"===d.charAt(j-2))break;default:ta("Bad escapement.",c,a)}k+=h,a+=1,j+=1}}for(;;){if(!d)return f(e()?"(endline)":"(end)","");if(u=A(F)){if(ja(h)||"_"===h||"$"===h)return f("(identifier)",u);if(ka(h))return isFinite(Number(u))||ta("Bad number '{a}'.",c,a,u),ja(d.substr(0,1))&&ta("Missing space after '{a}'.",c,a,u),"0"===h&&(k=u.substr(1,1),ka(k)?"."!==y.id&&ta("Don't use extra leading zeros '{a}'.",c,a,u):!i||"x"!==k&&"X"!==k||ta("Avoid 0x-. '{a}'.",c,a,u)),"."===u.substr(u.length-1)&&ta("A trailing decimal point can be confused with a dot '{a}'.",c,a,u),f("(number)",u);switch(u){case'"':case"'":return B(u);case"//":d="",y.comment=!0;break;case"/*":for(;n=d.search(I),!(n>=0);)e()||va("Unclosed comment.",c,a);d=d.substr(n+2),y.comment=!0;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":return{value:u,type:"special",line:c,character:a,from:b};case"":break;case"/":if("="===d.charAt(0)&&va("A regular expression literal can be confused with '/='.",c,b),r){for(l=0,j=0,o=0;;){switch(g=!0,h=d.charAt(o),o+=1,h){case"":return va("Unclosed regular expression.",c,b),qa("Stopping.",c,b);case"/":for(l>0&&ta("{a} unterminated regular expression group(s).",c,b+o,l),h=d.substr(0,o-1),s={g:!0,i:!0,m:!0};s[d.charAt(o)]===!0;)s[d.charAt(o)]=!1,o+=1;return a+=o,d=d.substr(o),s=d.charAt(0),("/"===s||"*"===s)&&va("Confusing regular expression.",c,b),f("(regexp)",h);case"\\":h=d.charAt(o)," ">h?ta("Unexpected control character in regular expression.",c,b+o):"<"===h&&ta("Unexpected escaped character '{a}' in regular expression.",c,b+o,h),o+=1;break;case"(":if(l+=1,g=!1,"?"===d.charAt(o))switch(o+=1,d.charAt(o)){case":":case"=":case"!":o+=1;break;default:ta("Expected '{a}' and instead saw '{b}'.",c,b+o,":",d.charAt(o))}else j+=1;break;case"|":g=!1;break;case")":0===l?ta("Unescaped '{a}'.",c,b+o,")"):l-=1;break;case" ":for(s=1;" "===d.charAt(o);)o+=1,s+=1;s>1&&ta("Spaces are hard to count. Use {{a}}.",c,b+o,s);break;case"[":h=d.charAt(o),"^"===h&&(o+=1,"]"===d.charAt(o)&&va("Unescaped '{a}'.",c,b+o,"^")),"]"===h&&ta("Empty class.",c,b+o-1),v=!1,x=!1;a:do switch(h=d.charAt(o),o+=1,h){case"[":case"^":ta("Unescaped '{a}'.",c,b+o,h),x?x=!1:v=!0;break;case"-":v&&!x?(v=!1,x=!0):x?x=!1:"]"===d.charAt(o)?x=!0:(p.regexdash!==(2===o||3===o&&"^"===d.charAt(1))&&ta("Unescaped '{a}'.",c,b+o-1,"-"),v=!0);break;case"]":x&&!p.regexdash&&ta("Unescaped '{a}'.",c,b+o-1,"-");break a;case"\\":h=d.charAt(o)," ">h?ta("Unexpected control character in regular expression.",c,b+o):"<"===h&&ta("Unexpected escaped character '{a}' in regular expression.",c,b+o,h),o+=1,/[wsd]/i.test(h)?(x&&(ta("Unescaped '{a}'.",c,b+o,"-"),x=!1),v=!1):x?x=!1:v=!0;break;case"/":ta("Unescaped '{a}'.",c,b+o-1,"/"),x?x=!1:v=!0;break;case"<":x?x=!1:v=!0;break;default:x?x=!1:v=!0}while(h);break;case".":p.regexp&&ta("Insecure '{a}'.",c,b+o,h);break;case"]":case"?":case"{":case"}":case"+":case"*":ta("Unescaped '{a}'.",c,b+o,h)}if(g)switch(d.charAt(o)){case"?":case"+":case"*":o+=1,"?"===d.charAt(o)&&(o+=1);break;case"{":if(o+=1,h=d.charAt(o),"0">h||h>"9"){ta("Expected a number and instead saw '{a}'.",c,b+o,h);break}for(o+=1,q=+h;h=d.charAt(o),!("0">h||h>"9");)o+=1,q=+h+10*q;if(m=q,","===h&&(o+=1,m=1/0,h=d.charAt(o),h>="0"&&"9">=h))for(o+=1,m=+h;h=d.charAt(o),!("0">h||h>"9");)o+=1,m=+h+10*m;"}"!==d.charAt(o)?ta("Expected '{a}' and instead saw '{b}'.",c,b+o,"}",h):o+=1,"?"===d.charAt(o)&&(o+=1),q>m&&ta("'{a}' should not be greater than '{b}'.",c,b+o,q,m)}}return h=d.substr(0,o-1),a+=o,d=d.substr(o),f("(regexp)",h)}return f("(punctuator)",u);case"#":return f("(punctuator)",u);default:return f("(punctuator)",u)}}else{for(u="",h="";d&&"!">d;)d=d.substr(1);d&&(va("Unexpected '{a}'.",c,a,d.substr(0,1)),d="")}}}}}();function ya(a,b,d){"hasOwnProperty"===a&&sa("'hasOwnProperty' is a really bad name."),"exception"===b&&ga(c["(context)"],a)&&(c[a]===!0||p.node||sa("Value of '{a}' may be overwritten in IE.",n,a)),ga(c,a)&&!c["(global)"]&&(c[a]===!0?p.latedef&&sa("'{a}' was used before it was defined.",n,a):p.shadow||"exception"===b||sa("'{a}' is already defined.",n,a)),c[a]=b,d&&(c["(tokens)"][a]=d),c["(global)"]?(e[a]=c,ga(f,a)&&(p.latedef&&sa("'{a}' was used before it was defined.",n,a),delete f[a])):u[a]=c}function za(){var a,d,e,f,g,h,i,j=n,k=j.value,l=p.quotmark,o={};switch(k){case"*/":ua("Unbegun comment.");break;case"/*members":case"/*member":k="/*members",m||(m={}),d=m,p.quotmark=!1;break;case"/*jshint":case"/*jslint":d=p,e=N;break;case"/*global":d=o;break;default:ua("What?")}f=xa.token();a:for(;;){for(i=!1;;){if("special"===f.type&&"*/"===f.value)break a;if("(endline)"!==f.id&&","!==f.id)break;f=xa.token()}if("/*global"===k&&"-"===f.value&&(i=!0,f=xa.token()),"(string)"!==f.type&&"(identifier)"!==f.type&&"/*members"!==k&&ua("Bad option.",f),h=xa.token(),":"===h.id){h=xa.token(),d===m&&ua("Expected '{a}' and instead saw '{b}'.",f,"*/",":"),"/*jshint"===k&&ha(f.value,f);var r=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];if(r.indexOf(f.value)>-1&&("/*jshint"===k||"/*jslint"===k))a=+h.value,("number"!=typeof a||!isFinite(a)||0>=a||Math.floor(a)!==a)&&ua("Expected a small integer and instead saw '{a}'.",h,h.value),"indent"===f.value&&(d.white=!0),d[f.value]=a;else if("validthis"===f.value)c["(global)"]?ua("Option 'validthis' can't be used in a global scope."):"true"===h.value||"false"===h.value?d[f.value]="true"===h.value:ua("Bad option value.",h);else if("quotmark"===f.value&&"/*jshint"===k)switch(h.value){case"true":d.quotmark=!0;break;case"false":d.quotmark=!1;break;case"double":case"single":d.quotmark=h.value;break;default:ua("Bad option value.",h)}else"true"===h.value||"false"===h.value?("/*jslint"===k?(g=Q[f.value]||f.value,d[g]="true"===h.value,void 0!==P[g]&&(d[g]=!d[g])):d[f.value]="true"===h.value,"newcap"===f.value&&(d["(explicitNewcap)"]=!0)):ua("Bad option value.",h);f=xa.token()}else("/*jshint"===k||"/*jslint"===k)&&ua("Missing option value.",f),d[f.value]=!1,"/*global"===k&&i===!0&&(JSHINT.blacklist[f.value]=f.value,oa()),f=h}"/*members"===k&&(p.quotmark=l),na(q,o);for(var s in o)ga(o,s)&&(b[s]=j);e&&pa()}function Aa(a){for(var b,c=a||0,d=0;c>=d;)b=k[d],b||(b=k[d]=xa.token()),d+=1;return b}function Ba(b,c){switch(y.id){case"(number)":"."===n.id&&sa("A dot following a number can be confused with a decimal point.",y);break;case"-":("-"===n.id||"--"===n.id)&&sa("Confusing minusses.");break;case"+":("+"===n.id||"++"===n.id)&&sa("Confusing plusses.")}for(("(string)"===y.type||y.identifier)&&(a=y.value),b&&n.id!==b&&(c?"(end)"===n.id?sa("Unmatched '{a}'.",c,c.id):sa("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",n,b,c.id,c.line,n.value):("(identifier)"!==n.type||n.value!==b)&&sa("Expected '{a}' and instead saw '{b}'.",n,b,n.value)),s=y,y=n;;){if(n=k.shift()||xa.token(),"(end)"===n.id||"(error)"===n.id)return;if("special"===n.type)za();else if("(endline)"!==n.id)break}}function Ca(b,d){var e,f=!1,g=!1;if("(end)"===n.id&&ua("Unexpected early end of program.",y),Ba(),d&&(a="anonymous",c["(verb)"]=y.value),d===!0&&y.fud)e=y.fud();else{if(y.nud)e=y.nud();else{if("(number)"===n.type&&"."===y.id)return sa("A leading decimal point can be confused with a dot: '.{a}'.",y,n.value),Ba(),y;ua("Expected an identifier and instead saw '{a}'.",y,y.id)}for(;b<n.lbp;)f="Array"===y.value,g="Object"===y.value,e&&(e.value||e.first&&e.first.value)&&("new"!==e.value||e.first&&e.first.value&&"."===e.first.value)&&(f=!1,e.value!==y.value&&(g=!1)),Ba(),f&&"("===y.id&&")"===n.id&&sa("Use the array literal notation [].",y),g&&"("===y.id&&")"===n.id&&sa("Use the object literal notation {}.",y),y.led?e=y.led(e):ua("Expected an operator and instead saw '{a}'.",y,y.id)}return e}function Da(a,b){a=a||y,b=b||n,p.white&&a.character!==b.from&&a.line===b.line&&(a.from+=a.character-a.from,sa("Unexpected space after '{a}'.",a,a.value))}function Ea(a,b){a=a||y,b=b||n,!p.white||a.character===b.from&&a.line===b.line||sa("Unexpected space before '{a}'.",b,b.value)}function Fa(a,b){a=a||y,b=b||n,p.white&&!a.comment&&a.line===b.line&&Da(a,b)}function Ga(a,b){if(p.white){if(a=a||y,b=b||n,";"===a.value&&";"===b.value)return;a.line===b.line&&a.character===b.from&&(a.from+=a.character-a.from,sa("Missing space after '{a}'.",a,a.value))}}function Ha(a,b){a=a||y,b=b||n,p.laxbreak||a.line===b.line?p.white&&(a=a||y,b=b||n,a.character===b.from&&(a.from+=a.character-a.from,sa("Missing space after '{a}'.",a,a.value))):sa("Bad line breaking before '{a}'.",b,b.id)}function Ia(a){var b;p.white&&"(end)"!==n.id&&(b=h+(a||0),n.from!==b&&sa("Expected '{a}' to have an indentation at {b} instead at {c}.",n,n.value,b,n.from))}function Ja(a){a=a||y,a.line!==n.line&&sa("Line breaking error '{a}'.",a,a.value)}function Ka(){y.line!==n.line?p.laxcomma||(Ka.first&&(sa("Comma warnings can be turned off with 'laxcomma'"),Ka.first=!1),sa("Bad line breaking before '{a}'.",y,n.id)):!y.comment&&y.character!==n.from&&p.white&&(y.from+=y.character-y.from,sa("Unexpected space after '{a}'.",y,y.value)),Ba(","),Ga(y,n)}function La(a,b){var c=ba[a];return c&&"object"==typeof c||(ba[a]=c={id:a,lbp:b,value:a}),c}function Ma(a){return La(a,0)}function Na(a,b){var c=Ma(a);return c.identifier=c.reserved=!0,c.fud=b,c}function Oa(a,b){var c=Na(a,b);return c.block=!0,c}function Pa(a){var b=a.id.charAt(0);return(b>="a"&&"z">=b||b>="A"&&"Z">=b)&&(a.identifier=a.reserved=!0),a}function Qa(a,b){var c=La(a,150);return Pa(c),c.nud="function"==typeof b?b:function(){return this.right=Ca(150),this.arity="unary",("++"===this.id||"--"===this.id)&&(p.plusplus?sa("Unexpected use of '{a}'.",this,this.id):this.right.identifier&&!this.right.reserved||"."===this.right.id||"["===this.right.id||sa("Bad operand.",this)),this},c}function Ra(a,b){var c=Ma(a);return c.type=a,c.nud=b,c}function Sa(a,b){var c=Ra(a,b);return c.identifier=c.reserved=!0,c}function Ta(a,b){return Sa(a,function(){return"function"==typeof b&&b(this),this})}function Ua(a,b,c,d){var e=La(a,c);return Pa(e),e.led=function(e){return d||(Ha(s,y),Ga(y,n)),"in"===a&&"!"===e.id&&sa("Confusing use of '{a}'.",e,"!"),"function"==typeof b?b(e,this):(this.left=e,this.right=Ca(c),this)},e}function Va(a,b){var c=La(a,100);return c.led=function(a){Ha(s,y),Ga(y,n);var c=Ca(100);return la(a,"NaN")||la(c,"NaN")?sa("Use the isNaN function to compare with NaN.",this):b&&b.apply(this,[a,c]),"!"===a.id&&sa("Confusing use of '{a}'.",a,"!"),"!"===c.id&&sa("Confusing use of '{a}'.",c,"!"),this.left=a,this.right=c,this},c}function Wa(a){return a&&("(number)"===a.type&&0===+a.value||"(string)"===a.type&&""===a.value||"null"===a.type&&!p.eqnull||"true"===a.type||"false"===a.type||"undefined"===a.type)}function Xa(a){return La(a,20).exps=!0,Ua(a,function(a,b){if(b.left=a,q[a.value]===!1&&u[a.value]["(global)"]===!0?sa("Read only.",a):a["function"]&&sa("'{a}' is a function.",a,a.value),a){if(p.esnext&&"const"===c[a.value]&&sa("Attempting to override '{a}' which is a constant",a,a.value),"."===a.id||"["===a.id)return a.left&&"arguments"!==a.left.value||sa("Bad assignment.",b),b.right=Ca(19),b;if(a.identifier&&!a.reserved)return"exception"===c[a.value]&&sa("Do not assign to the exception parameter.",a),b.right=Ca(19),b;a===ba["function"]&&sa("Expected an identifier in an assignment and instead saw a function invocation.",y)}ua("Bad assignment.",b)},20)}function Ya(a,b,c){var d=La(a,c);return Pa(d),d.led="function"==typeof b?b:function(a){return p.bitwise&&sa("Unexpected use of '{a}'.",this,this.id),this.left=a,this.right=Ca(c),this},d}function Za(a){return La(a,20).exps=!0,Ua(a,function(a,b){return p.bitwise&&sa("Unexpected use of '{a}'.",b,b.id),Ga(s,y),Ga(y,n),a?"."===a.id||"["===a.id||a.identifier&&!a.reserved?(Ca(19),b):(a===ba["function"]&&sa("Expected an identifier in an assignment, and instead saw a function invocation.",y),b):void ua("Bad assignment.",b)},20)}function $a(a){var b=La(a,150);return b.led=function(a){return p.plusplus?sa("Unexpected use of '{a}'.",this,this.id):a.identifier&&!a.reserved||"."===a.id||"["===a.id||sa("Bad operand.",this),this.left=a,this},b}function _a(a){return n.identifier?(Ba(),y.reserved&&!p.es5&&(a&&"undefined"===y.value||sa("Expected an identifier and instead saw '{a}' (a reserved word).",y,y.id)),y.value):void 0}function ab(a){var b=_a(a);return b?b:void("function"===y.id&&"("===n.id?sa("Missing name in function declaration."):ua("Expected an identifier and instead saw '{a}'.",n,n.value))}function bb(a){var b,c=0;if(";"===n.id&&!o)for(;;){if(b=Aa(c),b.reach)return;if("(endline)"!==b.id){if("function"===b.id){if(!p.latedef)break;sa("Inner functions should be listed at the top of the outer function.",b);break}sa("Unreachable '{a}' after '{b}'.",b,b.value,a);break}c+=1}}function cb(a){var b,c=h,d=u,e=n;if(";"===e.id)return void Ba(";");if(e.identifier&&!e.reserved&&":"===Aa().id&&(Ba(),Ba(":"),u=Object.create(d),ya(e.value,"label"),n.labelled||"{"===n.value||sa("Label '{a}' on {b} statement.",n,e.value,n.value),K.test(e.value+":")&&sa("Label '{a}' looks like a javascript url.",e,e.value),n.label=e.value,e=n),"{"===e.id)return void fb(!0,!0);if(a||Ia(),b=Ca(0,!0),!e.block){if(p.expr||b&&b.exps?p.nonew&&"("===b.id&&"new"===b.left.id&&sa("Do not use 'new' for side effects.",e):sa("Expected an assignment or function call and instead saw an expression.",y),","===n.id)return Ka();";"!==n.id?p.asi||p.lastsemic&&"}"===n.id&&n.line===y.line||ta("Missing semicolon.",y.line,y.character):(Da(y,n),Ba(";"),Ga(y,n))}return h=c,u=d,b}function db(a){for(var b,c=[];!n.reach&&"(end)"!==n.id;)";"===n.id?(b=Aa(),b&&"("===b.id||sa("Unnecessary semicolon."),Ba(";")):c.push(cb(a===n.line));return c}function eb(){for(var a,b,c;"(string)"===n.id;){if(b=Aa(0),"(endline)"===b.id){a=1;do c=Aa(a),a+=1;while("(endline)"===c.id);if(";"!==c.id){if("(string)"!==c.id&&"(number)"!==c.id&&"(regexp)"!==c.id&&c.identifier!==!0&&"}"!==c.id)break;sa("Missing semicolon.",n)}else b=c}else if("}"===b.id)sa("Missing semicolon.",b);else if(";"!==b.id)break;Ia(),Ba(),w[y.value]&&sa('Unnecessary directive "{a}".',y,y.value),"use strict"===y.value&&(p["(explicitNewcap)"]||(p.newcap=!0),p.undef=!0),w[y.value]=!0,";"===b.id&&Ba(";")}}function fb(a,b,d){var e,f,i,j,k,l=g,m=h,q=u;g=a,a&&p.funcscope||(u=Object.create(u)),Ga(y,n),i=n;var r=c["(metrics)"];if(r.nestedBlockDepth+=1,r.verifyMaxNestedBlockDepthPerFunction(),"{"===n.id){if(Ba("{"),j=y.line,"}"!==n.id){for(h+=p.indent;!a&&n.from>h;)h+=p.indent;if(d){f={};for(k in w)ga(w,k)&&(f[k]=w[k]);eb(),p.strict&&c["(context)"]["(global)"]&&(f["use strict"]||w["use strict"]||sa('Missing "use strict" statement.'))}e=db(j),r.statementCount+=e.length,d&&(w=f),h-=p.indent,j!==n.line&&Ia()}else j!==n.line&&Ia();Ba("}",i),h=m}else a?((!b||p.curly)&&sa("Expected '{a}' and instead saw '{b}'.",n,"{",n.value),o=!0,h+=p.indent,e=[cb(n.line===y.line)],h-=p.indent,o=!1):ua("Expected '{a}' and instead saw '{b}'.",n,"{",n.value);return c["(verb)"]=null,a&&p.funcscope||(u=q),g=l,!a||!p.noempty||e&&0!==e.length||sa("Empty block."),r.nestedBlockDepth-=1,e}function gb(a){m&&"boolean"!=typeof m[a]&&sa("Unexpected /*member '{a}'.",y,a),"number"==typeof l[a]?l[a]+=1:l[a]=1}function hb(a){var b=a.value,c=a.line,d=f[b];"function"==typeof d&&(d=!1),d?d[d.length-1]!==c&&d.push(c):(d=[c],f[b]=d)}Ra("(number)",function(){return this}),Ra("(string)",function(){return this}),ba["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var b,e=this.value,f=u[e];if("function"==typeof f?f=void 0:"boolean"==typeof f&&(b=c,c=d[0],ya(e,"var"),f=c,c=b),c===f)switch(c[e]){case"unused":c[e]="var";break;case"unction":c[e]="function",this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":sa("'{a}' is a statement label.",y,e)}else if(c["(global)"])p.undef&&"boolean"!=typeof q[e]&&("typeof"!==a&&"delete"!==a||n&&("."===n.value||"["===n.value))&&ra(c,"'{a}' is not defined.",y,e),hb(y);else switch(c[e]){case"closure":case"function":case"var":case"unused":sa("'{a}' used out of scope.",y,e);break;case"label":sa("'{a}' is a statement label.",y,e);break;case"outer":case"global":break;default:if(f===!0)c[e]=!0;else if(null===f)sa("'{a}' is not allowed.",y,e),hb(y);else if("object"!=typeof f)p.undef&&("typeof"!==a&&"delete"!==a||n&&("."===n.value||"["===n.value))&&ra(c,"'{a}' is not defined.",y,e),c[e]=!0,hb(y);else switch(f[e]){case"function":case"unction":this["function"]=!0,f[e]="closure",c[e]=f["(global)"]?"global":"outer";break;case"var":case"unused":f[e]="closure",c[e]=f["(global)"]?"global":"outer";break;case"closure":c[e]=f["(global)"]?"global":"outer";break;case"label":sa("'{a}' is a statement label.",y,e)}}return this},led:function(){ua("Expected an operator and instead saw '{a}'.",n,n.value)}},Ra("(regexp)",function(){return this}),Ma("(endline)"),Ma("(begin)"),Ma("(end)").reach=!0,Ma("</").reach=!0,Ma("<!"),Ma("<!--"),Ma("-->"),Ma("(error)").reach=!0,Ma("}").reach=!0,Ma(")"),Ma("]"),Ma('"').reach=!0,Ma("'").reach=!0,Ma(";"),Ma(":").reach=!0,Ma(","),Ma("#"),Ma("@"),Sa("else"),Sa("case").reach=!0,Sa("catch"),Sa("default").reach=!0,Sa("finally"),Ta("arguments",function(a){w["use strict"]&&c["(global)"]&&sa("Strict violation.",a)}),Ta("eval"),Ta("false"),Ta("Infinity"),Ta("null"),Ta("this",function(a){w["use strict"]&&!p.validthis&&(c["(statement)"]&&c["(name)"].charAt(0)>"Z"||c["(global)"])&&sa("Possible strict violation.",a)}),Ta("true"),Ta("undefined"),Xa("=","assign",20),Xa("+=","assignadd",20),Xa("-=","assignsub",20),Xa("*=","assignmult",20),Xa("/=","assigndiv",20).nud=function(){ua("A regular expression literal can be confused with '/='.");
},Xa("%=","assignmod",20),Za("&=","assignbitand",20),Za("|=","assignbitor",20),Za("^=","assignbitxor",20),Za("<<=","assignshiftleft",20),Za(">>=","assignshiftright",20),Za(">>>=","assignshiftrightunsigned",20),Ua("?",function(a,b){return b.left=a,b.right=Ca(10),Ba(":"),b["else"]=Ca(10),b},30),Ua("||","or",40),Ua("&&","and",50),Ya("|","bitor",70),Ya("^","bitxor",80),Ya("&","bitand",90),Va("==",function(a,b){var c=p.eqnull&&("null"===a.value||"null"===b.value);return!c&&p.eqeqeq?sa("Expected '{a}' and instead saw '{b}'.",this,"===","=="):Wa(a)?sa("Use '{a}' to compare with '{b}'.",this,"===",a.value):Wa(b)&&sa("Use '{a}' to compare with '{b}'.",this,"===",b.value),this}),Va("==="),Va("!=",function(a,b){var c=p.eqnull&&("null"===a.value||"null"===b.value);return!c&&p.eqeqeq?sa("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):Wa(a)?sa("Use '{a}' to compare with '{b}'.",this,"!==",a.value):Wa(b)&&sa("Use '{a}' to compare with '{b}'.",this,"!==",b.value),this}),Va("!=="),Va("<"),Va(">"),Va("<="),Va(">="),Ya("<<","shiftleft",120),Ya(">>","shiftright",120),Ya(">>>","shiftrightunsigned",120),Ua("in","in",120),Ua("instanceof","instanceof",120),Ua("+",function(a,b){var c=Ca(130);return a&&c&&"(string)"===a.id&&"(string)"===c.id?(a.value+=c.value,a.character=c.character,!p.scripturl&&K.test(a.value)&&sa("JavaScript URL.",a),a):(b.left=a,b.right=c,b)},130),Qa("+","num"),Qa("+++",function(){return sa("Confusing pluses."),this.right=Ca(150),this.arity="unary",this}),Ua("+++",function(a){return sa("Confusing pluses."),this.left=a,this.right=Ca(130),this},130),Ua("-","sub",130),Qa("-","neg"),Qa("---",function(){return sa("Confusing minuses."),this.right=Ca(150),this.arity="unary",this}),Ua("---",function(a){return sa("Confusing minuses."),this.left=a,this.right=Ca(130),this},130),Ua("*","mult",140),Ua("/","div",140),Ua("%","mod",140),$a("++","postinc"),Qa("++","preinc"),ba["++"].exps=!0,$a("--","postdec"),Qa("--","predec"),ba["--"].exps=!0,Qa("delete",function(){var a=Ca(0);return(!a||"."!==a.id&&"["!==a.id)&&sa("Variables should not be deleted."),this.first=a,this}).exps=!0,Qa("~",function(){return p.bitwise&&sa("Unexpected '{a}'.",this,"~"),Ca(150),this}),Qa("!",function(){return this.right=Ca(150),this.arity="unary",M[this.right.id]===!0&&sa("Confusing use of '{a}'.",this,"!"),this}),Qa("typeof","typeof"),Qa("new",function(){var a,b=Ca(155);if(b&&"function"!==b.id)if(b.identifier)switch(b["new"]=!0,b.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":sa("Do not use {a} as a constructor.",s,b.value);break;case"Function":p.evil||sa("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:"function"!==b.id&&(a=b.value.substr(0,1),p.newcap&&("A">a||a>"Z")&&!ga(e,b.value)&&sa("A constructor name should start with an uppercase letter.",y))}else"."!==b.id&&"["!==b.id&&"("!==b.id&&sa("Bad constructor.",y);else p.supernew||sa("Weird construction. Delete 'new'.",this);return Da(y,n),"("===n.id||p.supernew||sa("Missing '()' invoking a constructor.",y,y.value),this.first=b,this}),ba["new"].exps=!0,Qa("void").exps=!0,Ua(".",function(a,b){Da(s,y),Ea();var c=ab();return"string"==typeof c&&gb(c),b.left=a,b.right=c,!a||"arguments"!==a.value||"callee"!==c&&"caller"!==c?p.evil||!a||"document"!==a.value||"write"!==c&&"writeln"!==c||sa("document.write can be a form of eval.",a):p.noarg?sa("Avoid arguments.{a}.",a,c):w["use strict"]&&ua("Strict violation."),p.evil||"eval"!==c&&"execScript"!==c||sa("eval is evil."),b},160,!0),Ua("(",function(a,b){"}"!==s.id&&")"!==s.id&&Ea(s,y),Fa(),p.immed&&!a.immed&&"function"===a.id&&sa("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var c=0,d=[];if(a&&"(identifier)"===a.type&&a.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Number String Boolean Date Object".indexOf(a.value)&&("Math"===a.value?sa("Math is not a function.",a):p.newcap&&sa("Missing 'new' prefix when invoking a constructor.",a)),")"!==n.id)for(;d[d.length]=Ca(10),c+=1,","===n.id;)Ka();return Ba(")"),Fa(s,y),"object"==typeof a&&("parseInt"===a.value&&1===c&&sa("Missing radix parameter.",y),p.evil||("eval"===a.value||"Function"===a.value||"execScript"===a.value?(sa("eval is evil.",a),d[0]&&"(string)"===[0].id&&wa(a,d[0].value)):!d[0]||"(string)"!==d[0].id||"setTimeout"!==a.value&&"setInterval"!==a.value?!d[0]||"(string)"!==d[0].id||"."!==a.value||"window"!==a.left.value||"setTimeout"!==a.right&&"setInterval"!==a.right||(sa("Implied eval is evil. Pass a function instead of a string.",a),wa(a,d[0].value)):(sa("Implied eval is evil. Pass a function instead of a string.",a),wa(a,d[0].value))),a.identifier||"."===a.id||"["===a.id||"("===a.id||"&&"===a.id||"||"===a.id||"?"===a.id||sa("Bad invocation.",a)),b.left=a,b},155,!0).exps=!0,Qa("(",function(){Fa(),"function"===n.id&&(n.immed=!0);var a=Ca(0);return Ba(")",this),Fa(s,y),p.immed&&"function"===a.id&&"("!==n.id&&("."!==n.id||"call"!==Aa().value&&"apply"!==Aa().value)&&sa("Do not wrap function literals in parens unless they are to be immediately invoked.",this),a}),Ua("[",function(a,b){Ea(s,y),Fa();var c,d=Ca(0);return d&&"(string)"===d.type&&(p.evil||"eval"!==d.value&&"execScript"!==d.value||sa("eval is evil.",b),gb(d.value),!p.sub&&J.test(d.value)&&(c=ba[d.value],c&&c.reserved||sa("['{a}'] is better written in dot notation.",s,d.value))),Ba("]",b),Fa(s,y),b.left=a,b.right=d,b},160,!0),Qa("[",function(){var a=y.line!==n.line;for(this.first=[],a&&(h+=p.indent,n.from===h+p.indent&&(h+=p.indent));"(end)"!==n.id;){for(;","===n.id;)p.es5||sa("Extra comma."),Ba(",");if("]"===n.id)break;if(a&&y.line!==n.line&&Ia(),this.first.push(Ca(10)),","!==n.id)break;if(Ka(),"]"===n.id&&!p.es5){sa("Extra comma.",y);break}}return a&&(h-=p.indent,Ia()),Ba("]",this),this},160);function ib(){var a=_a(!0);return a||("(string)"===n.id?(a=n.value,Ba()):"(number)"===n.id&&(a=n.value.toString(),Ba())),a}function jb(){var a,b=n,c=[];if(Ba("("),Fa(),")"===n.id)return void Ba(")");for(;;){if(a=ab(!0),c.push(a),ya(a,"unused",y),","!==n.id)return Ba(")",b),Fa(s,y),c;Ka()}}function kb(b,e){var f,g=p,h=u;return p=Object.create(p),u=Object.create(u),c={"(name)":b||'"'+a+'"',"(line)":n.line,"(character)":n.character,"(context)":c,"(breakage)":0,"(loopage)":0,"(metrics)":lb(n),"(scope)":u,"(statement)":e,"(tokens)":{}},f=c,y.funct=c,d.push(c),b&&ya(b,"function"),c["(params)"]=jb(),c["(metrics)"].verifyMaxParametersPerFunction(c["(params)"]),fb(!1,!1,!0),c["(metrics)"].verifyMaxStatementsPerFunction(),c["(metrics)"].verifyMaxComplexityPerFunction(),u=h,p=g,c["(last)"]=y.line,c["(lastcharacter)"]=y.character,c=c["(context)"],f}function lb(a){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,verifyMaxStatementsPerFunction:function(){if(p.maxstatements&&this.statementCount>p.maxstatements){var b="Too many statements per function ("+this.statementCount+").";sa(b,a)}},verifyMaxParametersPerFunction:function(b){if(b=b||[],p.maxparams&&b.length>p.maxparams){var c="Too many parameters per function ("+b.length+").";sa(c,a)}},verifyMaxNestedBlockDepthPerFunction:function(){if(p.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===p.maxdepth+1){var a="Blocks are nested too deeply ("+this.nestedBlockDepth+").";sa(a)}},verifyMaxComplexityPerFunction:function(){var b=p.maxcomplexity,c=this.ComplexityCount;if(b&&c>b){var d="Cyclomatic complexity is too high per function ("+c+").";sa(d,a)}}}}function mb(){c["(metrics)"].ComplexityCount+=1}!function(a){a.nud=function(){var a,b,c,d,e,f={};function g(a,b){f[a]&&ga(f,a)?sa("Duplicate member '{a}'.",n,c):f[a]={},f[a].basic=!0,f[a].basicToken=b}function i(a,b){f[a]&&ga(f,a)?(f[a].basic||f[a].setter)&&sa("Duplicate member '{a}'.",n,c):f[a]={},f[a].setter=!0,f[a].setterToken=b}function j(a){f[a]&&ga(f,a)?(f[a].basic||f[a].getter)&&sa("Duplicate member '{a}'.",n,c):f[a]={},f[a].getter=!0,f[a].getterToken=y}for(a=y.line!==n.line,a&&(h+=p.indent,n.from===h+p.indent&&(h+=p.indent));"}"!==n.id;){if(a&&Ia(),"get"===n.value&&":"!==Aa().id)Ba("get"),p.es5||ua("get/set are ES5 features."),c=ib(),c||ua("Missing property name."),j(c),e=n,Da(y,n),b=kb(),d=b["(params)"],d&&sa("Unexpected parameter '{a}' in get {b} function.",e,d[0],c),Da(y,n);else if("set"===n.value&&":"!==Aa().id)Ba("set"),p.es5||ua("get/set are ES5 features."),c=ib(),c||ua("Missing property name."),i(c,n),e=n,Da(y,n),b=kb(),d=b["(params)"],d&&1===d.length||sa("Expected a single parameter in set {a} function.",e,c);else{if(c=ib(),g(c,n),"string"!=typeof c)break;Ba(":"),Ga(y,n),Ca(10)}if(gb(c),","!==n.id)break;Ka(),","===n.id?sa("Extra comma.",y):"}"!==n.id||p.es5||sa("Extra comma.",y)}if(a&&(h-=p.indent,Ia()),Ba("}",this),p.es5)for(var k in f)ga(f,k)&&f[k].setter&&!f[k].getter&&sa("Setter is defined without getter.",f[k].setterToken);return this},a.fud=function(){ua("Expected to see a statement and instead saw a block.",y)}}(Ma("{")),B=function(){var a=Na("const",function(a){var b,d,e;for(this.first=[];(Ga(y,n),b=ab(),"const"===c[b]&&sa("const '"+b+"' has already been declared"),c["(global)"]&&q[b]===!1&&sa("Redefinition of '{a}'.",y,b),ya(b,"const"),!a)&&(d=y,this.first.push(y),"="!==n.id&&sa("const '{a}' is initialized to 'undefined'.",y,b),"="===n.id&&(Ga(y,n),Ba("="),Ga(y,n),"undefined"===n.id&&sa("It is not necessary to initialize '{a}' to 'undefined'.",y,b),"="===Aa(0).id&&n.identifier&&ua("Constant {a} was not declared correctly.",n,n.value),e=Ca(0),d.first=e),","===n.id);)Ka();return this});a.exps=!0};var nb=Na("var",function(a){var b,d,e;for(c["(onevar)"]&&p.onevar?sa("Too many var statements."):c["(global)"]||(c["(onevar)"]=!0),this.first=[];(Ga(y,n),b=ab(),p.esnext&&"const"===c[b]&&sa("const '"+b+"' has already been declared"),c["(global)"]&&q[b]===!1&&sa("Redefinition of '{a}'.",y,b),ya(b,"unused",y),!a)&&(d=y,this.first.push(y),"="===n.id&&(Ga(y,n),Ba("="),Ga(y,n),"undefined"===n.id&&sa("It is not necessary to initialize '{a}' to 'undefined'.",y,b),"="===Aa(0).id&&n.identifier&&ua("Variable {a} was not declared correctly.",n,n.value),e=Ca(0),d.first=e),","===n.id);)Ka();return this});nb.exps=!0,Oa("function",function(){g&&sa("Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",y);var a=ab();return p.esnext&&"const"===c[a]&&sa("const '"+a+"' has already been declared"),Da(y,n),ya(a,"unction",y),kb(a,{statement:!0}),"("===n.id&&n.line===y.line&&ua("Function declarations are not invocable. Wrap the whole function invocation in parens."),this}),Qa("function",function(){var a=_a();return a?Da(y,n):Ga(y,n),kb(a),!p.loopfunc&&c["(loopage)"]&&sa("Don't make functions within a loop."),this}),Oa("if",function(){var a=n;return mb(),Ba("("),Ga(this,a),Fa(),Ca(20),"="===n.id&&(p.boss||sa("Expected a conditional expression and instead saw an assignment."),Ba("="),Ca(20)),Ba(")",a),Fa(s,y),fb(!0,!0),"else"===n.id&&(Ga(y,n),Ba("else"),"if"===n.id||"switch"===n.id?cb(!0):fb(!0,!0)),this}),Oa("try",function(){var a;function b(){var a,b=u;Ba("catch"),Ga(y,n),Ba("("),u=Object.create(b),a=n.value,"(identifier)"!==n.type&&(a=null,sa("Expected an identifier and instead saw '{a}'.",n,a)),Ba(),Ba(")"),c={"(name)":"(catch)","(line)":n.line,"(character)":n.character,"(context)":c,"(breakage)":c["(breakage)"],"(loopage)":c["(loopage)"],"(scope)":u,"(statement)":!1,"(metrics)":lb(n),"(catch)":!0,"(tokens)":{}},a&&ya(a,"exception"),y.funct=c,d.push(c),fb(!1),u=b,c["(last)"]=y.line,c["(lastcharacter)"]=y.character,c=c["(context)"]}return fb(!1),"catch"===n.id&&(mb(),b(),a=!0),"finally"===n.id?(Ba("finally"),void fb(!1)):(a||ua("Expected '{a}' and instead saw '{b}'.",n,"catch",n.value),this)}),Oa("while",function(){var a=n;return c["(breakage)"]+=1,c["(loopage)"]+=1,mb(),Ba("("),Ga(this,a),Fa(),Ca(20),"="===n.id&&(p.boss||sa("Expected a conditional expression and instead saw an assignment."),Ba("="),Ca(20)),Ba(")",a),Fa(s,y),fb(!0,!0),c["(breakage)"]-=1,c["(loopage)"]-=1,this}).labelled=!0,Oa("with",function(){var a=n;return w["use strict"]?ua("'with' is not allowed in strict mode.",y):p.withstmt||sa("Don't use 'with'.",y),Ba("("),Ga(this,a),Fa(),Ca(0),Ba(")",a),Fa(s,y),fb(!0,!0),this}),Oa("switch",function(){var a=n,b=!1;for(c["(breakage)"]+=1,Ba("("),Ga(this,a),Fa(),this.condition=Ca(20),Ba(")",a),Fa(s,y),Ga(y,n),a=n,Ba("{"),Ga(y,n),h+=p.indent,this.cases=[];;)switch(n.id){case"case":switch(c["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:L.test(j[n.line-2])||sa("Expected a 'break' statement before 'case'.",y)}Ia(-p.indent),Ba("case"),this.cases.push(Ca(20)),mb(),b=!0,Ba(":"),c["(verb)"]="case";break;case"default":switch(c["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:L.test(j[n.line-2])||sa("Expected a 'break' statement before 'default'.",y)}Ia(-p.indent),Ba("default"),b=!0,Ba(":");break;case"}":return h-=p.indent,Ia(),Ba("}",a),(1===this.cases.length||"true"===this.condition.id||"false"===this.condition.id)&&(p.onecase||sa("This 'switch' should be an 'if'.",this)),c["(breakage)"]-=1,void(c["(verb)"]=void 0);case"(end)":return void ua("Missing '{a}'.",n,"}");default:if(b)switch(y.id){case",":return void ua("Each value should have its own case label.");case":":b=!1,db();break;default:return void ua("Missing ':' on a case clause.",y)}else{if(":"!==y.id)return void ua("Expected '{a}' and instead saw '{b}'.",n,"case",n.value);Ba(":"),ua("Unexpected '{a}'.",y,":"),db()}}}).labelled=!0,Na("debugger",function(){return p.debug||sa("All 'debugger' statements should be removed."),this}).exps=!0,function(){var a=Na("do",function(){c["(breakage)"]+=1,c["(loopage)"]+=1,mb(),this.first=fb(!0),Ba("while");var a=n;return Ga(y,a),Ba("("),Fa(),Ca(20),"="===n.id&&(p.boss||sa("Expected a conditional expression and instead saw an assignment."),Ba("="),Ca(20)),Ba(")",a),Fa(s,y),c["(breakage)"]-=1,c["(loopage)"]-=1,this});a.labelled=!0,a.exps=!0}(),Oa("for",function(){var a,b=n;if(c["(breakage)"]+=1,c["(loopage)"]+=1,mb(),Ba("("),Ga(this,b),Fa(),"in"===Aa("var"===n.id?1:0).id){if("var"===n.id)Ba("var"),nb.fud.call(nb,!0);else{switch(c[n.value]){case"unused":c[n.value]="var";break;case"var":break;default:sa("Bad for in variable '{a}'.",n,n.value)}Ba()}return Ba("in"),Ca(20),Ba(")",b),a=fb(!0,!0),p.forin&&a&&(a.length>1||"object"!=typeof a[0]||"if"!==a[0].value)&&sa("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this),c["(breakage)"]-=1,c["(loopage)"]-=1,this}if(";"!==n.id)if("var"===n.id)Ba("var"),nb.fud.call(nb);else for(;Ca(0,"for"),","===n.id;)Ka();if(Ja(y),Ba(";"),";"!==n.id&&(Ca(20),"="===n.id&&(p.boss||sa("Expected a conditional expression and instead saw an assignment."),Ba("="),Ca(20))),Ja(y),Ba(";"),";"===n.id&&ua("Expected '{a}' and instead saw '{b}'.",n,")",";"),")"!==n.id)for(;Ca(0,"for"),","===n.id;)Ka();return Ba(")",b),Fa(s,y),fb(!0,!0),c["(breakage)"]-=1,c["(loopage)"]-=1,this}).labelled=!0,Na("break",function(){var a=n.value;return 0===c["(breakage)"]&&sa("Unexpected '{a}'.",n,this.value),p.asi||Ja(this),";"!==n.id&&y.line===n.line&&("label"!==c[a]?sa("'{a}' is not a statement label.",n,a):u[a]!==c&&sa("'{a}' is out of scope.",n,a),this.first=n,Ba()),bb("break"),this}).exps=!0,Na("continue",function(){var a=n.value;return 0===c["(breakage)"]&&sa("Unexpected '{a}'.",n,this.value),p.asi||Ja(this),";"!==n.id?y.line===n.line&&("label"!==c[a]?sa("'{a}' is not a statement label.",n,a):u[a]!==c&&sa("'{a}' is out of scope.",n,a),this.first=n,Ba()):c["(loopage)"]||sa("Unexpected '{a}'.",n,this.value),bb("continue"),this}).exps=!0,Na("return",function(){return this.line===n.line?("(regexp)"===n.id&&sa("Wrap the /regexp/ literal in parens to disambiguate the slash operator."),";"===n.id||n.reach||(Ga(y,n),"="!==Aa().value||p.boss||ta("Did you mean to return a conditional instead of an assignment?",y.line,y.character+1),this.first=Ca(0))):p.asi||Ja(this),bb("return"),this}).exps=!0,Na("throw",function(){return Ja(this),Ga(y,n),this.first=Ca(20),bb("throw"),this}).exps=!0,Sa("class"),Sa("const"),Sa("enum"),Sa("export"),Sa("extends"),Sa("import"),Sa("super"),Sa("let"),Sa("yield"),Sa("implements"),Sa("interface"),Sa("package"),Sa("private"),Sa("protected"),Sa("public"),Sa("static");function ob(){function a(){var a={},b=n;if(Ba("{"),"}"!==n.id)for(;;){if("(end)"===n.id)ua("Missing '}' to match '{' from line {a}.",n,b.line);else{if("}"===n.id){sa("Unexpected comma.",y);break}","===n.id?ua("Unexpected comma.",n):"(string)"!==n.id&&sa("Expected a string and instead saw {a}.",n,n.value)}if(a[n.value]===!0?sa("Duplicate key '{a}'.",n,n.value):"__proto__"===n.value&&!p.proto||"__iterator__"===n.value&&!p.iterator?sa("The '{a}' key may produce unexpected results.",n,n.value):a[n.value]=!0,Ba(),Ba(":"),ob(),","!==n.id)break;Ba(",")}Ba("}")}function b(){var a=n;if(Ba("["),"]"!==n.id)for(;;){if("(end)"===n.id)ua("Missing ']' to match '[' from line {a}.",n,a.line);else{if("]"===n.id){sa("Unexpected comma.",y);break}","===n.id&&ua("Unexpected comma.",n)}if(ob(),","!==n.id)break;Ba(",")}Ba("]")}switch(n.id){case"{":a();break;case"[":b();break;case"true":case"false":case"null":case"(number)":case"(string)":Ba();break;case"-":Ba("-"),y.character!==n.from&&sa("Unexpected space after '-'.",y),Da(y,n),Ba("(number)");break;default:ua("Expected a JSON value.",n)}}var pb=function(a,o,B){var D,E,F,G,H,I={};if(o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),q=Object.create(_),b=Object.create(null),na(q,B||{}),o)for(D=o.predef,D&&(Array.isArray(D)||"object"!=typeof D||(D=Object.keys(D)),D.forEach(function(a){var b;"-"===a[0]?(b=a.slice(1),JSHINT.blacklist[b]=b):q[a]=!0})),H=Object.keys(o),G=0;G<H.length;G++)I[H[G]]=o[H[G]],"newcap"===H[G]&&o[H[G]]===!1&&(I["(explicitNewcap)"]=!0),"indent"===H[G]&&(I.white=!0);for(p=I,p.indent=p.indent||4,p.maxerr=p.maxerr||50,x="",E=0;E<p.indent;E+=1)x+=" ";if(h=1,e=Object.create(q),u=e,c={"(global)":!0,"(name)":"(global)","(scope)":u,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(metrics)":lb(n)},d=[c],A=[],v=null,l={},m=null,f={},g=!1,k=[],i=!1,C=0,j=[],z=[],!ia(a)&&!Array.isArray(a))return va("Input is neither a string nor an array of strings.",0),!1;if(ia(a)&&/^\s*$/g.test(a))return va("Input is an empty string.",0),!1;if(0===a.length)return va("Input is an empty array.",0),!1;xa.init(a),r=!0,w={},s=y=n=ba["(begin)"];for(var J in o)ga(o,J)&&ha(J,y);pa(),na(q,B||{}),Ka.first=!0,t=void 0;try{switch(Ba(),n.id){case"{":case"[":p.laxbreak=!0,i=!0,ob();break;default:eb(),w["use strict"]&&!p.globalstrict&&sa('Use the function form of "use strict".',s),db()}Ba(n&&"."!==n.value?"(end)":void 0);var K=function(a,b){do{if("string"==typeof b[a])return"unused"===b[a]?b[a]="var":"unction"===b[a]&&(b[a]="closure"),!0;b=b["(context)"]}while(b);return!1},L=function(a,b){if(f[a]){for(var c=[],d=0;d<f[a].length;d+=1)f[a][d]!==b&&c.push(f[a][d]);0===c.length?delete f[a]:f[a]=c}},M=function(a,b){var c=b.line,d=b.character;p.unused&&ta("'{a}' is defined but never used.",c,d,a),z.push({name:a,line:c,character:d})},N=function(a,b){var c=a[b],d=a["(tokens)"][b];"("!==b.charAt(0)&&("unused"===c||"unction"===c)&&(a["(params)"]&&-1!==a["(params)"].indexOf(b)||M(b,d))};for(E=0;E<JSHINT.undefs.length;E+=1)F=JSHINT.undefs[E].slice(0),K(F[2].value,F[0])?L(F[2].value,F[2].line):sa.apply(sa,F.slice(1));d.forEach(function(a){for(var b in a)ga(a,b)&&N(a,b);if(a["(params)"])for(var c,d=a["(params)"].slice(),e=d.pop();e;){if(c=a[e],"undefined"===e)return;if("unused"!==c&&"unction"!==c)return;M(e,a["(tokens)"][e]),e=d.pop()}});for(var O in b)ga(b,O)&&!ga(e,O)&&M(O,b[O])}catch(P){if(P){var Q=n||{};JSHINT.errors.push({raw:P.raw,reason:P.message,line:P.line||Q.line,character:P.character||Q.from},null)}}if("(main)"===JSHINT.scope)for(o=o||{},E=0;E<JSHINT.internals.length;E+=1)F=JSHINT.internals[E],o.scope=F.elem,pb(F.value,o,B);return 0===JSHINT.errors.length};return pb.data=function(){var a,b,c,e,g,h,j={functions:[],options:p},k=[],m=[];pb.errors.length&&(j.errors=pb.errors),i&&(j.json=!0);for(g in f)ga(f,g)&&k.push({name:g,line:f[g]});for(k.length>0&&(j.implieds=k),A.length>0&&(j.urls=A),h=Object.keys(u),h.length>0&&(j.globals=h),c=1;c<d.length;c+=1){for(b=d[c],a={},e=0;e<V.length;e+=1)a[V[e]]=[];for(e=0;e<V.length;e+=1)0===a[V[e]].length&&delete a[V[e]];a.name=b["(name)"],a.param=b["(params)"],a.line=b["(line)"],a.character=b["(character)"],a.last=b["(last)"],a.lastcharacter=b["(lastcharacter)"],j.functions.push(a)}z.length>0&&(j.unused=z),m=[];for(g in l)if("number"==typeof l[g]){j.member=l;break}return j},pb.jshint=pb,pb}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT);function getJasmineRequireObj(){return"undefined"!=typeof module&&module.exports?exports:(window.jasmineRequire=window.jasmineRequire||{},window.jasmineRequire)}getJasmineRequireObj().core=function(a){var b={};return a.base(b),b.util=a.util(),b.Any=a.Any(),b.CallTracker=a.CallTracker(),b.Clock=a.Clock(),b.DelayedFunctionScheduler=a.DelayedFunctionScheduler(),b.Env=a.Env(b),b.ExceptionFormatter=a.ExceptionFormatter(),b.Expectation=a.Expectation(),b.buildExpectationResult=a.buildExpectationResult(),b.JsApiReporter=a.JsApiReporter(),b.matchersUtil=a.matchersUtil(b),b.ObjectContaining=a.ObjectContaining(b),b.pp=a.pp(b),b.QueueRunner=a.QueueRunner(),b.ReportDispatcher=a.ReportDispatcher(),b.Spec=a.Spec(b),b.SpyStrategy=a.SpyStrategy(),b.Suite=a.Suite(),b.Timer=a.Timer(),b.version=a.version(),b.matchers=a.requireMatchers(a,b),b},getJasmineRequireObj().requireMatchers=function(a,b){for(var c=["toBe","toBeCloseTo","toBeDefined","toBeFalsy","toBeGreaterThan","toBeLessThan","toBeNaN","toBeNull","toBeTruthy","toBeUndefined","toContain","toEqual","toHaveBeenCalled","toHaveBeenCalledWith","toMatch","toThrow","toThrowError"],d={},e=0;e<c.length;e++){var f=c[e];d[f]=a[f](b)}return d},getJasmineRequireObj().base=function(a){a.unimplementedMethod_=function(){throw new Error("unimplemented method")},a.MAX_PRETTY_PRINT_DEPTH=40,a.DEFAULT_TIMEOUT_INTERVAL=5e3,a.getGlobal=function(){var a=eval.call(null,"this");return function(){return a}}(),a.getEnv=function(b){var c=a.currentEnv_=a.currentEnv_||new a.Env(b);return c},a.isArray_=function(b){return a.isA_("Array",b)},a.isString_=function(b){return a.isA_("String",b)},a.isNumber_=function(b){return a.isA_("Number",b)},a.isA_=function(a,b){return Object.prototype.toString.apply(b)==="[object "+a+"]"},a.isDomNode=function(a){return a.nodeType>0},a.any=function(b){return new a.Any(b)},a.objectContaining=function(b){return new a.ObjectContaining(b)},a.createSpy=function(b,c){var d=new a.SpyStrategy({name:b,fn:c,getSpy:function(){return f}}),e=new a.CallTracker,f=function(){return e.track({object:this,args:Array.prototype.slice.apply(arguments)}),d.exec.apply(this,arguments)};for(var g in c){if("and"===g||"calls"===g)throw new Error("Jasmine spies would overwrite the 'and' and 'calls' properties on the object being spied upon");f[g]=c[g]}return f.and=d,f.calls=e,f},a.isSpy=function(b){return b?b.and instanceof a.SpyStrategy&&b.calls instanceof a.CallTracker:!1},a.createSpyObj=function(b,c){if(!a.isArray_(c)||0===c.length)throw"createSpyObj requires a non-empty array of method names to create spies for";for(var d={},e=0;e<c.length;e++)d[c[e]]=a.createSpy(b+"."+c[e]);return d}},getJasmineRequireObj().util=function(){var a={};return a.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c},a.htmlEscape=function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},a.argsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},a.isUndefined=function(a){return void 0===a},a},getJasmineRequireObj().Spec=function(a){function b(a){this.expectationFactory=a.expectationFactory,this.resultCallback=a.resultCallback||function(){},this.id=a.id,this.description=a.description||"",this.fn=a.fn,this.beforeFns=a.beforeFns||function(){return[]},this.afterFns=a.afterFns||function(){return[]},this.onStart=a.onStart||function(){},this.exceptionFormatter=a.exceptionFormatter||function(){},this.getSpecName=a.getSpecName||function(){return""},this.expectationResultFactory=a.expectationResultFactory||function(){},this.queueRunnerFactory=a.queueRunnerFactory||function(){},this.catchingExceptions=a.catchingExceptions||function(){return!0},this.timer=a.timer||{setTimeout:setTimeout,clearTimeout:clearTimeout},this.fn||this.pend(),this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[]}}return b.prototype.addExpectationResult=function(a,b){a||this.result.failedExpectations.push(this.expectationResultFactory(b))},b.prototype.expect=function(a){return this.expectationFactory(a,this)},b.prototype.execute=function(c){var d,e=this;if(this.onStart(this),this.markedPending||this.disabled)return void m();function f(b){return function(c){d=Function.prototype.apply.apply(e.timer.setTimeout,[a.getGlobal(),[function(){l(new Error("Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.")),c()},a.DEFAULT_TIMEOUT_INTERVAL]]);var f=function(){g(),c()};b.call(this,f)}}function g(){Function.prototype.apply.apply(e.timer.clearTimeout,[a.getGlobal(),[d]]),d=void 0}for(var h=this.beforeFns().concat(this.fn).concat(this.afterFns()),i=[],j=0;j<h.length;j++){var k=h[j];i.push(k.length>0?f(k):k)}this.queueRunnerFactory({fns:i,onException:l,onComplete:m});function l(a){return g(),b.isPendingSpecException(a)?void e.pend():void e.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",error:a})}function m(){e.result.status=e.status(),e.resultCallback(e.result),c&&c()}},b.prototype.disable=function(){this.disabled=!0},b.prototype.pend=function(){this.markedPending=!0},b.prototype.status=function(){return this.disabled?"disabled":this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},b.prototype.getFullName=function(){return this.getSpecName(this)},b.pendingSpecExceptionMessage="=> marked Pending",b.isPendingSpecException=function(a){return-1!==a.toString().indexOf(b.pendingSpecExceptionMessage)},b},void 0==typeof window&&"object"==typeof exports&&(exports.Spec=jasmineRequire.Spec),getJasmineRequireObj().Env=function(a){function b(b){b=b||{};var c=this,d=b.global||a.getGlobal(),e=0,f=!0,g=a.getGlobal().setTimeout,h=a.getGlobal().clearTimeout;this.clock=new a.Clock(d,new a.DelayedFunctionScheduler);var i={},j=[],k=null,l=null,m=new a.ReportDispatcher(["jasmineStarted","jasmineDone","suiteStarted","suiteDone","specStarted","specDone"]);this.specFilter=function(){return!0};var n=[];this.addCustomEqualityTester=function(a){n.push(a)},a.Expectation.addCoreMatchers(a.matchers);var o=0,p=function(){return"spec"+o++},q=0,r=function(){return"suite"+q++},s=function(b,c){return a.Expectation.Factory({util:a.matchersUtil,customEqualityTesters:n,actual:b,addExpectationResult:d});function d(a,b){return c.addExpectationResult(a,b)}},t=function(a){k=a,m.specStarted(a.result)},u=function(a){return function(){for(var b=[];a;)b=b.concat(a.beforeFns),a=a.parentSuite;return b.reverse()}},v=function(a){return function(){for(var b=[];a;)b=b.concat(a.afterFns),a=a.parentSuite;return b}},w=function(a,b){return b.getFullName()+" "+a.description},x=a.buildExpectationResult,y=new a.ExceptionFormatter,z=function(a){return a.messageFormatter=y.message,a.stackFormatter=y.stack,x(a)};this.catchExceptions=function(a){return f=!!a},this.catchingExceptions=function(){return f};var A=20,B=0;function C(a){B++,B>=A?(B=0,g(a,0)):a()}var D=function(b){return a.Spec.isPendingSpecException(b)||f},E=function(b){b.catchException=D,b.clearStack=b.clearStack||C,new a.QueueRunner(b).execute()},F=new a.Suite({env:this,id:r(),description:"Jasmine__TopLevel__Suite",queueRunner:E,resultCallback:function(){}});i[F.id]=F,l=F,this.topSuite=function(){return F},this.execute=function(a){a=a||[F.id];for(var b=[],c=0;c<a.length;c++){var d=i[a[c]];b.push(function(a){return function(b){a.execute(b)}}(d))}m.jasmineStarted({totalSpecsDefined:e}),E({fns:b,onComplete:m.jasmineDone})},this.addReporter=function(a){m.addReporter(a)},this.addMatchers=function(b){a.Expectation.addMatchers(b)},this.spyOn=function(b,c){if(a.util.isUndefined(b))throw new Error("spyOn could not find an object to spy upon for "+c+"()");if(a.util.isUndefined(b[c]))throw new Error(c+"() method does not exist");if(b[c]&&a.isSpy(b[c]))throw new Error(c+" has already been spied upon");var d=a.createSpy(c,b[c]);return j.push({spy:d,baseObj:b,methodName:c,originalValue:b[c]}),b[c]=d,d};var G=function(b){var d=new a.Suite({env:c,id:r(),description:b,parentSuite:l,queueRunner:E,onStart:I,resultCallback:function(a){m.suiteDone(a)}});return i[d.id]=d,d};this.describe=function(a,b){var c=G(a),d=l;d.addChild(c),l=c;var e=null;try{b.call(c)}catch(f){e=f}return e&&this.it("encountered a declaration exception",function(){throw e}),l=d,c},this.xdescribe=function(a,b){var c=this.describe(a,b);return c.disable(),c};var H=function(b,d,f){e++;var l=new a.Spec({id:p(),beforeFns:u(f),afterFns:v(f),expectationFactory:s,exceptionFormatter:y,resultCallback:q,getSpecName:function(a){return w(a,f)},onStart:t,description:b,expectationResultFactory:z,queueRunnerFactory:E,fn:d,timer:{setTimeout:g,clearTimeout:h}});return i[l.id]=l,c.specFilter(l)||l.disable(),l;function o(){for(var a=0;a<j.length;a++){var b=j[a];b.baseObj[b.methodName]=b.originalValue}j=[]}function q(b){o(),a.Expectation.resetMatchers(),n=[],k=null,m.specDone(b)}},I=function(a){m.suiteStarted(a.result)};this.it=function(a,b){var c=H(a,b,l);return l.addChild(c),c},this.xit=function(a,b){var c=this.it(a,b);return c.pend(),c},this.expect=function(a){return k.expect(a)},this.beforeEach=function(a){l.beforeEach(a)},this.afterEach=function(a){l.afterEach(a)},this.pending=function(){throw a.Spec.pendingSpecExceptionMessage}}return b},getJasmineRequireObj().JsApiReporter=function(){var a={start:function(){},elapsed:function(){return 0}};function b(b){var c=b.timer||a,d="loaded";this.started=!1,this.finished=!1,this.jasmineStarted=function(){this.started=!0,d="started",c.start()};var e;this.jasmineDone=function(){this.finished=!0,e=c.elapsed(),d="done"},this.status=function(){return d};var f={};this.suiteStarted=function(a){g(a)},this.suiteDone=function(a){g(a)};function g(a){f[a.id]=a}this.suites=function(){return f};var h=[];this.specStarted=function(a){},this.specDone=function(a){h.push(a)},this.specResults=function(a,b){return h.slice(a,a+b)},this.specs=function(){return h},this.executionTime=function(){return e}}return b},getJasmineRequireObj().Any=function(){function a(a){this.expectedObject=a}return a.prototype.jasmineMatches=function(a){return this.expectedObject==String?"string"==typeof a||a instanceof String:this.expectedObject==Number?"number"==typeof a||a instanceof Number:this.expectedObject==Function?"function"==typeof a||a instanceof Function:this.expectedObject==Object?"object"==typeof a:this.expectedObject==Boolean?"boolean"==typeof a:a instanceof this.expectedObject},a.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"},a},getJasmineRequireObj().CallTracker=function(){function a(){var a=[];this.track=function(b){a.push(b)},this.any=function(){return!!a.length},this.count=function(){return a.length},this.argsFor=function(b){var c=a[b];return c?c.args:[]},this.all=function(){return a},this.allArgs=function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].args);return b},this.first=function(){return a[0]},this.mostRecent=function(){return a[a.length-1]},this.reset=function(){a=[]}}return a},getJasmineRequireObj().Clock=function(){function a(a,b){var c,d=this,e={setTimeout:a.setTimeout,clearTimeout:a.clearTimeout,setInterval:a.setInterval,clearInterval:a.clearInterval},f={setTimeout:j,clearTimeout:k,setInterval:l,clearInterval:m},g=!1;return d.install=function(){
i(a,f),c=f,g=!0},d.uninstall=function(){b.reset(),i(a,e),c=e,g=!1},d.setTimeout=function(b,d,e){if(h()){if(arguments.length>2)throw new Error("IE < 9 cannot support extra params to setTimeout without a polyfill");return c.setTimeout(b,d)}return Function.prototype.apply.apply(c.setTimeout,[a,arguments])},d.setInterval=function(b,d,e){if(h()){if(arguments.length>2)throw new Error("IE < 9 cannot support extra params to setInterval without a polyfill");return c.setInterval(b,d)}return Function.prototype.apply.apply(c.setInterval,[a,arguments])},d.clearTimeout=function(b){return Function.prototype.call.apply(c.clearTimeout,[a,b])},d.clearInterval=function(b){return Function.prototype.call.apply(c.clearInterval,[a,b])},d.tick=function(a){if(!g)throw new Error("Mock clock is not installed, use jasmine.clock().install()");b.tick(a)},d;function h(){return!(e.setTimeout||e.setInterval).apply}function i(a,b){for(var c in b)a[c]=b[c]}function j(a,c){return b.scheduleFunction(a,c,n(arguments,2))}function k(a){return b.removeFunctionWithId(a)}function l(a,c){return b.scheduleFunction(a,c,n(arguments,2),!0)}function m(a){return b.removeFunctionWithId(a)}function n(a,b){return Array.prototype.slice.call(a,2)}}return a},getJasmineRequireObj().DelayedFunctionScheduler=function(){function DelayedFunctionScheduler(){var self=this,scheduledLookup=[],scheduledFunctions={},currentTime=0,delayedFnCount=0;return self.tick=function(a){a=a||0;var b=currentTime+a;runScheduledFunctions(b),currentTime=b},self.scheduleFunction=function(funcToCall,millis,params,recurring,timeoutKey,runAtMillis){var f;f="string"==typeof funcToCall?function(){return eval(funcToCall)}:funcToCall,millis=millis||0,timeoutKey=timeoutKey||++delayedFnCount,runAtMillis=runAtMillis||currentTime+millis;var funcToSchedule={runAtMillis:runAtMillis,funcToCall:f,recurring:recurring,params:params,timeoutKey:timeoutKey,millis:millis};return runAtMillis in scheduledFunctions?scheduledFunctions[runAtMillis].push(funcToSchedule):(scheduledFunctions[runAtMillis]=[funcToSchedule],scheduledLookup.push(runAtMillis),scheduledLookup.sort(function(a,b){return a-b})),timeoutKey},self.removeFunctionWithId=function(a){for(var b in scheduledFunctions){var c=scheduledFunctions[b],d=indexOfFirstToPass(c,function(b){return b.timeoutKey===a});if(d>-1){1===c.length?(delete scheduledFunctions[b],deleteFromLookup(b)):c.splice(d,1);break}}},self.reset=function(){currentTime=0,scheduledLookup=[],scheduledFunctions={},delayedFnCount=0},self;function indexOfFirstToPass(a,b){for(var c=-1,d=0;d<a.length;++d)if(b(a[d])){c=d;break}return c}function deleteFromLookup(a){var b=Number(a),c=indexOfFirstToPass(scheduledLookup,function(a){return a===b});c>-1&&scheduledLookup.splice(c,1)}function reschedule(a){self.scheduleFunction(a.funcToCall,a.millis,a.params,!0,a.timeoutKey,a.runAtMillis+a.millis)}function runScheduledFunctions(a){if(!(0===scheduledLookup.length||scheduledLookup[0]>a))do{currentTime=scheduledLookup.shift();var b=scheduledFunctions[currentTime];delete scheduledFunctions[currentTime];for(var c=0;c<b.length;++c){var d=b[c];d.funcToCall.apply(null,d.params||[]),d.recurring&&reschedule(d)}}while(scheduledLookup.length>0&&currentTime!==a&&scheduledLookup[0]<=a)}}return DelayedFunctionScheduler},getJasmineRequireObj().ExceptionFormatter=function(){function a(){this.message=function(a){var b=a.name+": "+a.message;return(a.fileName||a.sourceURL)&&(b+=" in "+(a.fileName||a.sourceURL)),(a.line||a.lineNumber)&&(b+=" (line "+(a.line||a.lineNumber)+")"),b},this.stack=function(a){return a?a.stack:null}}return a},getJasmineRequireObj().Expectation=function(){var a={};function b(b){this.util=b.util||{buildFailureMessage:function(){}},this.customEqualityTesters=b.customEqualityTesters||[],this.actual=b.actual,this.addExpectationResult=b.addExpectationResult||function(){},this.isNot=b.isNot;for(var c in a)this[c]=a[c]}return b.prototype.wrapCompare=function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0),d=c.slice(0),e="";c.unshift(this.actual);var f=b(this.util,this.customEqualityTesters),g=f.compare;function h(){var a=f.compare.apply(null,c);return a.pass=!a.pass,a}this.isNot&&(g=f.negativeCompare||h);var i=g.apply(null,c);i.pass||(i.message?e=i.message:(c.unshift(this.isNot),c.unshift(a),e=this.util.buildFailureMessage.apply(null,c))),1==d.length&&(d=d[0]),this.addExpectationResult(i.pass,{matcherName:a,passed:i.pass,message:e,actual:this.actual,expected:d})}},b.addCoreMatchers=function(a){var c=b.prototype;for(var d in a){var e=a[d];c[d]=c.wrapCompare(d,e)}},b.addMatchers=function(c){for(var d in c){var e=c[d];a[d]=b.prototype.wrapCompare(d,e)}},b.resetMatchers=function(){for(var b in a)delete a[b]},b.Factory=function(a){a=a||{};var c=new b(a);return a.isNot=!0,c.not=new b(a),c},b},getJasmineRequireObj().buildExpectationResult=function(){function a(a){var b=a.messageFormatter||function(){},c=a.stackFormatter||function(){};return{matcherName:a.matcherName,expected:a.expected,actual:a.actual,message:d(),stack:e(),passed:a.passed};function d(){return a.passed?"Passed.":a.message?a.message:a.error?b(a.error):""}function e(){if(a.passed)return"";var b=a.error;if(!b)try{throw new Error(d())}catch(e){b=e}return c(b)}}return a},getJasmineRequireObj().ObjectContaining=function(a){function b(a){this.sample=a}return b.prototype.jasmineMatches=function(b,c,d){if("object"!=typeof this.sample)throw new Error("You must provide an object to objectContaining, not '"+this.sample+"'.");c=c||[],d=d||[];var e=function(b,c){return null!==b&&!a.util.isUndefined(b[c])};for(var f in this.sample)!e(b,f)&&e(this.sample,f)?c.push("expected has key '"+f+"', but missing from actual."):a.matchersUtil.equals(this.sample[f],b[f])||d.push("'"+f+"' was '"+(b[f]?a.util.htmlEscape(b[f].toString()):b[f])+"' in actual, but was '"+(this.sample[f]?a.util.htmlEscape(this.sample[f].toString()):this.sample[f])+"' in expected.");return 0===c.length&&0===d.length},b.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+a.pp(this.sample)+")>"},b},getJasmineRequireObj().pp=function(a){function b(){this.ppNestLevel_=0}b.prototype.format=function(b){this.ppNestLevel_++;try{a.util.isUndefined(b)?this.emitScalar("undefined"):null===b?this.emitScalar("null"):b===a.getGlobal()?this.emitScalar("<global>"):b.jasmineToString?this.emitScalar(b.jasmineToString()):"string"==typeof b?this.emitString(b):a.isSpy(b)?this.emitScalar("spy on "+b.and.identity()):b instanceof RegExp?this.emitScalar(b.toString()):"function"==typeof b?this.emitScalar("Function"):"number"==typeof b.nodeType?this.emitScalar("HTMLNode"):b instanceof Date?this.emitScalar("Date("+b+")"):b.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(a.isArray_(b)?"Array":"Object")+">"):a.isArray_(b)||a.isA_("Object",b)?(b.__Jasmine_been_here_before__=!0,a.isArray_(b)?this.emitArray(b):this.emitObject(b),delete b.__Jasmine_been_here_before__):this.emitScalar(b.toString())}finally{this.ppNestLevel_--}},b.prototype.iterateObject=function(b,c){for(var d in b)b.hasOwnProperty(d)&&"__Jasmine_been_here_before__"!=d&&c(d,b.__lookupGetter__?!a.util.isUndefined(b.__lookupGetter__(d))&&null!==b.__lookupGetter__(d):!1)},b.prototype.emitArray=a.unimplementedMethod_,b.prototype.emitObject=a.unimplementedMethod_,b.prototype.emitScalar=a.unimplementedMethod_,b.prototype.emitString=a.unimplementedMethod_;function c(){b.call(this),this.string=""}return a.util.inherit(c,b),c.prototype.emitScalar=function(a){this.append(a)},c.prototype.emitString=function(a){this.append("'"+a+"'")},c.prototype.emitArray=function(b){if(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)return void this.append("Array");this.append("[ ");for(var c=0;c<b.length;c++)c>0&&this.append(", "),this.format(b[c]);this.append(" ]")},c.prototype.emitObject=function(b){if(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)return void this.append("Object");var c=this;this.append("{ ");var d=!0;this.iterateObject(b,function(a,e){d?d=!1:c.append(", "),c.append(a),c.append(" : "),e?c.append("<getter>"):c.format(b[a])}),this.append(" }")},c.prototype.append=function(a){this.string+=a},function(a){var b=new c;return b.format(a),b.string}},getJasmineRequireObj().QueueRunner=function(){function a(a){this.fns=a.fns||[],this.onComplete=a.onComplete||function(){},this.clearStack=a.clearStack||function(a){a()},this.onException=a.onException||function(){},this.catchException=a.catchException||function(){return!0},this.userContext={}}return a.prototype.execute=function(){this.run(this.fns,0)},a.prototype.run=function(a,b){var c,d=a.length,e=this;for(c=b;d>c;c++){var f=a[c];if(f.length>0)return i(f);h(f)}var g=c>=d;g&&this.clearStack(this.onComplete);function h(a){try{a.call(e.userContext)}catch(b){j(b)}}function i(b){var d=function(){e.run(a,c+1)};try{b.call(e.userContext,d)}catch(f){j(f),d()}}function j(a){if(e.onException(a),!e.catchException(a))throw a}},a},getJasmineRequireObj().ReportDispatcher=function(){function a(a){for(var b=a||[],c=0;c<b.length;c++){var d=b[c];this[d]=function(a){return function(){f(a,arguments)}}(d)}var e=[];return this.addReporter=function(a){e.push(a)},this;function f(a,b){for(var c=0;c<e.length;c++){var d=e[c];d[a]&&d[a].apply(d,b)}}}return a},getJasmineRequireObj().SpyStrategy=function(){function a(a){a=a||{};var b=a.name||"unknown",c=a.fn||function(){},d=a.getSpy||function(){},e=function(){};this.identity=function(){return b},this.exec=function(){return e.apply(this,arguments)},this.callThrough=function(){return e=c,d()},this.returnValue=function(a){return e=function(){return a},d()},this.throwError=function(a){var b=a instanceof Error?a:new Error(a);return e=function(){throw b},d()},this.callFake=function(a){return e=a,d()},this.stub=function(a){return e=function(){},d()}}return a},getJasmineRequireObj().Suite=function(){function a(a){this.env=a.env,this.id=a.id,this.parentSuite=a.parentSuite,this.description=a.description,this.onStart=a.onStart||function(){},this.resultCallback=a.resultCallback||function(){},this.clearStack=a.clearStack||function(a){a()},this.beforeFns=[],this.afterFns=[],this.queueRunner=a.queueRunner||function(){},this.disabled=!1,this.children=[],this.result={id:this.id,status:this.disabled?"disabled":"",description:this.description,fullName:this.getFullName()}}return a.prototype.getFullName=function(){for(var a=this.description,b=this.parentSuite;b;b=b.parentSuite)b.parentSuite&&(a=b.description+" "+a);return a},a.prototype.disable=function(){this.disabled=!0},a.prototype.beforeEach=function(a){this.beforeFns.unshift(a)},a.prototype.afterEach=function(a){this.afterFns.unshift(a)},a.prototype.addChild=function(a){this.children.push(a)},a.prototype.execute=function(a){var b=this;if(this.disabled)return void e();for(var c=[],d=0;d<this.children.length;d++)c.push(f(this.children[d]));this.onStart(this),this.queueRunner({fns:c,onComplete:e});function e(){b.resultCallback(b.result),a&&a()}function f(a){return function(b){a.execute(b)}}},a},void 0==typeof window&&"object"==typeof exports&&(exports.Suite=jasmineRequire.Suite),getJasmineRequireObj().Timer=function(){function a(a){a=a||{};var b,c=a.now||function(){return(new Date).getTime()};this.start=function(){b=c()},this.elapsed=function(){return c()-b}}return a},getJasmineRequireObj().matchersUtil=function(a){return{equals:function(a,c,d){return d=d||[],b(a,c,[],[],d)},contains:function(a,c,d){if(d=d||[],"[object Array]"===Object.prototype.toString.apply(a)){for(var e=0;e<a.length;e++)if(b(a[e],c,[],[],d))return!0;return!1}return a.indexOf(c)>=0},buildFailureMessage:function(){var b=Array.prototype.slice.call(arguments,0),c=b[0],d=b[1],e=b[2],f=b.slice(3),g=c.replace(/[A-Z]/g,function(a){return" "+a.toLowerCase()}),h="Expected "+a.pp(e)+(d?" not ":" ")+g;if(f.length>0)for(var i=0;i<f.length;i++)i>0&&(h+=","),h+=" "+a.pp(f[i]);return h+"."}};function b(c,d,e,f,g){for(var h=!0,i=0;i<g.length;i++){var j=g[i](c,d);if(!a.util.isUndefined(j))return j}if(c instanceof a.Any&&(h=c.jasmineMatches(d)))return!0;if(d instanceof a.Any&&(h=d.jasmineMatches(c)))return!0;if(d instanceof a.ObjectContaining&&(h=d.jasmineMatches(c)))return!0;if(c instanceof Error&&d instanceof Error)return c.message==d.message;if(c===d)return 0!==c||1/c==1/d;if(null===c||null===d)return c===d;var k=Object.prototype.toString.call(c);if(k!=Object.prototype.toString.call(d))return!1;switch(k){case"[object String]":return c==String(d);case"[object Number]":return c!=+c?d!=+d:0===c?1/c==1/d:c==+d;case"[object Date]":case"[object Boolean]":return+c==+d;case"[object RegExp]":return c.source==d.source&&c.global==d.global&&c.multiline==d.multiline&&c.ignoreCase==d.ignoreCase}if("object"!=typeof c||"object"!=typeof d)return!1;for(var l=e.length;l--;)if(e[l]==c)return f[l]==d;e.push(c),f.push(d);var m=0;if("[object Array]"==k){if(m=c.length,h=m==d.length)for(;m--&&(h=b(c[m],d[m],e,f,g)););}else{var n=c.constructor,o=d.constructor;if(n!==o&&!(r(n)&&n instanceof n&&r(o)&&o instanceof o))return!1;for(var p in c)if(q(c,p)&&(m++,!(h=q(d,p)&&b(c[p],d[p],e,f,g))))break;if(h){for(p in d)if(q(d,p)&&!m--)break;h=!m}}return e.pop(),f.pop(),h;function q(a,b){return a.hasOwnProperty(b)}function r(a){return"function"==typeof a}}},getJasmineRequireObj().toBe=function(){function a(){return{compare:function(a,b){return{pass:a===b}}}}return a},getJasmineRequireObj().toBeCloseTo=function(){function a(){return{compare:function(a,b,c){return 0!==c&&(c=c||2),{pass:Math.abs(b-a)<Math.pow(10,-c)/2}}}}return a},getJasmineRequireObj().toBeDefined=function(){function a(){return{compare:function(a){return{pass:void 0!==a}}}}return a},getJasmineRequireObj().toBeFalsy=function(){function a(){return{compare:function(a){return{pass:!a}}}}return a},getJasmineRequireObj().toBeGreaterThan=function(){function a(){return{compare:function(a,b){return{pass:a>b}}}}return a},getJasmineRequireObj().toBeLessThan=function(){function a(){return{compare:function(a,b){return{pass:b>a}}}}return a},getJasmineRequireObj().toBeNaN=function(a){function b(){return{compare:function(b){var c={pass:b!==b};return c.pass?c.message="Expected actual not to be NaN.":c.message="Expected "+a.pp(b)+" to be NaN.",c}}}return b},getJasmineRequireObj().toBeNull=function(){function a(){return{compare:function(a){return{pass:null===a}}}}return a},getJasmineRequireObj().toBeTruthy=function(){function a(){return{compare:function(a){return{pass:!!a}}}}return a},getJasmineRequireObj().toBeUndefined=function(){function a(){return{compare:function(a){return{pass:void 0===a}}}}return a},getJasmineRequireObj().toContain=function(){function a(a,b){return b=b||[],{compare:function(c,d){return{pass:a.contains(c,d,b)}}}}return a},getJasmineRequireObj().toEqual=function(){function a(a,b){return b=b||[],{compare:function(c,d){var e={pass:!1};return e.pass=a.equals(c,d,b),e}}}return a},getJasmineRequireObj().toHaveBeenCalled=function(a){function b(){return{compare:function(b){var c={};if(!a.isSpy(b))throw new Error("Expected a spy, but got "+a.pp(b)+".");if(arguments.length>1)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");return c.pass=b.calls.any(),c.message=c.pass?"Expected spy "+b.and.identity()+" not to have been called.":"Expected spy "+b.and.identity()+" to have been called.",c}}}return b},getJasmineRequireObj().toHaveBeenCalledWith=function(a){function b(b){return{compare:function(){var c=Array.prototype.slice.call(arguments,0),d=c[0],e=c.slice(1),f={pass:!1};if(!a.isSpy(d))throw new Error("Expected a spy, but got "+a.pp(d)+".");return d.calls.any()?(b.contains(d.calls.allArgs(),e)?(f.pass=!0,f.message="Expected spy "+d.and.identity()+" not to have been called with "+a.pp(e)+" but it was."):f.message="Expected spy "+d.and.identity()+" to have been called with "+a.pp(e)+" but actual calls were "+a.pp(d.calls.allArgs()).replace(/^\[ | \]$/g,"")+".",f):(f.message="Expected spy "+d.and.identity()+" to have been called with "+a.pp(e)+" but it was never called.",f)}}}return b},getJasmineRequireObj().toMatch=function(){function a(){return{compare:function(a,b){var c=new RegExp(b);return{pass:c.test(a)}}}}return a},getJasmineRequireObj().toThrow=function(a){function b(b){return{compare:function(c,d){var e,f={pass:!1},g=!1;if("function"!=typeof c)throw new Error("Actual is not a Function");try{c()}catch(h){g=!0,e=h}return g?1==arguments.length?(f.pass=!0,f.message="Expected function not to throw, but it threw "+a.pp(e)+".",f):(b.equals(e,d)?(f.pass=!0,f.message="Expected function not to throw "+a.pp(d)+"."):f.message="Expected function to throw "+a.pp(d)+", but it threw "+a.pp(e)+".",f):(f.message="Expected function to throw an exception.",f)}}}return b},getJasmineRequireObj().toThrowError=function(a){function b(b){return{compare:function(c){var d,e,f,g,h,i,j=!1;if("function"!=typeof c)throw new Error("Actual is not a Function");o.apply(null,arguments);try{c()}catch(k){j=!0,d=k}if(!j)return n("Expected function to throw an Error.");if(!(d instanceof Error))return n("Expected function to throw an Error, but it threw "+d+".");if(1==arguments.length)return m("Expected function not to throw an Error, but it threw "+l(d)+".");if(e&&(h=l(e),i=l(d.constructor)),e&&f)return d.constructor==e&&b.equals(d.message,f)?m("Expected function not to throw "+h+' with message "'+f+'".'):n("Expected function to throw "+h+' with message "'+f+'", but it threw '+i+' with message "'+d.message+'".');if(e&&g)return d.constructor==e&&g.test(d.message)?m("Expected function not to throw "+h+" with message matching "+g+"."):n("Expected function to throw "+h+" with message matching "+g+", but it threw "+i+' with message "'+d.message+'".');if(e)return d.constructor==e?m("Expected function not to throw "+h+"."):n("Expected function to throw "+h+", but it threw "+i+".");if(f)return d.message==f?m("Expected function not to throw an exception with message "+a.pp(f)+"."):n("Expected function to throw an exception with message "+a.pp(f)+", but it threw an exception with message "+a.pp(d.message)+".");if(g)return g.test(d.message)?m("Expected function not to throw an exception with a message matching "+a.pp(g)+"."):n("Expected function to throw an exception with a message matching "+a.pp(g)+", but it threw an exception with message "+a.pp(d.message)+".");function l(a){return a.name||a.toString().match(/^\s*function\s*(\w*)\s*\(/)[1]}function m(a){return{pass:!0,message:a}}function n(a){return{pass:!1,message:a}}function o(){if(1!=arguments.length)if(2==arguments.length){var a=arguments[1];if(a instanceof RegExp?g=a:"string"==typeof a?f=a:p(a)&&(e=a),!(e||f||g))throw new Error("Expected is not an Error, string, or RegExp.")}else{if(!p(arguments[1]))throw new Error("Expected error type is not an Error.");if(e=arguments[1],arguments[2]instanceof RegExp)g=arguments[2];else{if("string"!=typeof arguments[2])throw new Error("Expected error message is not a string or RegExp.");f=arguments[2]}}}function p(a){if("function"!=typeof a)return!1;var b=function(){};return b.prototype=a.prototype,new b instanceof Error}}}}return b},getJasmineRequireObj().version=function(){return"2.0.0"},jasmineRequire.html=function(a){a.ResultsNode=jasmineRequire.ResultsNode(),a.HtmlReporter=jasmineRequire.HtmlReporter(a),a.QueryString=jasmineRequire.QueryString(),a.HtmlSpecFilter=jasmineRequire.HtmlSpecFilter()},jasmineRequire.HtmlReporter=function(a){var b={start:function(){},elapsed:function(){return 0}};function c(c){var d,e,f=c.env||{},g=c.getContainer,h=c.createElement,i=c.createTextNode,j=c.onRaiseExceptionsClick||function(){},k=c.timer||b,l=0,m=0,n=0;this.initialize=function(){d=u("div",{className:"html-reporter"},u("div",{className:"banner"},u("span",{className:"title"},"Jasmine"),u("span",{className:"version"},a.version)),u("ul",{className:"symbol-summary"}),u("div",{className:"alert"}),u("div",{className:"results"},u("div",{className:"failures"}))),g().appendChild(d),e=t(".symbol-summary")};var o;this.jasmineStarted=function(a){o=a.totalSpecsDefined||0,k.start()};var p=u("div",{className:"summary"}),q=new a.ResultsNode({},"",null),r=q;this.suiteStarted=function(a){r.addChild(a,"suite"),r=r.last()},this.suiteDone=function(a){r!=q&&(r=r.parent)},this.specStarted=function(a){r.addChild(a,"spec")};var s=[];return this.specDone=function(a){if("disabled"!=a.status&&l++,e.appendChild(u("li",{className:a.status,id:"spec_"+a.id,title:a.fullName})),"failed"==a.status){m++;for(var b=u("div",{className:"spec-detail failed"},u("div",{className:"description"},u("a",{title:a.fullName,href:w(a)},a.fullName)),u("div",{className:"messages"})),c=b.childNodes[1],d=0;d<a.failedExpectations.length;d++){var f=a.failedExpectations[d];c.appendChild(u("div",{className:"result-message"},f.message)),c.appendChild(u("div",{className:"stack-trace"},f.stack))}s.push(b)}"pending"==a.status&&n++},this.jasmineDone=function(){var a=t(".banner");a.appendChild(u("span",{className:"duration"},"finished in "+k.elapsed()/1e3+"s"));var b=t(".alert");b.appendChild(u("span",{className:"exceptions"},u("label",{className:"label","for":"raise-exceptions"},"raise exceptions"),u("input",{className:"raise",id:"raise-exceptions",type:"checkbox"})));var c=t("input");if(c.checked=!f.catchingExceptions(),c.onclick=j,o>l){var d="Ran "+l+" of "+o+" specs - run all";b.appendChild(u("span",{className:"bar skipped"},u("a",{href:"?",title:"Run all specs"},d)))}var e=""+v("spec",l)+", "+v("failure",m);n&&(e+=", "+v("pending spec",n));var g="bar "+(m>0?"failed":"passed");b.appendChild(u("span",{className:g},e));var h=t(".results");h.appendChild(p),i(q,p);function i(a,b){for(var c,d=0;d<a.children.length;d++){var e=a.children[d];if("suite"==e.type){var f=u("ul",{className:"suite",id:"suite-"+e.result.id},u("li",{className:"suite-detail"},u("a",{href:w(e.result)},e.result.description)));i(e,f),b.appendChild(f)}"spec"==e.type&&("specs"!=b.getAttribute("class")&&(c=u("ul",{className:"specs"}),b.appendChild(c)),c.appendChild(u("li",{className:e.result.status,id:"spec-"+e.result.id},u("a",{href:w(e.result)},e.result.description))))}}if(s.length){b.appendChild(u("span",{className:"menu bar spec-list"},u("span",{},"Spec List | "),u("a",{className:"failures-menu",href:"#"},"Failures"))),b.appendChild(u("span",{className:"menu bar failure-list"},u("a",{className:"spec-list-menu",href:"#"},"Spec List"),u("span",{}," | Failures "))),t(".failures-menu").onclick=function(){x("failure-list")},t(".spec-list-menu").onclick=function(){x("spec-list")},x("failure-list");for(var r=t(".failures"),y=0;y<s.length;y++)r.appendChild(s[y])}},this;function t(a){return g().querySelector(a)}function u(a,b,c){for(var d=h(a),e=2;e<arguments.length;e++){var f=arguments[e];"string"==typeof f?d.appendChild(i(f)):f&&d.appendChild(f)}for(var g in b)"className"==g?d[g]=b[g]:d.setAttribute(g,b[g]);return d}function v(a,b){var c=1==b?a:a+"s";return""+b+" "+c}function w(a){return"?spec="+encodeURIComponent(a.fullName)}function x(a){d.setAttribute("class","html-reporter "+a)}}return c},jasmineRequire.HtmlSpecFilter=function(){function a(a){var b=a&&a.filterString()&&a.filterString().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=new RegExp(b);this.matches=function(a){return c.test(a)}}return a},jasmineRequire.ResultsNode=function(){function a(b,c,d){this.result=b,this.type=c,this.parent=d,this.children=[],this.addChild=function(b,c){this.children.push(new a(b,c,this))},this.last=function(){return this.children[this.children.length-1]}}return a},jasmineRequire.QueryString=function(){function a(a){return this.setParam=function(d,e){var f=c();f[d]=e,a.getWindowLocation().search=b(f)},this.getParam=function(a){return c()[a]},this;function b(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return"?"+b.join("&")}function c(){var b=a.getWindowLocation().search.substring(1),c=[],d={};if(b.length>0){c=b.split("&");for(var e=0;e<c.length;e++){var f=c[e].split("="),g=decodeURIComponent(f[1]);("true"===g||"false"===g)&&(g=JSON.parse(g)),d[decodeURIComponent(f[0])]=g}}return d}}return a},function(a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else{if("function"==typeof define&&define.amd)return define([],a);this.CodeMirror=a()}}(function(){var a=/gecko\/\d/i.test(navigator.userAgent),b=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=b||c,e=d&&(b?document.documentMode||6:c[1]),f=/WebKit\//.test(navigator.userAgent),g=f&&/Qt\/\d+\.\d+/.test(navigator.userAgent),h=/Chrome\//.test(navigator.userAgent),i=/Opera\//.test(navigator.userAgent),j=/Apple Computer/.test(navigator.vendor),k=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),l=/PhantomJS/.test(navigator.userAgent),m=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),n=m||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),o=m||/Mac/.test(navigator.platform),p=/win/i.test(navigator.platform),q=i&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);q&&(q=Number(q[1])),q&&q>=15&&(i=!1,f=!0);var r=o&&(g||i&&(null==q||12.11>q)),s=a||d&&e>=9,t=!1,u=!1;function v(a,b){if(!(this instanceof v))return new v(a,b);this.options=b=b?cg(b):{},cg(vd,b,!1),I(b);var c=b.value;"string"==typeof c&&(c=new Xe(c,b.mode)),this.doc=c;var g=new v.inputStyles[b.inputStyle](this),h=this.display=new w(a,c,g);h.wrapper.CodeMirror=this,E(this),C(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),b.autofocus&&!n&&h.input.focus(),M(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Tf,keySeq:null,specialChars:null};var i=this;d&&11>e&&setTimeout(function(){i.display.input.reset(!0)},20),nc(this),wg(),Tb(this),this.curOp.forceUpdate=!0,_e(this,c),b.autofocus&&!n||i.hasFocus()?setTimeout(dg(Uc,this),20):Vc(this);for(var j in wd)wd.hasOwnProperty(j)&&wd[j](this,b[j],yd);R(this),b.finishInit&&b.finishInit(this);for(var k=0;k<Cd.length;++k)Cd[k](this);Vb(this),f&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(h.lineDiv).textRendering&&(h.lineDiv.style.textRendering="auto")}function w(b,c,g){var h=this;this.input=g,h.scrollbarFiller=kg("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=kg("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=kg("div",null,"CodeMirror-code"),h.selectionDiv=kg("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=kg("div",null,"CodeMirror-cursors"),h.measure=kg("div",null,"CodeMirror-measure"),h.lineMeasure=kg("div",null,"CodeMirror-measure"),h.lineSpace=kg("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none"),h.mover=kg("div",[kg("div",[h.lineSpace],"CodeMirror-lines")],null,"position: relative"),h.sizer=kg("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=kg("div",null,null,"position: absolute; height: "+Of+"px; width: 1px;"),h.gutters=kg("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=kg("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=kg("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),d&&8>e&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),f||a&&n||(h.scroller.draggable=!0),b&&(b.appendChild?b.appendChild(h.wrapper):b(h.wrapper)),h.viewFrom=h.viewTo=c.first,h.reportedViewFrom=h.reportedViewTo=c.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,g.init(h)}function x(a){a.doc.mode=v.getMode(a.options,a.doc.modeOption),y(a)}function y(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,gb(a,100),a.state.modeGen++,a.curOp&&gc(a)}function z(a){a.options.lineWrapping?(sg(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(rg(a.display.wrapper,"CodeMirror-wrap"),H(a)),B(a),gc(a),Db(a),setTimeout(function(){N(a)},100)}function A(a){var b=Pb(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/Qb(a.display)-3);return function(e){if(re(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function B(a){var b=a.doc,c=A(a);b.iter(function(a){var b=c(a);b!=a.height&&df(a,b)})}function C(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Db(a)}function D(a){E(a),gc(a),setTimeout(function(){Q(a)},20)}function E(a){var b=a.display.gutters,c=a.options.gutters;mg(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(kg("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none",F(a)}function F(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px"}function G(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=ke(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=le(d);){var e=b.find(0,!0);c-=d.text.length-e.from.ch,d=e.to.line,c+=d.text.length-e.to.ch}return c}function H(a){var b=a.display,c=a.doc;b.maxLine=af(c,c.first),b.maxLineLength=G(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=G(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function I(a){var b=$f(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function J(a){var b=a.display,c=b.gutters.offsetWidth,d=Math.round(a.doc.height+lb(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+nb(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function K(a,b,c){this.cm=c;var f=this.vert=kg("div",[kg("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=kg("div",[kg("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(f),a(g),Ef(f,"scroll",function(){f.clientHeight&&b(f.scrollTop,"vertical")}),Ef(g,"scroll",function(){g.clientWidth&&b(g.scrollLeft,"horizontal")}),this.checkedOverlay=!1,d&&8>e&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}K.prototype=cg({update:function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=b?d+"px":"0";var e=a.viewHeight-(b?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+e)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(b){this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var f=a.viewWidth-a.barLeft-(c?d:0);this.horiz.firstChild.style.width=a.scrollWidth-a.clientWidth+f+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&a.clientHeight>0&&(0==d&&this.overlayHack(),this.checkedOverlay=!0),{right:c?d:0,bottom:b?d:0}},setScrollLeft:function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a)},setScrollTop:function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a)},overlayHack:function(){var a=o&&!k?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=a;
var b=this,c=function(a){Cf(a)!=b.vert&&Cf(a)!=b.horiz&&bc(b.cm,rc)(a)};Ef(this.vert,"mousedown",c),Ef(this.horiz,"mousedown",c)},clear:function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)}},K.prototype);function L(){}L.prototype=cg({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},L.prototype),v.scrollbarModel={"native":K,"null":L};function M(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&rg(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new v.scrollbarModel[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,a.display.scrollbarFiller),Ef(b,"mousedown",function(){a.state.focused&&setTimeout(function(){a.display.input.focus()},0)}),b.setAttribute("cm-not-content","true")},function(b,c){"horizontal"==c?Dc(a,b):Cc(a,b)},a),a.display.scrollbars.addClass&&sg(a.display.wrapper,a.display.scrollbars.addClass)}function N(a,b){b||(b=J(a));var c=a.display.barWidth,d=a.display.barHeight;O(a,b);for(var e=0;4>e&&c!=a.display.barWidth||d!=a.display.barHeight;e++)c!=a.display.barWidth&&a.options.lineWrapping&&$(a),O(a,J(a)),c=a.display.barWidth,d=a.display.barHeight}function O(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px",d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function P(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-kb(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=ff(b,d),g=ff(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;f>h?(f=h,g=ff(b,gf(af(b,h))+a.wrapper.clientHeight)):Math.min(i,b.lastLine())>=g&&(f=ff(b,gf(af(b,i))-a.wrapper.clientHeight),g=i)}return{from:f,to:Math.max(g,f+1)}}function Q(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=T(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function R(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=S(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(kg("div",[kg("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g)+1,d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",F(a),!0}return!1}function S(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function T(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function U(a,b,c){var d=a.display;this.viewport=b,this.visible=P(d,a.doc,b),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=ob(a),this.force=c,this.dims=aa(a),this.events=[]}U.prototype.signal=function(a,b){Mf(a,b)&&this.events.push(arguments)},U.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Gf.apply(null,this.events[a])};function V(a){var b=a.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=nb(a)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=nb(a)+"px",b.scrollbarsClipped=!0)}function W(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return ic(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==mc(a))return!1;R(a)&&(ic(a),b.dims=aa(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&f-c.viewFrom<20&&(f=Math.max(d.first,c.viewFrom)),c.viewTo>g&&c.viewTo-g<20&&(g=Math.min(e,c.viewTo)),u&&(f=pe(a.doc,f),g=qe(a.doc,g));var h=f!=c.viewFrom||g!=c.viewTo||c.lastWrapHeight!=b.wrapperHeight||c.lastWrapWidth!=b.wrapperWidth;lc(a,f,g),c.viewOffset=gf(af(a.doc,c.viewFrom)),a.display.mover.style.top=c.viewOffset+"px";var i=mc(a);if(!h&&0==i&&!b.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;var j=pg();return i>4&&(c.lineDiv.style.display="none"),ba(a,c.updateLineNumbers,b.dims),i>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,j&&pg()!=j&&j.offsetHeight&&j.focus(),mg(c.cursorDiv),mg(c.selectionDiv),c.gutters.style.height=0,h&&(c.lastWrapHeight=b.wrapperHeight,c.lastWrapWidth=b.wrapperWidth,gb(a,400)),c.updateLineNumbers=null,!0}function X(a,b){for(var c=b.force,d=b.viewport,e=!0;;e=!1){if(e&&a.options.lineWrapping&&b.oldDisplayWidth!=ob(a))c=!0;else if(c=!1,d&&null!=d.top&&(d={top:Math.min(a.doc.height+lb(a.display)-pb(a),d.top)}),b.visible=P(a.display,a.doc,d),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!W(a,b))break;$(a);var f=J(a);bb(a),Z(a,f),N(a,f)}b.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Y(a,b){var c=new U(a,b);if(W(a,c)){$(a),X(a,c);var d=J(a);bb(a),Z(a,d),N(a,d),c.finish()}}function Z(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";var c=b.docHeight+a.display.barHeight;a.display.heightForcer.style.top=c+"px",a.display.gutters.style.height=Math.max(c+nb(a),b.clientHeight)+"px"}function $(a){for(var b=a.display,c=b.lineDiv.offsetTop,f=0;f<b.view.length;f++){var g,h=b.view[f];if(!h.hidden){if(d&&8>e){var i=h.node.offsetTop+h.node.offsetHeight;g=i-c,c=i}else{var j=h.node.getBoundingClientRect();g=j.bottom-j.top}var k=h.line.height-g;if(2>g&&(g=Pb(b)),(k>.001||-.001>k)&&(df(h.line,g),_(h.line),h.rest))for(var l=0;l<h.rest.length;l++)_(h.rest[l])}}}function _(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function aa(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:T(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function ba(a,b,c){var d=a.display,e=a.options.lineNumbers,g=d.lineDiv,h=g.firstChild;function i(b){var c=b.nextSibling;return f&&o&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var j=d.view,k=d.viewFrom,l=0;l<j.length;l++){var m=j[l];if(m.hidden);else if(m.node&&m.node.parentNode==g){for(;h!=m.node;)h=i(h);var n=e&&null!=b&&k>=b&&m.lineNumber;m.changes&&($f(m.changes,"gutter")>-1&&(n=!1),ca(a,m,k,c)),n&&(mg(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(S(a.options,k)))),h=m.node.nextSibling}else{var p=ka(a,m,k,c);g.insertBefore(p,h)}k+=m.size}for(;h;)h=i(h)}function ca(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?ga(a,b):"gutter"==f?ia(a,b,c,d):"class"==f?ha(b):"widget"==f&&ja(a,b,d)}b.changes=null}function da(a){return a.node==a.text&&(a.node=kg("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),d&&8>e&&(a.node.style.zIndex=2)),a.node}function ea(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=da(a);a.background=c.insertBefore(kg("div",null,b),c.firstChild)}}function fa(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):Le(a,b)}function ga(a,b){var c=b.text.className,d=fa(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,ha(b)):c&&(b.text.className=c)}function ha(a){ea(a),a.line.wrapClass?da(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var b=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=b||""}function ia(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=da(b),g=b.gutter=kg("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px");if(a.display.input.setUneditable(g),f.insertBefore(g,b.text),b.line.gutterClass&&(g.className+=" "+b.line.gutterClass),!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(kg("div",S(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),e)for(var h=0;h<a.options.gutters.length;++h){var i=a.options.gutters[h],j=e.hasOwnProperty(i)&&e[i];j&&g.appendChild(kg("div",[j],"CodeMirror-gutter-elt","left: "+d.gutterLeft[i]+"px; width: "+d.gutterWidth[i]+"px"))}}}function ja(a,b,c){b.alignable&&(b.alignable=null);for(var d,e=b.node.firstChild;e;e=d){var d=e.nextSibling;"CodeMirror-linewidget"==e.className&&b.node.removeChild(e)}la(a,b,c)}function ka(a,b,c,d){var e=fa(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),ha(b),ia(a,b,c,d),la(a,b,d),b.node}function la(a,b,c){if(ma(a,b.line,b,c,!0),b.rest)for(var d=0;d<b.rest.length;d++)ma(a,b.rest[d],b,c,!1)}function ma(a,b,c,d,e){if(b.widgets)for(var f=da(c),g=0,h=b.widgets;g<h.length;++g){var i=h[g],j=kg("div",[i.node],"CodeMirror-linewidget");i.handleMouseEvents||j.setAttribute("cm-ignore-events","true"),na(i,j,c,d),a.display.input.setUneditable(j),e&&i.above?f.insertBefore(j,c.gutter||c.text):f.appendChild(j),If(i,"redraw")}}function na(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}var oa=v.Pos=function(a,b){return this instanceof oa?(this.line=a,void(this.ch=b)):new oa(a,b)},pa=v.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};function qa(a){return oa(a.line,a.ch)}function ra(a,b){return pa(a,b)<0?b:a}function sa(a,b){return pa(a,b)<0?a:b}function ta(a){a.state.focused||(a.display.input.focus(),Uc(a))}function ua(a){return a.options.readOnly||a.doc.cantEdit}var va=null;function wa(a,b,c,d){var e=a.doc;a.display.shift=!1,d||(d=e.sel);var f=Dg(b),g=null;a.state.pasteIncoming&&d.ranges.length>1&&(va&&va.join("\n")==b?g=d.ranges.length%va.length==0&&_f(va,Dg):f.length==d.ranges.length&&(g=_f(f,function(a){return[a]})));for(var h=d.ranges.length-1;h>=0;h--){var i=d.ranges[h],j=i.from(),k=i.to();i.empty()&&(c&&c>0?j=oa(j.line,j.ch-c):a.state.overwrite&&!a.state.pasteIncoming&&(k=oa(k.line,Math.min(af(e,k.line).text.length,k.ch+Yf(f).length))));var l=a.curOp.updateInput,m={from:j,to:k,text:g?g[h%g.length]:f,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};if(cd(a.doc,m),If(a,"inputRead",a,m),b&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&i.head.ch<100&&(!h||d.ranges[h-1].head.line!=i.head.line)){var n=a.getModeAt(i.head),o=Yc(m);if(n.electricChars){for(var p=0;p<n.electricChars.length;p++)if(b.indexOf(n.electricChars.charAt(p))>-1){qd(a,o.line,"smart");break}}else n.electricInput&&n.electricInput.test(af(e,o.line).text.slice(0,o.ch))&&qd(a,o.line,"smart")}}od(a),a.curOp.updateInput=l,a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=!1}function xa(a){for(var b=[],c=[],d=0;d<a.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line,f={anchor:oa(e,0),head:oa(e+1,0)};c.push(f),b.push(a.getRange(f.anchor,f.head))}return{text:b,ranges:c}}function ya(a){a.setAttribute("autocorrect","off"),a.setAttribute("autocapitalize","off"),a.setAttribute("spellcheck","false")}function za(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Tf,this.inaccurateSelection=!1,this.hasSelection=!1}function Aa(){var a=kg("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),b=kg("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?a.style.width="1000px":a.setAttribute("wrap","off"),m&&(a.style.border="1px solid black"),ya(a),b}za.prototype=cg({init:function(a){var b=this,c=this.cm,g=this.wrapper=Aa(),h=this.textarea=g.firstChild;a.wrapper.insertBefore(g,a.wrapper.firstChild),m&&(h.style.width="0px"),Ef(h,"input",function(){d&&e>=9&&b.hasSelection&&(b.hasSelection=null),b.poll()}),Ef(h,"paste",function(){if(f&&!c.state.fakedLastChar&&!(new Date-c.state.lastMiddleDown<200)){var a=h.selectionStart,d=h.selectionEnd;h.value+="$",h.selectionEnd=d,h.selectionStart=a,c.state.fakedLastChar=!0}c.state.pasteIncoming=!0,b.fastPoll()});function i(a){if(c.somethingSelected())va=c.getSelections(),b.inaccurateSelection&&(b.prevInput="",b.inaccurateSelection=!1,h.value=va.join("\n"),Zf(h));else{var d=xa(c);va=d.text,"cut"==a.type?c.setSelections(d.ranges,null,Qf):(b.prevInput="",h.value=d.text.join("\n"),Zf(h))}"cut"==a.type&&(c.state.cutIncoming=!0)}Ef(h,"cut",i),Ef(h,"copy",i),Ef(a.scroller,"paste",function(d){pc(a,d)||(c.state.pasteIncoming=!0,b.focus())}),Ef(a.lineSpace,"selectstart",function(b){pc(a,b)||yf(b)})},prepareSelection:function(){var a=this.cm,b=a.display,c=a.doc,d=cb(a);if(a.options.moveInputWithCursor){var e=Jb(a,c.sel.primary().head,"div"),f=b.wrapper.getBoundingClientRect(),g=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,e.top+g.top-f.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,e.left+g.left-f.left))}return d},showSelection:function(a){var b=this.cm,c=b.display;ng(c.cursorDiv,a.cursors),ng(c.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},reset:function(a){if(!this.contextMenuPending){var b,c,f=this.cm,g=f.doc;if(f.somethingSelected()){this.prevInput="";var h=g.sel.primary();b=Fg&&(h.to().line-h.from().line>100||(c=f.getSelection()).length>1e3);var i=b?"-":c||f.getSelection();this.textarea.value=i,f.state.focused&&Zf(this.textarea),d&&e>=9&&(this.hasSelection=i)}else a||(this.prevInput=this.textarea.value="",d&&e>=9&&(this.hasSelection=null));this.inaccurateSelection=b}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!n||pg()!=this.textarea))try{this.textarea.focus()}catch(a){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var a=this;a.pollingFast||a.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},fastPoll:function(){var a=!1,b=this;b.pollingFast=!0;function c(){var d=b.poll();d||a?(b.pollingFast=!1,b.slowPoll()):(a=!0,b.polling.set(60,c))}b.polling.set(20,c)},poll:function(){var a=this.cm,b=this.textarea,c=this.prevInput;if(!a.state.focused||Eg(b)&&!c||ua(a)||a.options.disableInput||a.state.keySeq)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var f=b.value;if(f==c&&!a.somethingSelected())return!1;if(d&&e>=9&&this.hasSelection===f||o&&/[\uf700-\uf7ff]/.test(f))return a.display.input.reset(),!1;a.doc.sel==a.display.selForContextMenu&&(8203==f.charCodeAt(0)?c||(c=""):""==c&&(f=f.slice(1),c=""));for(var g=0,h=Math.min(c.length,f.length);h>g&&c.charCodeAt(g)==f.charCodeAt(g);)++g;var i=this;return ac(a,function(){wa(a,f.slice(g),c.length-g),f.length>1e3||f.indexOf("\n")>-1?b.value=i.prevInput="":i.prevInput=f}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){d&&e>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(a){var b=this,c=b.cm,g=c.display,h=b.textarea,j=qc(c,a),k=g.scroller.scrollTop;if(j&&!i){var l=c.options.resetSelectionOnContextMenu;l&&-1==c.doc.sel.contains(j)&&bc(c,Xa)(c.doc,Ka(j),Qf);var m=h.style.cssText;if(b.wrapper.style.position="absolute",h.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: "+(d?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",f)var n=window.scrollY;g.input.focus(),f&&window.scrollTo(null,n),g.input.reset(),c.somethingSelected()||(h.value=b.prevInput=" "),b.contextMenuPending=!0,g.selForContextMenu=c.doc.sel,clearTimeout(g.detectingSelectAll);function o(){if(null!=h.selectionStart){var a=c.somethingSelected(),d=h.value=""+(a?h.value:"");b.prevInput=a?"":"",h.selectionStart=1,h.selectionEnd=d.length,g.selForContextMenu=c.doc.sel}}function p(){if(b.contextMenuPending=!1,b.wrapper.style.position="relative",h.style.cssText=m,d&&9>e&&g.scrollbars.setScrollTop(g.scroller.scrollTop=k),null!=h.selectionStart){(!d||d&&9>e)&&o();var a=0,f=function(){g.selForContextMenu==c.doc.sel&&0==h.selectionStart&&""==b.prevInput?bc(c,Gd.selectAll)(c):a++<10?g.detectingSelectAll=setTimeout(f,500):g.input.reset()};g.detectingSelectAll=setTimeout(f,200)}}if(d&&e>=9&&o(),s){Bf(a);var q=function(){Ff(window,"mouseup",q),setTimeout(p,20)};Ef(window,"mouseup",q)}else setTimeout(p,50)}},setUneditable:ag,needsContentAttribute:!1},za.prototype);function Ba(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Tf,this.gracePeriod=!1}Ba.prototype=cg({init:function(a){var b=this,c=b.cm,d=b.div=a.lineDiv;d.contentEditable="true",ya(d),Ef(d,"paste",function(a){var b=a.clipboardData&&a.clipboardData.getData("text/plain");b&&(a.preventDefault(),c.replaceSelection(b,null,"paste"))}),Ef(d,"compositionstart",function(a){var d=a.data;if(b.composing={sel:c.doc.sel,data:d,startData:d},d){var e=c.doc.sel.primary(),f=c.getLine(e.head.line),g=f.indexOf(d,Math.max(0,e.head.ch-d.length));g>-1&&g<=e.head.ch&&(b.composing.sel=Ka(oa(e.head.line,g),oa(e.head.line,g+d.length)))}}),Ef(d,"compositionupdate",function(a){b.composing.data=a.data}),Ef(d,"compositionend",function(a){var c=b.composing;c&&(a.data==c.startData||/\u200b/.test(a.data)||(c.data=a.data),setTimeout(function(){c.handled||b.applyComposition(c),b.composing==c&&(b.composing=null)},50))}),Ef(d,"touchstart",function(){b.forceCompositionEnd()}),Ef(d,"input",function(){b.composing||b.pollContent()||ac(b.cm,function(){gc(c)})});function e(a){if(c.somethingSelected())va=c.getSelections(),"cut"==a.type&&c.replaceSelection("",null,"cut");else{var b=xa(c);va=b.text,"cut"==a.type&&c.operation(function(){c.setSelections(b.ranges,0,Qf),c.replaceSelection("",null,"cut")})}if(a.clipboardData&&!m)a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/plain",va.join("\n"));else{var d=Aa(),e=d.firstChild;c.display.lineSpace.insertBefore(d,c.display.lineSpace.firstChild),e.value=va.join("\n");var f=document.activeElement;Zf(e),setTimeout(function(){c.display.lineSpace.removeChild(d),f.focus()},50)}}Ef(d,"copy",e),Ef(d,"cut",e)},prepareSelection:function(){var a=cb(this.cm,!1);return a.focus=this.cm.state.focused,a},showSelection:function(a){a&&this.cm.display.view.length&&(a.focus&&this.showPrimarySelection(),this.showMultipleSelections(a))},showPrimarySelection:function(){var b=window.getSelection(),c=this.cm.doc.sel.primary(),d=Ea(this.cm,b.anchorNode,b.anchorOffset),e=Ea(this.cm,b.focusNode,b.focusOffset);if(!d||d.bad||!e||e.bad||0!=pa(sa(d,e),c.from())||0!=pa(ra(d,e),c.to())){var f=Ca(this.cm,c.from()),g=Ca(this.cm,c.to());if(f||g){var h=this.cm.display.view,i=b.rangeCount&&b.getRangeAt(0);if(f){if(!g){var j=h[h.length-1].measure,k=j.maps?j.maps[j.maps.length-1]:j.map;g={node:k[k.length-1],offset:k[k.length-2]-k[k.length-3]}}}else f={node:h[0].measure.map[2],offset:0};try{var l=lg(f.node,f.offset,g.offset,g.node)}catch(m){}l&&(b.removeAllRanges(),b.addRange(l),i&&null==b.anchorNode?b.addRange(i):a&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){a.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(a){ng(this.cm.display.cursorDiv,a.cursors),ng(this.cm.display.selectionDiv,a.selection)},rememberSelection:function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},selectionInEditor:function(){var a=window.getSelection();if(!a.rangeCount)return!1;var b=a.getRangeAt(0).commonAncestorContainer;return og(this.div,b)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var a=this;this.selectionInEditor()?this.pollSelection():ac(this.cm,function(){a.cm.curOp.selectionChanged=!0});function b(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,b))}this.polling.set(this.cm.options.pollInterval,b)},selectionChanged:function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;this.rememberSelection();var c=Ea(b,a.anchorNode,a.anchorOffset),d=Ea(b,a.focusNode,a.focusOffset);c&&d&&ac(b,function(){Xa(b.doc,Ka(c,d),Qf),(c.bad||d.bad)&&(b.curOp.selectionChanged=!0)})}},pollContent:function(){var a=this.cm,b=a.display,c=a.doc.sel.primary(),d=c.from(),e=c.to();if(d.line<b.viewFrom||e.line>b.viewTo-1)return!1;var f;if(d.line==b.viewFrom||0==(f=jc(a,d.line)))var g=ef(b.view[0].line),h=b.view[0].node;else var g=ef(b.view[f].line),h=b.view[f-1].node.nextSibling;var i=jc(a,e.line);if(i==b.view.length-1)var j=b.viewTo-1,k=b.view[i].node;else var j=ef(b.view[i+1].line)-1,k=b.view[i+1].node.previousSibling;for(var l=Dg(Ga(a,h,k,g,j)),m=bf(a.doc,oa(g,0),oa(j,af(a.doc,j).text.length));l.length>1&&m.length>1;)if(Yf(l)==Yf(m))l.pop(),m.pop(),j--;else{if(l[0]!=m[0])break;l.shift(),m.shift(),g++}for(var n=0,o=0,p=l[0],q=m[0],r=Math.min(p.length,q.length);r>n&&p.charCodeAt(n)==q.charCodeAt(n);)++n;for(var s=Yf(l),t=Yf(m),u=Math.min(s.length-(1==l.length?n:0),t.length-(1==m.length?n:0));u>o&&s.charCodeAt(s.length-o-1)==t.charCodeAt(t.length-o-1);)++o;l[l.length-1]=s.slice(0,s.length-o),l[0]=l[0].slice(n);var v=oa(g,n),w=oa(j,m.length?Yf(m).length-o:0);return l.length>1||l[0]||pa(v,w)?(id(a.doc,l,v,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(a){a.data&&a.data!=a.startData&&bc(this.cm,wa)(this.cm,a.data,0,a.sel)},setUneditable:function(a){a.setAttribute("contenteditable","false")},onKeyPress:function(a){a.preventDefault(),bc(this.cm,wa)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0)},onContextMenu:ag,resetPosition:ag,needsContentAttribute:!0},Ba.prototype);function Ca(a,b){var c=ub(a,b.line);if(!c||c.hidden)return null;var d=af(a.doc,b.line),e=rb(c,d,b.line),f=hf(d),g="left";if(f){var h=Tg(f,b.ch);g=h%2?"right":"left"}var i=yb(e.map,b.ch,"left");return i.offset="right"==i.collapse?i.end:i.start,i}function Da(a,b){return b&&(a.bad=!0),a}function Ea(a,b,c){var d;if(b==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[c],!d)return Da(a.clipPos(oa(a.display.viewTo-1)),!0);b=null,c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e<a.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return Fa(f,b,c)}}function Fa(a,b,c){var d=a.text.firstChild,e=!1;if(!b||!og(d,b))return Da(oa(ef(a.line),0),!0);if(b==d&&(e=!0,b=d.childNodes[c],c=0,!b)){var f=a.rest?Yf(a.rest):a.line;return Da(oa(ef(f),f.text.length),e)}var g=3==b.nodeType?b:null,h=b;for(g||1!=b.childNodes.length||3!=b.firstChild.nodeType||(g=b.firstChild,c&&(c=g.nodeValue.length));h.parentNode!=d;)h=h.parentNode;var i=a.measure,j=i.maps;function k(b,c,d){for(var e=-1;e<(j?j.length:0);e++)for(var f=0>e?i.map:j[e],g=0;g<f.length;g+=3){var h=f[g+2];if(h==b||h==c){var k=ef(0>e?a.line:a.rest[e]),l=f[g]+d;return(0>d||h!=b)&&(l=f[g+(d?1:0)]),oa(k,l)}}}var l=k(g,h,c);if(l)return Da(l,e);for(var m=h.nextSibling,n=g?g.nodeValue.length-c:0;m;m=m.nextSibling){if(l=k(m,m.firstChild,0))return Da(oa(l.line,l.ch-n),e);n+=m.textContent.length}for(var o=h.previousSibling,n=c;o;o=o.previousSibling){if(l=k(o,o.firstChild,-1))return Da(oa(l.line,l.ch+n),e);n+=m.textContent.length}}function Ga(a,b,c,d,e){var f="",g=!1;function h(a){return function(b){return b.id==a}}function i(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)return""==c&&(c=b.textContent.replace(/\u200b/g,"")),void(f+=c);var j,k=b.getAttribute("cm-marker");if(k){var l=a.findMarks(oa(d,0),oa(e+1,0),h(+k));return void(l.length&&(j=l[0].find())&&(f+=bf(a.doc,j.from,j.to).join("\n")))}if("false"==b.getAttribute("contenteditable"))return;for(var m=0;m<b.childNodes.length;m++)i(b.childNodes[m]);/^(pre|div|p)$/i.test(b.nodeName)&&(g=!0)}else if(3==b.nodeType){var n=b.nodeValue;if(!n)return;g&&(f+="\n",g=!1),f+=n}}for(;i(b),b!=c;)b=b.nextSibling;return f}v.inputStyles={textarea:za,contenteditable:Ba};function Ha(a,b){this.ranges=a,this.primIndex=b}Ha.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=pa(c.anchor,d.anchor)||0!=pa(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new Ia(qa(this.ranges[b].anchor),qa(this.ranges[b].head));return new Ha(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(pa(b,d.from())>=0&&pa(a,d.to())<=0)return c}return-1}};function Ia(a,b){this.anchor=a,this.head=b}Ia.prototype={from:function(){return sa(this.anchor,this.head)},to:function(){return ra(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function Ja(a,b){var c=a[b];a.sort(function(a,b){return pa(a.from(),b.from())}),b=$f(a,c);for(var d=1;d<a.length;d++){var e=a[d],f=a[d-1];if(pa(f.to(),e.from())>=0){var g=sa(f.from(),e.from()),h=ra(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;b>=d&&--b,a.splice(--d,2,new Ia(i?h:g,i?g:h))}}return new Ha(a,b)}function Ka(a,b){return new Ha([new Ia(a,b||a)],0)}function La(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function Ma(a,b){if(b.line<a.first)return oa(a.first,0);var c=a.first+a.size-1;return b.line>c?oa(c,af(a,c).text.length):Na(b,af(a,b.line).text.length)}function Na(a,b){var c=a.ch;return null==c||c>b?oa(a.line,b):0>c?oa(a.line,0):a}function Oa(a,b){return b>=a.first&&b<a.first+a.size}function Pa(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=Ma(a,b[d]);return c}function Qa(a,b,c,d){if(a.cm&&a.cm.display.shift||a.extend){var e=b.anchor;if(d){var f=pa(c,e)<0;f!=pa(d,e)<0?(e=c,c=d):f!=pa(c,d)<0&&(c=d)}return new Ia(e,c)}return new Ia(d||c,c)}function Ra(a,b,c,d){Xa(a,new Ha([Qa(a,a.sel.primary(),b,c)],0),d)}function Sa(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=Qa(a,a.sel.ranges[e],b[e],null);var f=Ja(d,a.sel.primIndex);Xa(a,f,c)}function Ta(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,Xa(a,Ja(e,a.sel.primIndex),d)}function Ua(a,b,c,d){Xa(a,Ka(b,c),d)}function Va(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new Ia(Ma(a,b[c].anchor),Ma(a,b[c].head))}};return Gf(a,"beforeSelectionChange",a,c),a.cm&&Gf(a.cm,"beforeSelectionChange",a.cm,c),c.ranges!=b.ranges?Ja(c.ranges,c.ranges.length-1):b}function Wa(a,b,c){var d=a.history.done,e=Yf(d);e&&e.ranges?(d[d.length-1]=b,Ya(a,b,c)):Xa(a,b,c)}function Xa(a,b,c){Ya(a,b,c),pf(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function Ya(a,b,c){(Mf(a,"beforeSelectionChange")||a.cm&&Mf(a.cm,"beforeSelectionChange"))&&(b=Va(a,b));var d=c&&c.bias||(pa(b.primary().head,a.sel.primary().head)<0?-1:1);Za(a,_a(a,b,d,!0)),c&&c.scroll===!1||!a.cm||od(a.cm)}function Za(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,Lf(a.cm)),If(a,"cursorActivity",a))}function $a(a){Za(a,_a(a,a.sel,null,!1),Qf)}function _a(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=ab(a,g.anchor,c,d),i=ab(a,g.head,c,d);(e||h!=g.anchor||i!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new Ia(h,i))}return e?Ja(e,b.primIndex):b}function ab(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=af(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&(Gf(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find(0>g?-1:1);if(0==pa(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?Ma(a,oa(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?oa(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,oa(a.first,0)):ab(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function bb(a){a.display.input.showSelection(a.display.input.prepareSelection())}function cb(a,b){for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++)if(b!==!1||g!=c.sel.primIndex){var h=c.sel.ranges[g],i=h.empty();(i||a.options.showCursorWhenSelecting)&&db(a,h,e),i||eb(a,h,f)}return d}function db(a,b,c){var d=Jb(a,b.head,"div",null,null,!a.options.singleCursorHeightPerLine),e=c.appendChild(kg("div","","CodeMirror-cursor"));if(e.style.left=d.left+"px",e.style.top=d.top+"px",e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",d.other){var f=c.appendChild(kg("div","","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=d.other.left+"px",f.style.top=d.other.top+"px",f.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function eb(a,b,c){var d=a.display,e=a.doc,f=document.createDocumentFragment(),g=mb(a.display),h=g.left,i=Math.max(d.sizerWidth,ob(a)-d.sizer.offsetLeft)-g.right;function j(a,b,c,d){0>b&&(b=0),
b=Math.round(b),d=Math.round(d),f.appendChild(kg("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?i-a:c)+"px; height: "+(d-b)+"px"))}function k(b,c,d){var f,g,k=af(e,b),l=k.text.length;function m(c,d){return Ib(a,oa(b,c),"div",k,d)}return Jg(hf(k),c||0,null==d?l:d,function(a,b,e){var k,n,o,p=m(a,"left");if(a==b)k=p,n=o=p.left;else{if(k=m(b-1,"right"),"rtl"==e){var q=p;p=k,k=q}n=p.left,o=k.right}null==c&&0==a&&(n=h),k.top-p.top>3&&(j(n,p.top,null,p.bottom),n=h,p.bottom<k.top&&j(n,p.bottom,null,k.top)),null==d&&b==l&&(o=i),(!f||p.top<f.top||p.top==f.top&&p.left<f.left)&&(f=p),(!g||k.bottom>g.bottom||k.bottom==g.bottom&&k.right>g.right)&&(g=k),h+1>n&&(n=h),j(n,k.top,o-n,k.bottom)}),{start:f,end:g}}var l=b.from(),m=b.to();if(l.line==m.line)k(l.line,l.ch,m.ch);else{var n=af(e,l.line),o=af(e,m.line),p=ne(n)==ne(o),q=k(l.line,l.ch,p?n.text.length+1:null).end,r=k(m.line,p?0:null,m.ch).start;p&&(q.top<r.top-2?(j(q.right,q.top,null,q.bottom),j(h,r.top,r.left,r.bottom)):j(q.right,q.top,r.left-q.right,q.bottom)),q.bottom<r.top&&j(h,q.bottom,null,r.top)}c.appendChild(f)}function fb(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function gb(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,dg(hb,a))}function hb(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=Ed(b.mode,jb(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,h=Fe(a,f,d,!0);f.styles=h.styles;var i=f.styleClasses,j=h.classes;j?f.styleClasses=j:i&&(f.styleClasses=null);for(var k=!g||g.length!=f.styles.length||i!=j&&(!i||!j||i.bgClass!=j.bgClass||i.textClass!=j.textClass),l=0;!k&&l<g.length;++l)k=g[l]!=f.styles[l];k&&e.push(b.frontier),f.stateAfter=Ed(b.mode,d)}else He(a,f.text,d),f.stateAfter=b.frontier%5==0?Ed(b.mode,d):null;return++b.frontier,+new Date>c?(gb(a,a.options.workDelay),!0):void 0}),e.length&&ac(a,function(){for(var b=0;b<e.length;b++)hc(a,e[b],"text")})}}function ib(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=af(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=Uf(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function jb(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=ib(a,b,c),g=f>d.first&&af(d,f-1).stateAfter;return g=g?Ed(d.mode,g):Fd(d.mode),d.iter(f,b,function(c){He(a,c.text,g);var h=f==b-1||f%5==0||f>=e.viewFrom&&f<e.viewTo;c.stateAfter=h?Ed(d.mode,g):null,++f}),c&&(d.frontier=f),g}function kb(a){return a.lineSpace.offsetTop}function lb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function mb(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=ng(a.measure,kg("pre","x")),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d),d}function nb(a){return Of-a.display.nativeBarWidth}function ob(a){return a.display.scroller.clientWidth-nb(a)-a.display.barWidth}function pb(a){return a.display.scroller.clientHeight-nb(a)-a.display.barHeight}function qb(a,b,c){var d=a.options.lineWrapping,e=d&&ob(a);if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function rb(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var d=0;d<a.rest.length;d++)if(ef(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function sb(a,b){b=ne(b);var c=ef(b),d=a.display.externalMeasured=new ec(a.doc,b,c);d.lineN=c;var e=d.built=Le(a,d);return d.text=e.pre,ng(a.display.lineMeasure,e.pre),d}function tb(a,b,c,d){return wb(a,vb(a,b),c,d)}function ub(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[jc(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function vb(a,b){var c=ef(b),d=ub(a,c);d&&!d.text?d=null:d&&d.changes&&ca(a,d,c,aa(a)),d||(d=sb(a,b));var e=rb(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function wb(a,b,c,d,e){b.before&&(c=-1);var f,g=c+(d||"");return b.cache.hasOwnProperty(g)?f=b.cache[g]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(qb(a,b.view,b.rect),b.hasHeights=!0),f=zb(a,b,c,d),f.bogus||(b.cache[g]=f)),{left:f.left,right:f.right,top:e?f.rtop:f.top,bottom:e?f.rbottom:f.bottom}}var xb={left:0,right:0,top:0,bottom:0};function yb(a,b,c){for(var d,e,f,g,h=0;h<a.length;h+=3){var i=a[h],j=a[h+1];if(i>b?(e=0,f=1,g="left"):j>b?(e=b-i,f=e+1):(h==a.length-3||b==j&&a[h+3]>b)&&(f=j-i,e=f-1,b>=j&&(g="right")),null!=e){if(d=a[h+2],i==j&&c==(d.insertLeft?"left":"right")&&(g=c),"left"==c&&0==e)for(;h&&a[h-2]==a[h-3]&&a[h-1].insertLeft;)d=a[(h-=3)+2],g="left";if("right"==c&&e==j-i)for(;h<a.length-3&&a[h+3]==a[h+4]&&!a[h+5].insertLeft;)d=a[(h+=3)+2],g="right";break}}return{node:d,start:e,end:f,collapse:g,coverStart:i,coverEnd:j}}function zb(a,b,c,f){var g,h=yb(b.map,c,f),i=h.node,j=h.start,k=h.end,l=h.collapse;if(3==i.nodeType){for(var m=0;4>m;m++){for(;j&&jg(b.line.text.charAt(h.coverStart+j));)--j;for(;h.coverStart+k<h.coverEnd&&jg(b.line.text.charAt(h.coverStart+k));)++k;if(d&&9>e&&0==j&&k==h.coverEnd-h.coverStart)g=i.parentNode.getBoundingClientRect();else if(d&&a.options.lineWrapping){var n=lg(i,j,k).getClientRects();g=n.length?n["right"==f?n.length-1:0]:xb}else g=lg(i,j,k).getBoundingClientRect()||xb;if(g.left||g.right||0==j)break;k=j,j-=1,l="right"}d&&11>e&&(g=Ab(a.display.measure,g))}else{j>0&&(l=f="right");var n;g=a.options.lineWrapping&&(n=i.getClientRects()).length>1?n["right"==f?n.length-1:0]:i.getBoundingClientRect()}if(d&&9>e&&!j&&(!g||!g.left&&!g.right)){var o=i.parentNode.getClientRects()[0];g=o?{left:o.left,right:o.left+Qb(a.display),top:o.top,bottom:o.bottom}:xb}for(var p=g.top-b.rect.top,q=g.bottom-b.rect.top,r=(p+q)/2,s=b.view.measure.heights,m=0;m<s.length-1&&!(r<s[m]);m++);var t=m?s[m-1]:0,u=s[m],v={left:("right"==l?g.right:g.left)-b.rect.left,right:("left"==l?g.left:g.right)-b.rect.left,top:t,bottom:u};return g.left||g.right||(v.bogus=!0),a.options.singleCursorHeightPerLine||(v.rtop=p,v.rbottom=q),v}function Ab(a,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Hg(a))return b;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*c,right:b.right*c,top:b.top*d,bottom:b.bottom*d}}function Bb(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function Cb(a){a.display.externalMeasure=null,mg(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Bb(a.display.view[b])}function Db(a){Cb(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Eb(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Fb(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gb(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=ve(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=gf(b);if("local"==d?g+=kb(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:Fb());var i=h.left+("window"==d?0:Eb());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function Hb(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=Eb(),e-=Fb();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function Ib(a,b,c,d,e){return d||(d=af(a.doc,b.line)),Gb(a,d,tb(a,d,b.ch,e),c)}function Jb(a,b,c,d,e,f){d=d||af(a.doc,b.line),e||(e=vb(a,d));function g(b,g){var h=wb(a,e,b,g?"right":"left",f);return g?h.left=h.right:h.right=h.left,Gb(a,d,h,c)}function h(a,b){var c=i[b],d=c.level%2;return a==Kg(c)&&b&&c.level<i[b-1].level?(c=i[--b],a=Lg(c)-(c.level%2?0:1),d=!0):a==Lg(c)&&b<i.length-1&&c.level<i[b+1].level&&(c=i[++b],a=Kg(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?g(a-1):g(a,d)}var i=hf(d),j=b.ch;if(!i)return g(j);var k=Tg(i,j),l=h(j,k);return null!=Sg&&(l.other=h(j,Sg)),l}function Kb(a,b){var c=0,b=Ma(a.doc,b);a.options.lineWrapping||(c=Qb(a.display)*b.ch);var d=af(a.doc,b.line),e=gf(d)+kb(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function Lb(a,b,c,d){var e=oa(a,b);return e.xRel=d,c&&(e.outside=!0),e}function Mb(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return Lb(d.first,0,!0,-1);var e=ff(d,c),f=d.first+d.size-1;if(e>f)return Lb(d.first+d.size-1,af(d,f).text.length,!0,1);0>b&&(b=0);for(var g=af(d,e);;){var h=Nb(a,g,e,b,c),i=le(g),j=i&&i.find(0,!0);if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=ef(g=j.to.line)}}function Nb(a,b,c,d,e){var f=e-gf(b),g=!1,h=2*a.display.wrapper.clientWidth,i=vb(a,b);function j(d){var e=Jb(a,oa(c,d),"line",b,i);return g=!0,f>e.bottom?e.left-h:f<e.top?e.left+h:(g=!1,e.left)}var k=hf(b),l=b.text.length,m=Mg(b),n=Ng(b),o=j(m),p=g,q=j(n),r=g;if(d>q)return Lb(c,n,r,1);for(;;){if(k?n==m||n==Vg(b,m,1):1>=n-m){for(var s=o>d||q-d>=d-o?m:n,t=d-(s==m?o:q);jg(b.text.charAt(s));)++s;var u=Lb(c,s,s==m?p:r,-1>t?-1:t>1?1:0);return u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;v>x;++x)w=Vg(b,w,1)}var y=j(w);y>d?(n=w,q=y,(r=g)&&(q+=1e3),l=v):(m=w,o=y,p=g,l-=v)}}var Ob;function Pb(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Ob){Ob=kg("pre");for(var b=0;49>b;++b)Ob.appendChild(document.createTextNode("x")),Ob.appendChild(kg("br"));Ob.appendChild(document.createTextNode("x"))}ng(a.measure,Ob);var c=Ob.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),mg(a.measure),c||1}function Qb(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=kg("span","xxxxxxxxxx"),c=kg("pre",[b]);ng(a.measure,c);var d=b.getBoundingClientRect(),e=(d.right-d.left)/10;return e>2&&(a.cachedCharWidth=e),e||10}var Rb=null,Sb=0;function Tb(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Sb},Rb?Rb.ops.push(a.curOp):a.curOp.ownsGroup=Rb={ops:[a.curOp],delayedCallbacks:[]}}function Ub(a){var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c]();for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)}}while(c<b.length)}function Vb(a){var b=a.curOp,c=b.ownsGroup;if(c)try{Ub(c)}finally{Rb=null;for(var d=0;d<c.ops.length;d++)c.ops[d].cm.curOp=null;Wb(c)}}function Wb(a){for(var b=a.ops,c=0;c<b.length;c++)Xb(b[c]);for(var c=0;c<b.length;c++)Yb(b[c]);for(var c=0;c<b.length;c++)Zb(b[c]);for(var c=0;c<b.length;c++)$b(b[c]);for(var c=0;c<b.length;c++)_b(b[c])}function Xb(a){var b=a.cm,c=b.display;V(b),a.updateMaxLine&&H(b),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<c.viewFrom||a.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping,a.update=a.mustUpdate&&new U(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Yb(a){a.updatedDisplay=a.mustUpdate&&W(a.cm,a.update)}function Zb(a){var b=a.cm,c=b.display;a.updatedDisplay&&$(b),a.barMeasure=J(b),c.maxLineChanged&&!b.options.lineWrapping&&(a.adjustWidthTo=tb(b,c.maxLine,c.maxLine.text.length).left+3,b.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+a.adjustWidthTo+nb(b)+b.display.barWidth),a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo-ob(b))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=c.input.prepareSelection())}function $b(a){var b=a.cm;null!=a.adjustWidthTo&&(b.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<b.doc.scrollLeft&&Dc(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0),b.display.maxLineChanged=!1),a.preparedSelection&&b.display.input.showSelection(a.preparedSelection),a.updatedDisplay&&Z(b,a.barMeasure),(a.updatedDisplay||a.startHeight!=b.doc.height)&&N(b,a.barMeasure),a.selectionChanged&&fb(b),b.state.focused&&a.updateInput&&b.display.input.reset(a.typing)}function _b(a){var b=a.cm,c=b.display,d=b.doc;if(a.updatedDisplay&&X(b,a.update),null==c.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(c.wheelStartX=c.wheelStartY=null),null==a.scrollTop||c.scroller.scrollTop==a.scrollTop&&!a.forceScroll||(d.scrollTop=Math.max(0,Math.min(c.scroller.scrollHeight-c.scroller.clientHeight,a.scrollTop)),c.scrollbars.setScrollTop(d.scrollTop),c.scroller.scrollTop=d.scrollTop),null==a.scrollLeft||c.scroller.scrollLeft==a.scrollLeft&&!a.forceScroll||(d.scrollLeft=Math.max(0,Math.min(c.scroller.scrollWidth-ob(b),a.scrollLeft)),c.scrollbars.setScrollLeft(d.scrollLeft),c.scroller.scrollLeft=d.scrollLeft,Q(b)),a.scrollToPos){var e=kd(b,Ma(d,a.scrollToPos.from),Ma(d,a.scrollToPos.to),a.scrollToPos.margin);a.scrollToPos.isCursor&&b.state.focused&&jd(b,e)}var f=a.maybeHiddenMarkers,g=a.maybeUnhiddenMarkers;if(f)for(var h=0;h<f.length;++h)f[h].lines.length||Gf(f[h],"hide");if(g)for(var h=0;h<g.length;++h)g[h].lines.length&&Gf(g[h],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop),a.changeObjs&&Gf(b,"changes",b,a.changeObjs),a.update&&a.update.finish()}function ac(a,b){if(a.curOp)return b();Tb(a);try{return b()}finally{Vb(a)}}function bc(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Tb(a);try{return b.apply(a,arguments)}finally{Vb(a)}}}function cc(a){return function(){if(this.curOp)return a.apply(this,arguments);Tb(this);try{return a.apply(this,arguments)}finally{Vb(this)}}}function dc(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Tb(b);try{return a.apply(this,arguments)}finally{Vb(b)}}}function ec(a,b,c){this.line=b,this.rest=oe(b),this.size=this.rest?ef(Yf(this.rest))-c+1:1,this.node=this.text=null,this.hidden=re(a,b)}function fc(a,b,c){for(var d,e=[],f=b;c>f;f=d){var g=new ec(a.doc,af(a.doc,f),f);d=f+g.size,e.push(g)}return e}function gc(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)u&&pe(a.doc,b)<e.viewTo&&ic(a);else if(c<=e.viewFrom)u&&qe(a.doc,c+d)>e.viewFrom?ic(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)ic(a);else if(b<=e.viewFrom){var f=kc(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):ic(a)}else if(c>=e.viewTo){var f=kc(a,b,b,-1);f?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):ic(a)}else{var g=kc(a,b,b,-1),h=kc(a,c,c+d,1);g&&h?(e.view=e.view.slice(0,g.index).concat(fc(a,g.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):ic(a)}var i=e.externalMeasured;i&&(c<i.lineN?i.lineN+=d:b<i.lineN+i.size&&(e.externalMeasured=null))}function hc(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[jc(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==$f(g,c)&&g.push(c)}}}function ic(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function jc(a,b){if(b>=a.display.viewTo)return null;if(b-=a.display.viewFrom,0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function kc(a,b,c,d){var e,f=jc(a,b),g=a.display.view;if(!u||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=0,i=a.display.viewFrom;f>h;h++)i+=g[h].size;if(i!=b){if(d>0){if(f==g.length-1)return null;e=i+g[f].size-b,f++}else e=i-b;b+=e,c+=e}for(;pe(a.doc,c)!=c;){if(f==(0>d?0:g.length-1))return null;c+=d*g[f-(0>d?1:0)].size,f+=d}return{index:f,lineN:c}}function lc(a,b,c){var d=a.display,e=d.view;0==e.length||b>=d.viewTo||c<=d.viewFrom?(d.view=fc(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=fc(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(jc(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(fc(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,jc(a,c)))),d.viewTo=c}function mc(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function nc(a){var b=a.display;Ef(b.scroller,"mousedown",bc(a,rc)),d&&11>e?Ef(b.scroller,"dblclick",bc(a,function(b){if(!Kf(a,b)){var c=qc(a,b);if(c&&!yc(a,b)&&!pc(a.display,b)){yf(b);var d=a.findWordAt(c);Ra(a.doc,d.anchor,d.head)}}})):Ef(b.scroller,"dblclick",function(b){Kf(a,b)||yf(b)}),s||Ef(b.scroller,"contextmenu",function(b){Wc(a,b)});var c,f={end:0};function g(){b.activeTouch&&(c=setTimeout(function(){b.activeTouch=null},1e3),f=b.activeTouch,f.end=+new Date)}function h(a){if(1!=a.touches.length)return!1;var b=a.touches[0];return b.radiusX<=1&&b.radiusY<=1}function i(a,b){if(null==b.left)return!0;var c=b.left-a.left,d=b.top-a.top;return c*c+d*d>400}Ef(b.scroller,"touchstart",function(a){if(!h(a)){clearTimeout(c);var d=+new Date;b.activeTouch={start:d,moved:!1,prev:d-f.end<=300?f:null},1==a.touches.length&&(b.activeTouch.left=a.touches[0].pageX,b.activeTouch.top=a.touches[0].pageY)}}),Ef(b.scroller,"touchmove",function(){b.activeTouch&&(b.activeTouch.moved=!0)}),Ef(b.scroller,"touchend",function(c){var d=b.activeTouch;if(d&&!pc(b,c)&&null!=d.left&&!d.moved&&new Date-d.start<300){var e,f=a.coordsChar(b.activeTouch,"page");e=!d.prev||i(d,d.prev)?new Ia(f,f):!d.prev.prev||i(d,d.prev.prev)?a.findWordAt(f):new Ia(oa(f.line,0),Ma(a.doc,oa(f.line+1,0))),a.setSelection(e.anchor,e.head),a.focus(),yf(c)}g()}),Ef(b.scroller,"touchcancel",g),Ef(b.scroller,"scroll",function(){b.scroller.clientHeight&&(Cc(a,b.scroller.scrollTop),Dc(a,b.scroller.scrollLeft,!0),Gf(a,"scroll",a))}),Ef(b.scroller,"mousewheel",function(b){Hc(a,b)}),Ef(b.scroller,"DOMMouseScroll",function(b){Hc(a,b)}),Ef(b.wrapper,"scroll",function(){b.wrapper.scrollTop=b.wrapper.scrollLeft=0});function j(b){Kf(a,b)||Bf(b)}a.options.dragDrop&&(Ef(b.scroller,"dragstart",function(b){Bc(a,b)}),Ef(b.scroller,"dragenter",j),Ef(b.scroller,"dragover",j),Ef(b.scroller,"drop",bc(a,Ac)));var k=b.input.getField();Ef(k,"keyup",function(b){Rc.call(a,b)}),Ef(k,"keydown",bc(a,Pc)),Ef(k,"keypress",bc(a,Sc)),Ef(k,"focus",dg(Uc,a)),Ef(k,"blur",dg(Vc,a))}function oc(a){var b=a.display;(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)&&(b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize())}function pc(a,b){for(var c=Cf(b);c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&"true"==c.getAttribute("cm-ignore-events")||c.parentNode==a.sizer&&c!=a.mover)return!0}function qc(a,b,c,d){var e=a.display;if(!c&&"true"==Cf(b).getAttribute("cm-not-content"))return null;var f,g,h=e.lineSpace.getBoundingClientRect();try{f=b.clientX-h.left,g=b.clientY-h.top}catch(b){return null}var i,j=Mb(a,f,g);if(d&&1==j.xRel&&(i=af(a.doc,j.line).text).length==j.ch){var k=Uf(i,i.length,a.options.tabSize)-i.length;j=oa(j.line,Math.max(0,Math.round((f-mb(a.display).left)/Qb(a.display))-k))}return j}function rc(a){var b=this,c=b.display;if(!(c.activeTouch&&c.input.supportsTouch()||Kf(b,a))){if(c.shift=a.shiftKey,pc(c,a))return void(f||(c.scroller.draggable=!1,setTimeout(function(){c.scroller.draggable=!0},100)));if(!yc(b,a)){var d=qc(b,a);switch(window.focus(),Df(a)){case 1:d?uc(b,a,d):Cf(a)==c.scroller&&yf(a);break;case 2:f&&(b.state.lastMiddleDown=+new Date),d&&Ra(b.doc,d),setTimeout(function(){c.input.focus()},20),yf(a);break;case 3:s?Wc(b,a):Tc(b)}}}}var sc,tc;function uc(a,b,c){d?setTimeout(dg(ta,a),0):ta(a);var e,f=+new Date;tc&&tc.time>f-400&&0==pa(tc.pos,c)?e="triple":sc&&sc.time>f-400&&0==pa(sc.pos,c)?(e="double",tc={time:f,pos:c}):(e="single",sc={time:f,pos:c});var g,h=a.doc.sel,i=o?b.metaKey:b.ctrlKey;a.options.dragDrop&&zg&&!ua(a)&&"single"==e&&(g=h.contains(c))>-1&&!h.ranges[g].empty()?vc(a,b,c,i):wc(a,b,c,e,i)}function vc(a,b,c,g){var h=a.display,i=bc(a,function(j){f&&(h.scroller.draggable=!1),a.state.draggingText=!1,Ff(document,"mouseup",i),Ff(h.scroller,"drop",i),Math.abs(b.clientX-j.clientX)+Math.abs(b.clientY-j.clientY)<10&&(yf(j),g||Ra(a.doc,c),f||d&&9==e?setTimeout(function(){document.body.focus(),h.input.focus()},20):h.input.focus())});f&&(h.scroller.draggable=!0),a.state.draggingText=i,h.scroller.dragDrop&&h.scroller.dragDrop(),Ef(document,"mouseup",i),Ef(h.scroller,"drop",i)}function wc(a,b,c,d,e){var f=a.display,g=a.doc;yf(b);var h,i,j=g.sel,k=j.ranges;if(e&&!b.shiftKey?(i=g.sel.contains(c),h=i>-1?k[i]:new Ia(c,c)):(h=g.sel.primary(),i=g.sel.primIndex),b.altKey)d="rect",e||(h=new Ia(c,c)),c=qc(a,b,!0,!0),i=-1;else if("double"==d){var l=a.findWordAt(c);h=a.display.shift||g.extend?Qa(g,h,l.anchor,l.head):l}else if("triple"==d){var m=new Ia(oa(c.line,0),Ma(g,oa(c.line+1,0)));h=a.display.shift||g.extend?Qa(g,h,m.anchor,m.head):m}else h=Qa(g,h,c);e?-1==i?(i=k.length,Xa(g,Ja(k.concat([h]),i),{scroll:!1,origin:"*mouse"})):k.length>1&&k[i].empty()&&"single"==d&&!b.shiftKey?(Xa(g,Ja(k.slice(0,i).concat(k.slice(i+1)),0)),j=g.sel):Ta(g,i,h,Rf):(i=0,Xa(g,new Ha([h],0),Rf),j=g.sel);var n=c;function o(b){if(0!=pa(n,b))if(n=b,"rect"==d){for(var e=[],f=a.options.tabSize,k=Uf(af(g,c.line).text,c.ch,f),l=Uf(af(g,b.line).text,b.ch,f),m=Math.min(k,l),o=Math.max(k,l),p=Math.min(c.line,b.line),q=Math.min(a.lastLine(),Math.max(c.line,b.line));q>=p;p++){var r=af(g,p).text,s=Vf(r,m,f);m==o?e.push(new Ia(oa(p,s),oa(p,s))):r.length>s&&e.push(new Ia(oa(p,s),oa(p,Vf(r,o,f))))}e.length||e.push(new Ia(c,c)),Xa(g,Ja(j.ranges.slice(0,i).concat(e),i),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var t=h,u=t.anchor,v=b;if("single"!=d){if("double"==d)var w=a.findWordAt(b);else var w=new Ia(oa(b.line,0),Ma(g,oa(b.line+1,0)));pa(w.anchor,u)>0?(v=w.head,u=sa(t.from(),w.anchor)):(v=w.anchor,u=ra(t.to(),w.head))}var e=j.ranges.slice(0);e[i]=new Ia(Ma(g,u),v),Xa(g,Ja(e,i),Rf)}}var p=f.wrapper.getBoundingClientRect(),q=0;function r(b){var c=++q,e=qc(a,b,!0,"rect"==d);if(e)if(0!=pa(e,n)){ta(a),o(e);var h=P(f,g);(e.line>=h.to||e.line<h.from)&&setTimeout(bc(a,function(){q==c&&r(b)}),150)}else{var i=b.clientY<p.top?-20:b.clientY>p.bottom?20:0;i&&setTimeout(bc(a,function(){q==c&&(f.scroller.scrollTop+=i,r(b))}),50)}}function s(a){q=1/0,yf(a),f.input.focus(),Ff(document,"mousemove",t),Ff(document,"mouseup",u),g.history.lastSelOrigin=null}var t=bc(a,function(a){Df(a)?r(a):s(a)}),u=bc(a,s);Ef(document,"mousemove",t),Ef(document,"mouseup",u)}function xc(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&yf(b);var h=a.display,i=h.lineDiv.getBoundingClientRect();if(g>i.bottom||!Mf(a,c))return Af(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&k.getBoundingClientRect().right>=f){var l=ff(a.doc,g),m=a.options.gutters[j];return e(a,c,a,l,m,b),Af(b)}}}function yc(a,b){return xc(a,b,"gutterClick",!0,If)}var zc=0;function Ac(a){var b=this;if(!Kf(b,a)&&!pc(b.display,a)){yf(a),d&&(zc=+new Date);var c=qc(b,a,!0),e=a.dataTransfer.files;if(c&&!ua(b))if(e&&e.length&&window.FileReader&&window.File)for(var f=e.length,g=Array(f),h=0,i=function(a,d){var e=new FileReader;e.onload=bc(b,function(){if(g[d]=e.result,++h==f){c=Ma(b.doc,c);var a={from:c,to:c,text:Dg(g.join("\n")),origin:"paste"};cd(b.doc,a),Wa(b.doc,Ka(c,Yc(a)))}}),e.readAsText(a)},j=0;f>j;++j)i(e[j],j);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),void setTimeout(function(){b.display.input.focus()},20);try{var g=a.dataTransfer.getData("Text");if(g){if(b.state.draggingText&&!(o?a.metaKey:a.ctrlKey))var k=b.listSelections();if(Ya(b.doc,Ka(c,c)),k)for(var j=0;j<k.length;++j)id(b.doc,"",k[j].anchor,k[j].head,"drag");b.replaceSelection(g,"around","paste"),b.display.input.focus()}}catch(a){}}}}function Bc(a,b){if(d&&(!a.state.draggingText||+new Date-zc<100))return void Bf(b);if(!Kf(a,b)&&!pc(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!j)){var c=kg("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),i&&c.parentNode.removeChild(c)}}function Cc(b,c){Math.abs(b.doc.scrollTop-c)<2||(b.doc.scrollTop=c,a||Y(b,{top:c}),b.display.scroller.scrollTop!=c&&(b.display.scroller.scrollTop=c),b.display.scrollbars.setScrollTop(c),a&&Y(b),gb(b,100))}function Dc(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,Q(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}var Ec=0,Fc=null;d?Fc=-.53:a?Fc=15:h?Fc=-.7:j&&(Fc=-1/3);var Gc=function(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;return null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail),null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta),{x:b,y:c}};v.wheelEventPixels=function(a){var b=Gc(a);return b.x*=Fc,b.y*=Fc,b};function Hc(b,c){var d=Gc(c),e=d.x,g=d.y,h=b.display,j=h.scroller;if(e&&j.scrollWidth>j.clientWidth||g&&j.scrollHeight>j.clientHeight){if(g&&o&&f)a:for(var k=c.target,l=h.view;k!=j;k=k.parentNode)for(var m=0;m<l.length;m++)if(l[m].node==k){b.display.currentWheelTarget=k;break a}if(e&&!a&&!i&&null!=Fc)return g&&Cc(b,Math.max(0,Math.min(j.scrollTop+g*Fc,j.scrollHeight-j.clientHeight))),Dc(b,Math.max(0,Math.min(j.scrollLeft+e*Fc,j.scrollWidth-j.clientWidth))),yf(c),void(h.wheelStartX=null);if(g&&null!=Fc){var n=g*Fc,p=b.doc.scrollTop,q=p+h.wrapper.clientHeight;0>n?p=Math.max(0,p+n-50):q=Math.min(b.doc.height,q+n+50),Y(b,{top:p,bottom:q})}20>Ec&&(null==h.wheelStartX?(h.wheelStartX=j.scrollLeft,h.wheelStartY=j.scrollTop,h.wheelDX=e,h.wheelDY=g,setTimeout(function(){if(null!=h.wheelStartX){var a=j.scrollLeft-h.wheelStartX,b=j.scrollTop-h.wheelStartY,c=b&&h.wheelDY&&b/h.wheelDY||a&&h.wheelDX&&a/h.wheelDX;h.wheelStartX=h.wheelStartY=null,c&&(Fc=(Fc*Ec+c)/(Ec+1),++Ec)}},200)):(h.wheelDX+=e,h.wheelDY+=g))}}function Ic(a,b,c){if("string"==typeof b&&(b=Gd[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{ua(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Pf}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function Jc(a,b,c){for(var d=0;d<a.state.keyMaps.length;d++){var e=Jd(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&Jd(b,a.options.extraKeys,c,a)||Jd(b,a.options.keyMap,c,a)}var Kc=new Tf;function Lc(a,b,c,d){var e=a.state.keySeq;if(e){if(Kd(b))return"handled";Kc.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())}),b=e+" "+b}var f=Jc(a,b,d);return"multi"==f&&(a.state.keySeq=b),"handled"==f&&If(a,"keyHandled",a,b,c),("handled"==f||"multi"==f)&&(yf(c),fb(a)),e&&!f&&/\'$/.test(b)?(yf(c),!0):!!f}function Mc(a,b){var c=Ld(b,!0);return c?b.shiftKey&&!a.state.keySeq?Lc(a,"Shift-"+c,b,function(b){return Ic(a,b,!0)})||Lc(a,c,b,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?Ic(a,b):void 0}):Lc(a,c,b,function(b){return Ic(a,b)}):!1}function Nc(a,b,c){return Lc(a,"'"+c+"'",b,function(b){return Ic(a,b,!0)})}var Oc=null;function Pc(a){var b=this;if(ta(b),!Kf(b,a)){d&&11>e&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var f=Mc(b,a);i&&(Oc=f?c:null,!f&&88==c&&!Fg&&(o?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||Qc(b)}}function Qc(a){var b=a.display.lineDiv;sg(b,"CodeMirror-crosshair");function c(a){18!=a.keyCode&&a.altKey||(rg(b,"CodeMirror-crosshair"),Ff(document,"keyup",c),Ff(document,"mouseover",c))}Ef(document,"keyup",c),Ef(document,"mouseover",c)}function Rc(a){16==a.keyCode&&(this.doc.sel.shift=!1),Kf(this,a)}function Sc(a){var b=this;if(!(pc(b.display,a)||Kf(b,a)||a.ctrlKey&&!a.altKey||o&&a.metaKey)){var c=a.keyCode,d=a.charCode;if(i&&c==Oc)return Oc=null,void yf(a);if(!i||a.which&&!(a.which<10)||!Mc(b,a)){var e=String.fromCharCode(null==d?c:d);Nc(b,a,e)||b.display.input.onKeyPress(a)}}}function Tc(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,Vc(a))},100)}function Uc(a){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(Gf(a,"focus",a),a.state.focused=!0,sg(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),f&&setTimeout(function(){a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),fb(a))}function Vc(a){a.state.delayingBlurEvent||(a.state.focused&&(Gf(a,"blur",a),a.state.focused=!1,rg(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Wc(a,b){pc(a.display,b)||Xc(a,b)||a.display.input.onContextMenu(b)}function Xc(a,b){return Mf(a,"gutterContextMenu")?xc(a,b,"gutterContextMenu",!1,Gf):!1}var Yc=v.changeEnd=function(a){return a.text?oa(a.from.line+a.text.length-1,Yf(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};function Zc(a,b){if(pa(a,b.from)<0)return a;if(pa(a,b.to)<=0)return Yc(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=Yc(b).ch-b.to.ch),oa(c,d)}function $c(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new Ia(Zc(e.anchor,b),Zc(e.head,b)))}return Ja(c,a.sel.primIndex)}function _c(a,b,c){return a.line==b.line?oa(c.line,a.ch-b.ch+c.ch):oa(c.line+(a.line-b.line),a.ch)}function ad(a,b,c){for(var d=[],e=oa(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=_c(h.from,e,f),j=_c(Yc(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=pa(k.head,k.anchor)<0;d[g]=new Ia(l?j:i,l?i:j)}else d[g]=new Ia(i,i)}return new Ha(d,a.sel.primIndex)}function bd(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=Ma(a,b)),c&&(this.to=Ma(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),Gf(a,"beforeChange",a,d),a.cm&&Gf(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function cd(a,b,c){if(a.cm){if(!a.cm.curOp)return bc(a.cm,cd)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(Mf(a,"beforeChange")||a.cm&&Mf(a.cm,"beforeChange"))||(b=bd(a,b,!0))){var d=t&&!c&&de(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)dd(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text});else dd(a,b)}}function dd(a,b){if(1!=b.text.length||""!=b.text[0]||0!=pa(b.from,b.to)){var c=$c(a,b);nf(a,b,c,a.cm?a.cm.curOp.id:NaN),gd(a,b,c,ae(a,b));var d=[];$e(a,function(a,c){c||-1!=$f(d,a.history)||(xf(a.history,b),d.push(a.history)),gd(a,b,null,ae(a,b))})}}function ed(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d,e=a.history,f=a.sel,g="undo"==b?e.done:e.undone,h="undo"==b?e.undone:e.done,i=0;i<g.length&&(d=g[i],
c?!d.ranges||d.equals(a.sel):d.ranges);i++);if(i!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;d=g.pop(),d.ranges;){if(qf(d,h),c&&!d.equals(a.sel))return void Xa(a,d,{clearRedo:!1});f=d}var j=[];qf(f,h),h.push({changes:j,generation:e.generation}),e.generation=d.generation||++e.maxGeneration;for(var k=Mf(a,"beforeChange")||a.cm&&Mf(a.cm,"beforeChange"),i=d.changes.length-1;i>=0;--i){var l=d.changes[i];if(l.origin=b,k&&!bd(a,l,!1))return void(g.length=0);j.push(kf(a,l));var m=i?$c(a,l):Yf(g);gd(a,l,m,ce(a,l)),!i&&a.cm&&a.cm.scrollIntoView({from:l.from,to:Yc(l)});var n=[];$e(a,function(a,b){b||-1!=$f(n,a.history)||(xf(a.history,l),n.push(a.history)),gd(a,l,null,ce(a,l))})}}}}function fd(a,b){if(0!=b&&(a.first+=b,a.sel=new Ha(_f(a.sel.ranges,function(a){return new Ia(oa(a.anchor.line+b,a.anchor.ch),oa(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){gc(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)hc(a.cm,d,"gutter")}}function gd(a,b,c,d){if(a.cm&&!a.cm.curOp)return bc(a.cm,gd)(a,b,c,d);if(b.to.line<a.first)return void fd(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);fd(a,e),b={from:oa(a.first,0),to:oa(b.to.line+e,b.to.ch),text:[Yf(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:oa(f,af(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=bf(a,b.from,b.to),c||(c=$c(a,b)),a.cm?hd(a.cm,b,d):Te(a,b,d),Ya(a,c,Qf)}}function hd(a,b,c){var d=a.doc,e=a.display,f=b.from,g=b.to,h=!1,i=f.line;a.options.lineWrapping||(i=ef(ne(af(d,f.line))),d.iter(i,g.line+1,function(a){return a==e.maxLine?(h=!0,!0):void 0})),d.sel.contains(b.from,b.to)>-1&&Lf(a),Te(d,b,c,A(a)),a.options.lineWrapping||(d.iter(i,f.line+b.text.length,function(a){var b=G(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0)),d.frontier=Math.min(d.frontier,f.line),gb(a,400);var j=b.text.length-(g.line-f.line)-1;b.full?gc(a):f.line!=g.line||1!=b.text.length||Se(a.doc,b)?gc(a,f.line,g.line+1,j):hc(a,f.line,"text");var k=Mf(a,"changes"),l=Mf(a,"change");if(l||k){var m={from:f,to:g,text:b.text,removed:b.removed,origin:b.origin};l&&If(a,"change",a,m),k&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(m)}a.display.selForContextMenu=null}function id(a,b,c,d,e){if(d||(d=c),pa(d,c)<0){var f=d;d=c,c=f}"string"==typeof b&&(b=Dg(b)),cd(a,{from:c,to:d,text:b,origin:e})}function jd(a,b){if(!Kf(a,"scrollCursorIntoView")){var c=a.display,d=c.sizer.getBoundingClientRect(),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!l){var f=kg("div","",null,"position: absolute; top: "+(b.top-c.viewOffset-kb(a.display))+"px; height: "+(b.bottom-b.top+nb(a)+c.barHeight)+"px; left: "+b.left+"px; width: 2px;");a.display.lineSpace.appendChild(f),f.scrollIntoView(e),a.display.lineSpace.removeChild(f)}}}function kd(a,b,c,d){null==d&&(d=0);for(var e=0;5>e;e++){var f=!1,g=Jb(a,b),h=c&&c!=b?Jb(a,c):g,i=md(a,Math.min(g.left,h.left),Math.min(g.top,h.top)-d,Math.max(g.left,h.left),Math.max(g.bottom,h.bottom)+d),j=a.doc.scrollTop,k=a.doc.scrollLeft;if(null!=i.scrollTop&&(Cc(a,i.scrollTop),Math.abs(a.doc.scrollTop-j)>1&&(f=!0)),null!=i.scrollLeft&&(Dc(a,i.scrollLeft),Math.abs(a.doc.scrollLeft-k)>1&&(f=!0)),!f)break}return g}function ld(a,b,c,d,e){var f=md(a,b,c,d,e);null!=f.scrollTop&&Cc(a,f.scrollTop),null!=f.scrollLeft&&Dc(a,f.scrollLeft)}function md(a,b,c,d,e){var f=a.display,g=Pb(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,i=pb(a),j={};e-c>i&&(e=c+i);var k=a.doc.height+lb(f),l=g>c,m=e>k-g;if(h>c)j.scrollTop=l?0:c;else if(e>h+i){var n=Math.min(c,(m?k:e)-i);n!=h&&(j.scrollTop=n)}var o=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft,p=ob(a)-(a.options.fixedGutter?f.gutters.offsetWidth:0),q=d-b>p;return q&&(d=b+p),10>b?j.scrollLeft=0:o>b?j.scrollLeft=Math.max(0,b-(q?0:10)):d>p+o-3&&(j.scrollLeft=d+(q?0:10)-p),j}function nd(a,b,c){(null!=b||null!=c)&&pd(a),null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b),null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function od(a){pd(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?oa(b.line,b.ch-1):b,d=oa(b.line,b.ch+1)),a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function pd(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=Kb(a,b.from),d=Kb(a,b.to),e=md(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(e.scrollLeft,e.scrollTop)}}function qd(a,b,c,d){var e,f=a.doc;null==c&&(c="add"),"smart"==c&&(f.mode.indent?e=jb(a,b):c="prev");var g=a.options.tabSize,h=af(f,b),i=Uf(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(j=f.mode.indent(e,h.text.slice(k.length),h.text),j==Pf||j>150)){if(!d)return;c="prev"}}else j=0,c="not";"prev"==c?j=b>f.first?Uf(af(f,b-1).text,null,g):0:"add"==c?j=i+a.options.indentUnit:"subtract"==c?j=i-a.options.indentUnit:"number"==typeof c&&(j=i+c),j=Math.max(0,j);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(j/g);n;--n)m+=g,l+="	";if(j>m&&(l+=Xf(j-m)),l!=k)id(f,l,oa(b,0),oa(b,k.length),"+input");else for(var n=0;n<f.sel.ranges.length;n++){var o=f.sel.ranges[n];if(o.head.line==b&&o.head.ch<k.length){var m=oa(b,k.length);Ta(f,n,new Ia(m,m));break}}h.stateAfter=null}function rd(a,b,c,d){var e=b,f=b;return"number"==typeof b?f=af(a,La(a,b)):e=ef(b),null==e?null:(d(f,e)&&a.cm&&hc(a.cm,e,c),f)}function sd(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&pa(f.from,Yf(d).to)<=0;){var g=d.pop();if(pa(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}ac(a,function(){for(var b=d.length-1;b>=0;b--)id(a.doc,"",d[b].from,d[b].to,"+delete");od(a)})}function td(a,b,c,d,e){var f=b.line,g=b.ch,h=c,i=af(a,f),j=!0;function k(){var b=f+c;return b<a.first||b>=a.first+a.size?j=!1:(f=b,i=af(a,b))}function l(a){var b=(e?Vg:Wg)(i,g,c,!0);if(null==b){if(a||!k())return j=!1;g=e?(0>c?Ng:Mg)(i):0>c?i.text.length:0}else g=b;return!0}if("char"==d)l();else if("column"==d)l(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(0>c)||l(!p);p=!1){var q=i.text.charAt(g)||"\n",r=gg(q,o)?"w":n&&"\n"==q?"n":!n||/\s/.test(q)?null:"p";if(!n||p||r||(r="s"),m&&m!=r){0>c&&(c=1,l());break}if(r&&(m=r),c>0&&!l(!p))break}var s=ab(a,oa(f,g),h,!0);return j||(s.hitSide=!0),s}function ud(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(0>c?1.5:.5)*Pb(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=Mb(a,g,e);if(!i.outside)break;if(0>c?0>=e:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}v.prototype={constructor:v,focus:function(){window.focus(),this.display.input.focus()},setOption:function(a,b){var c=this.options,d=c[a];(c[a]!=b||"mode"==a)&&(c[a]=b,wd.hasOwnProperty(a)&&bc(this,wd[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](Md(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:cc(function(a,b){var c=a.token?a:v.getMode(this.options,a);if(c.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque}),this.state.modeGen++,gc(this)}),removeOverlay:cc(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void gc(this)}}),indentLine:cc(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),Oa(this.doc,a)&&qd(this,a,b,c)}),indentSelection:cc(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(qd(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&od(this));else{var f=e.from(),g=e.to(),h=Math.max(c,f.line);c=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var i=h;c>i;++i)qd(this,i,a);var j=this.doc.sel.ranges;0==f.ch&&b.length==j.length&&j[d].from().ch>0&&Ta(this.doc,d,new Ia(f,j[d].to()),Qf)}}}),getTokenAt:function(a,b){return De(this,a,b)},getLineTokens:function(a,b){return De(this,oa(a),b,!0)},getTokenTypeAt:function(a){a=Ma(this.doc,a);var b,c=Ge(this,af(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e>>1;if((g?c[2*g-1]:0)>=f)e=g;else{if(!(c[2*g+1]<f)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf("cm-overlay "):-1;return 0>h?b:0==h?null:b.slice(0,h-1)},getModeAt:function(a){var b=this.doc.mode;return b.innerMode?v.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Dd.hasOwnProperty(b))return c;var d=Dd[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(var f=0;f<d._global.length;f++){var h=d._global[f];h.pred(e,this)&&-1==$f(c,h.val)&&c.push(h.val)}return c},getStateAfter:function(a,b){var c=this.doc;return a=La(c,null==a?c.first+c.size-1:a),jb(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?Ma(this.doc,a):a?d.from():d.to(),Jb(this,c,b||"page")},charCoords:function(a,b){return Ib(this,Ma(this.doc,a),b||"page")},coordsChar:function(a,b){return a=Hb(this,a,b||"page"),Mb(this,a.left,a.top)},lineAtHeight:function(a,b){return a=Hb(this,{top:a,left:0},b||"page").top,ff(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=af(this.doc,a);return Gb(this,e,{top:0,left:0},b||"page").top+(c?this.doc.height-gf(e):0)},defaultTextHeight:function(){return Pb(this.display)},defaultCharWidth:function(){return Qb(this.display)},setGutterMarker:cc(function(a,b,c){return rd(this.doc,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&hg(d)&&(a.gutterMarkers=null),!0})}),clearGutter:cc(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,hc(b,d,"gutter"),hg(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),lineInfo:function(a){if("number"==typeof a){if(!Oa(this.doc,a))return null;var b=a;if(a=af(this.doc,a),!a)return null}else{var b=ef(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=Jb(this,Ma(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&ld(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:cc(Pc),triggerOnKeyPress:cc(Sc),triggerOnKeyUp:Rc,execCommand:function(a){return Gd.hasOwnProperty(a)?Gd[a](this):void 0},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);for(var f=0,g=Ma(this.doc,a);b>f&&(g=td(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:cc(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?td(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Sf)}),deleteH:cc(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):sd(this,function(c){var e=td(d,c.head,a,b,!1);return 0>a?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=1,f=d;0>b&&(e=-1,b=-b);for(var g=0,h=Ma(this.doc,a);b>g;++g){var i=Jb(this,h,"div");if(null==f?f=i.left:i.left=f,h=ud(this,i,e,c),h.hitSide)break}return h},moveV:cc(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=Jb(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=ud(c,h,a,b);return"page"==b&&g==d.sel.primary()&&nd(c,null,Ib(c,i,"div").top-h.top),i},Sf),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=this.doc,c=af(b,a.line).text,d=a.ch,e=a.ch;if(c){var f=this.getHelper(a,"wordChars");(a.xRel<0||e==c.length)&&d?--d:++e;for(var g=c.charAt(d),h=gg(g,f)?function(a){return gg(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!gg(a)};d>0&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new Ia(oa(a.line,d),oa(a.line,e))},toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?sg(this.display.cursorDiv,"CodeMirror-overwrite"):rg(this.display.cursorDiv,"CodeMirror-overwrite"),Gf(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==pg()},scrollTo:cc(function(a,b){(null!=a||null!=b)&&pd(this),null!=a&&(this.curOp.scrollLeft=a),null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-nb(this)-this.display.barHeight,width:a.scrollWidth-nb(this)-this.display.barWidth,clientHeight:pb(this),clientWidth:ob(this)}},scrollIntoView:cc(function(a,b){if(null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:oa(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line)pd(this),this.curOp.scrollToPos=a;else{var c=md(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:cc(function(a,b){var c=this;function d(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(c.display.wrapper.style.width=d(a)),null!=b&&(c.display.wrapper.style.height=d(b)),c.options.lineWrapping&&Cb(this);var e=c.display.viewFrom;c.doc.iter(e,c.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){hc(c,e,"widget");break}++e}),c.curOp.forceUpdate=!0,Gf(c,"refresh",this)}),operation:function(a){return ac(this,a)},refresh:cc(function(){var a=this.display.cachedTextHeight;gc(this),this.curOp.forceUpdate=!0,Db(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),F(this),(null==a||Math.abs(a-Pb(this.display))>.5)&&B(this),Gf(this,"refresh",this)}),swapDoc:cc(function(a){var b=this.doc;return b.cm=null,_e(this,a),Db(this),this.display.input.reset(),this.scrollTo(a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,If(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Nf(v);var vd=v.defaults={},wd=v.optionHandlers={};function xd(a,b,c,d){v.defaults[a]=b,c&&(wd[a]=d?function(a,b,d){d!=yd&&c(a,b,d)}:c)}var yd=v.Init={toString:function(){return"CodeMirror.Init"}};xd("value","",function(a,b){a.setValue(b)},!0),xd("mode",null,function(a,b){a.doc.modeOption=b,x(a)},!0),xd("indentUnit",2,x,!0),xd("indentWithTabs",!1),xd("smartIndent",!0),xd("tabSize",4,function(a){y(a),Db(a),gc(a)},!0),xd("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),c!=v.Init&&a.refresh()}),xd("specialCharPlaceholder",Me,function(a){a.refresh()},!0),xd("electricChars",!0),xd("inputStyle",n?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),xd("rtlMoveVisually",!p),xd("wholeLineUpdateBefore",!0),xd("theme","default",function(a){C(a),D(a)},!0),xd("keyMap","default",function(a,b,c){var d=Md(b),e=c!=v.Init&&Md(c);e&&e.detach&&e.detach(a,d),d.attach&&d.attach(a,e||null)}),xd("extraKeys",null),xd("lineWrapping",!1,z,!0),xd("gutters",[],function(a){I(a.options),D(a)},!0),xd("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?T(a.display)+"px":"0",a.refresh()},!0),xd("coverGutterNextToScrollbar",!1,function(a){N(a)},!0),xd("scrollbarStyle","native",function(a){M(a),N(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),xd("lineNumbers",!1,function(a){I(a.options),D(a)},!0),xd("firstLineNumber",1,D,!0),xd("lineNumberFormatter",function(a){return a},D,!0),xd("showCursorWhenSelecting",!1,bb,!0),xd("resetSelectionOnContextMenu",!0),xd("readOnly",!1,function(a,b){"nocursor"==b?(Vc(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||a.display.input.reset())}),xd("disableInput",!1,function(a,b){b||a.display.input.reset()},!0),xd("dragDrop",!0),xd("cursorBlinkRate",530),xd("cursorScrollMargin",0),xd("cursorHeight",1,bb,!0),xd("singleCursorHeightPerLine",!0,bb,!0),xd("workTime",100),xd("workDelay",100),xd("flattenSpans",!0,y,!0),xd("addModeClass",!1,y,!0),xd("pollInterval",100),xd("undoDepth",200,function(a,b){a.doc.history.undoDepth=b}),xd("historyEventDelay",1250),xd("viewportMargin",10,function(a){a.refresh()},!0),xd("maxHighlightLength",1e4,y,!0),xd("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()}),xd("tabindex",null,function(a,b){a.display.input.getField().tabIndex=b||""}),xd("autofocus",null);var zd=v.modes={},Ad=v.mimeModes={};v.defineMode=function(a,b){v.defaults.mode||"null"==a||(v.defaults.mode=a),arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),zd[a]=b},v.defineMIME=function(a,b){Ad[a]=b},v.resolveMode=function(a){if("string"==typeof a&&Ad.hasOwnProperty(a))a=Ad[a];else if(a&&"string"==typeof a.name&&Ad.hasOwnProperty(a.name)){var b=Ad[a.name];"string"==typeof b&&(b={name:b}),a=bg(b,a),a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return v.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}},v.getMode=function(a,b){var b=v.resolveMode(b),c=zd[b.name];if(!c)return v.getMode(a,"text/plain");var d=c(a,b);if(Bd.hasOwnProperty(b.name)){var e=Bd[b.name];for(var f in e)e.hasOwnProperty(f)&&(d.hasOwnProperty(f)&&(d["_"+f]=d[f]),d[f]=e[f])}if(d.name=b.name,b.helperType&&(d.helperType=b.helperType),b.modeProps)for(var f in b.modeProps)d[f]=b.modeProps[f];return d},v.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),v.defineMIME("text/plain","null");var Bd=v.modeExtensions={};v.extendMode=function(a,b){var c=Bd.hasOwnProperty(a)?Bd[a]:Bd[a]={};cg(b,c)},v.defineExtension=function(a,b){v.prototype[a]=b},v.defineDocExtension=function(a,b){Xe.prototype[a]=b},v.defineOption=xd;var Cd=[];v.defineInitHook=function(a){Cd.push(a)};var Dd=v.helpers={};v.registerHelper=function(a,b,c){Dd.hasOwnProperty(a)||(Dd[a]=v[a]={_global:[]}),Dd[a][b]=c},v.registerGlobalHelper=function(a,b,c,d){v.registerHelper(a,b,d),Dd[a]._global.push({pred:c,val:d})};var Ed=v.copyState=function(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c},Fd=v.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};v.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var Gd=v.commands={selectAll:function(a){a.setSelection(oa(a.firstLine(),0),oa(a.lastLine()),Qf)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Qf)},killLine:function(a){sd(a,function(b){if(b.empty()){var c=af(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:oa(b.head.line+1,0)}:{from:b.head,to:oa(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){sd(a,function(b){return{from:oa(b.from().line,0),to:Ma(a.doc,oa(b.to().line+1,0))}})},delLineLeft:function(a){sd(a,function(a){return{from:oa(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){sd(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return{from:d,to:b.from()}})},delWrappedLineRight:function(a){sd(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:d}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(oa(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(oa(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Og(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return Qg(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){return Pg(a,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},Sf)},goLineLeft:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},Sf)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return d.ch<a.getLine(d.line).search(/\S/)?Qg(a,b.head):d},Sf)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=Uf(a.getLine(f.line),f.ch,d);b.push(new Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){ac(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=af(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new oa(e.line,e.ch-1)),e.ch>0)e=new oa(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),oa(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=af(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+"\n"+g.charAt(g.length-1),oa(e.line-1,g.length-1),oa(e.line,1),"+transpose")}c.push(new Ia(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){ac(a,function(){for(var b=a.listSelections().length,c=0;b>c;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input"),a.indentLine(d.from().line+1,null,!0),od(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},Hd=v.keyMap={};Hd.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Hd.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Hd.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Hd.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Hd["default"]=o?Hd.macDefault:Hd.pcDefault;function Id(a){for(var b,c,d,e,f=a.split(/-(?!$)/),a=f[f.length-1],g=0;g<f.length-1;g++){var h=f[g];if(/^(cmd|meta|m)$/i.test(h))e=!0;else if(/^a(lt)?$/i.test(h))b=!0;else if(/^(c|ctrl|control)$/i.test(h))c=!0;else{if(!/^s(hift)$/i.test(h))throw new Error("Unrecognized modifier name: "+h);d=!0}}return b&&(a="Alt-"+a),c&&(a="Ctrl-"+a),e&&(a="Cmd-"+a),d&&(a="Shift-"+a),a}v.normalizeKeyMap=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if("..."==d){delete a[c];continue}for(var e=_f(c.split(" "),Id),f=0;f<e.length;f++){var g,h;f==e.length-1?(h=c,g=d):(h=e.slice(0,f+1).join(" "),g="...");var i=b[h];if(i){if(i!=g)throw new Error("Inconsistent bindings for "+h)}else b[h]=g}delete a[c]}for(var j in b)a[j]=b[j];return a};var Jd=v.lookupKey=function(a,b,c,d){b=Md(b);var e=b.call?b.call(a,d):b[a];if(e===!1)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return Jd(a,b.fallthrough,c,d);for(var f=0;f<b.fallthrough.length;f++){var g=Jd(a,b.fallthrough[f],c,d);if(g)return g}}},Kd=v.isModifierKey=function(a){var b="string"==typeof a?a:Ig[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b},Ld=v.keyName=function(a,b){if(i&&34==a.keyCode&&a["char"])return!1;var c=Ig[a.keyCode],d=c;return null==d||a.altGraphKey?!1:(a.altKey&&"Alt"!=c&&(d="Alt-"+d),(r?a.metaKey:a.ctrlKey)&&"Ctrl"!=c&&(d="Ctrl-"+d),(r?a.ctrlKey:a.metaKey)&&"Cmd"!=c&&(d="Cmd-"+d),!b&&a.shiftKey&&"Shift"!=c&&(d="Shift-"+d),d)};function Md(a){return"string"==typeof a?Hd[a]:a}v.fromTextArea=function(a,b){if(b=b?cg(b):{},b.value=a.value,!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex),!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder),null==b.autofocus){var c=pg();b.autofocus=c==a||null!=a.getAttribute("autofocus")&&c==document.body}function d(){a.value=i.getValue()}if(a.form&&(Ef(a.form,"submit",d),!b.leaveSubmitMethodAlone)){var e=a.form,f=e.submit;try{var g=e.submit=function(){d(),e.submit=f,e.submit(),e.submit=g}}catch(h){}}b.finishInit=function(b){b.save=d,b.getTextArea=function(){return a},b.toTextArea=function(){b.toTextArea=isNaN,d(),a.parentNode.removeChild(b.getWrapperElement()),a.style.display="",a.form&&(Ff(a.form,"submit",d),"function"==typeof a.form.submit&&(a.form.submit=f))}},a.style.display="none";var i=v(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);return i};var Nd=v.StringStream=function(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Nd.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Uf(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Uf(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Uf(this.string,null,this.tabSize)-(this.lineStart?Uf(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);return e(f)==e(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Od=0,Pd=v.TextMarker=function(a,b){this.lines=[],this.type=b,this.doc=a,this.id=++Od};Nf(Pd),Pd.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&Tb(a),Mf(this,"clear")){var c=this.find();c&&If(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=Xd(g.markedSpans,this);a&&!this.collapsed?hc(a,ef(g),"text"):a&&(null!=h.to&&(e=ef(g)),null!=h.from&&(d=ef(g))),g.markedSpans=Yd(g.markedSpans,h),null==h.from&&this.collapsed&&!re(this.doc,g)&&a&&df(g,Pb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=ne(this.lines[f]),j=G(i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0);
}null!=d&&a&&this.collapsed&&gc(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&$a(a.doc)),a&&If(a,"markerCleared",a,this),b&&Vb(a),this.parent&&this.parent.clear()}},Pd.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Xd(f.markedSpans,this);if(null!=g.from&&(c=oa(b?f:ef(f),g.from),-1==a))return c;if(null!=g.to&&(d=oa(b?f:ef(f),g.to),1==a))return d}return c&&{from:c,to:d}},Pd.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&ac(c,function(){var d=a.line,e=ef(a.line),f=ub(c,e);if(f&&(Bb(f),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!re(b.doc,d)&&null!=b.height){var g=b.height;b.height=null;var h=ve(b)-g;h&&df(d,d.height+h)}})},Pd.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=$f(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Pd.prototype.detachLine=function(a){if(this.lines.splice($f(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}};var Od=0;function Qd(a,b,c,d,e){if(d&&d.shared)return Sd(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return bc(a.cm,Qd)(a,b,c,d,e);var f=new Pd(a,e),g=pa(b,c);if(d&&cg(d,f,!1),g>0||0==g&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=kg("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(me(a,b.line,b,c,f)||b.line!=c.line&&me(a,c.line,b,c,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");u=!0}f.addToHistory&&nf(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h,i=b.line,j=a.cm;if(a.iter(i,c.line+1,function(a){j&&f.collapsed&&!j.options.lineWrapping&&ne(a)==j.display.maxLine&&(h=!0),f.collapsed&&i!=b.line&&df(a,0),Zd(a,new Wd(f,i==b.line?b.ch:null,i==c.line?c.ch:null)),++i}),f.collapsed&&a.iter(b.line,c.line+1,function(b){re(a,b)&&df(b,0)}),f.clearOnEnter&&Ef(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(t=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed&&(f.id=++Od,f.atomic=!0),j){if(h&&(j.curOp.updateMaxLine=!0),f.collapsed)gc(j,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle||f.css)for(var k=b.line;k<=c.line;k++)hc(j,k,"text");f.atomic&&$a(j.doc),If(j,"markerAdded",j,f)}return f}var Rd=v.SharedTextMarker=function(a,b){this.markers=a,this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Nf(Rd),Rd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();If(this,"clear")}},Rd.prototype.find=function(a,b){return this.primary.find(a,b)};function Sd(a,b,c,d,e){d=cg(d),d.shared=!1;var f=[Qd(a,b,c,d,e)],g=f[0],h=d.widgetNode;return $e(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(Qd(a,Ma(a,b),Ma(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=Yf(f)}),new Rd(f,g)}function Td(a){return a.findMarks(oa(a.first,0),a.clipPos(oa(a.lastLine())),function(a){return a.parent})}function Ud(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(pa(f,g)){var h=Qd(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function Vd(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];$e(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==$f(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function Wd(a,b,c){this.marker=a,this.from=b,this.to=c}function Xd(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Yd(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Zd(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function $d(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push(new Wd(g,f.from,i?null:f.to))}}return d}function _d(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push(new Wd(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function ae(a,b){if(b.full)return null;var c=Oa(a,b.from.line)&&af(a,b.from.line).markedSpans,d=Oa(a,b.to.line)&&af(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==pa(b.from,b.to),h=$d(c,e,g),i=_d(d,f,g),j=1==b.text.length,k=Yf(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=Xd(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=Xd(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}h&&(h=be(h)),i&&i!=h&&(i=be(i));var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push(new Wd(h[l].marker,null,null));for(var l=0;q>l;++l)o.push(p);o.push(i)}return o}function be(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function ce(a,b){var c=tf(a,b),d=ae(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function de(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=$f(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(pa(j.to,h.from)<0||pa(j.from,h.to)>0)){var k=[i,1],l=pa(j.from,h.from),m=pa(j.to,h.to);(0>l||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(m>0||!g.inclusiveRight&&!m)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function ee(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function fe(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function ge(a){return a.inclusiveLeft?-1:0}function he(a){return a.inclusiveRight?1:0}function ie(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=pa(d.from,e.from)||ge(a)-ge(b);if(f)return-f;var g=pa(d.to,e.to)||he(a)-he(b);return g?g:b.id-a.id}function je(a,b){var c,d=u&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||ie(c,e.marker)<0)&&(c=e.marker);return c}function ke(a){return je(a,!0)}function le(a){return je(a,!1)}function me(a,b,c,d,e){var f=af(a,b),g=u&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=pa(j.from,c)||ge(i.marker)-ge(e),l=pa(j.to,d)||he(i.marker)-he(e);if(!(k>=0&&0>=l||0>=k&&l>=0)&&(0>=k&&(pa(j.to,c)>0||i.marker.inclusiveRight&&e.inclusiveLeft)||k>=0&&(pa(j.from,d)<0||i.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function ne(a){for(var b;b=ke(a);)a=b.find(-1,!0).line;return a}function oe(a){for(var b,c;b=le(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function pe(a,b){var c=af(a,b),d=ne(c);return c==d?b:ef(d)}function qe(a,b){if(b>a.lastLine())return b;var c,d=af(a,b);if(!re(a,d))return b;for(;c=le(d);)d=c.find(1,!0).line;return ef(d)+1}function re(a,b){var c=u&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&se(a,b,d))return!0}}function se(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return se(a,d.line,Xd(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&se(a,b,e))return!0}var te=v.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.doc=a,this.node=b};Nf(te);function ue(a,b,c){gf(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&nd(a,null,c)}te.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,d=ef(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=ve(this);df(c,Math.max(0,c.height-f)),a&&ac(a,function(){ue(a,c,-f),hc(a,d,"widget")})}},te.prototype.changed=function(){var a=this.height,b=this.doc.cm,c=this.line;this.height=null;var d=ve(this)-a;d&&(df(c,c.height+d),b&&ac(b,function(){b.curOp.forceUpdate=!0,ue(b,c,d)}))};function ve(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!og(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),a.noHScroll&&(c+="width: "+b.display.wrapper.clientWidth+"px;"),ng(b.display.measure,kg("div",[a.node],null,c))}return a.height=a.node.offsetHeight}function we(a,b,c,d){var e=new te(a,c,d),f=a.cm;return f&&e.noHScroll&&(f.display.alignWidgets=!0),rd(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,f&&!re(a,b)){var d=gf(b)<a.scrollTop;df(b,b.height+ve(e)),d&&nd(f,null,e.height),f.curOp.forceUpdate=!0}return!0}),e}var xe=v.Line=function(a,b,c){this.text=a,fe(this,b),this.height=c?c(this):1};Nf(xe),xe.prototype.lineNo=function(){return ef(this)};function ye(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),ee(a),fe(a,c);var e=d?d(a):1;e!=a.height&&df(a,e)}function ze(a){a.parent=null,ee(a)}function Ae(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function Be(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=v.innerMode(a,b);return c.mode.blankLine?c.mode.blankLine(c.state):void 0}}function Ce(a,b,c,d){for(var e=0;10>e;e++){d&&(d[0]=v.innerMode(a,c).mode);var f=a.token(b,c);if(b.pos>b.start)return f}throw new Error("Mode "+a.name+" failed to advance stream.")}function De(a,b,c,d){function e(a){return{start:l.start,end:l.pos,string:l.current(),type:f||null,state:a?Ed(g.mode,k):k}}var f,g=a.doc,h=g.mode;b=Ma(g,b);var i,j=af(g,b.line),k=jb(a,b.line,c),l=new Nd(j.text,a.options.tabSize);for(d&&(i=[]);(d||l.pos<b.ch)&&!l.eol();)l.start=l.pos,f=Ce(h,l,k),d&&i.push(e(!0));return d?i:e()}function Ee(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var i,j=0,k=null,l=new Nd(b,a.options.tabSize),m=a.options.addModeClass&&[null];for(""==b&&Ae(Be(c,d),f);!l.eol();){if(l.pos>a.options.maxHighlightLength?(h=!1,g&&He(a,b,d,l.pos),l.pos=b.length,i=null):i=Ae(Ce(c,l,d,m),f),m){var n=m[0].name;n&&(i="m-"+(i?n+" "+i:n))}if(!h||k!=i){for(;j<l.start;)j=Math.min(l.start,j+5e4),e(j,k);k=i}l.start=l.pos}for(;j<l.pos;){var o=Math.min(l.pos,j+5e4);e(o,k),j=o}}function Fe(a,b,c,d){var e=[a.state.modeGen],f={};Ee(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(var g=0;g<a.state.overlays.length;++g){var h=a.state.overlays[g],i=1,j=0;Ee(a,b.text,h.mode,!0,function(a,b){for(var c=i;a>j;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"cm-overlay "+b),i=c+2;else for(;i>c;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"cm-overlay "+b}},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function Ge(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=Fe(a,b,b.stateAfter=jb(a,ef(b)));b.styles=d.styles,d.classes?b.styleClasses=d.classes:b.styleClasses&&(b.styleClasses=null),c===a.doc.frontier&&a.doc.frontier++}return b.styles}function He(a,b,c,d){var e=a.doc.mode,f=new Nd(b,a.options.tabSize);for(f.start=f.pos=d||0,""==b&&Be(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)Ce(e,f,c),f.start=f.pos}var Ie={},Je={};function Ke(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?Je:Ie;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function Le(a,b){var c=kg("span",null,null,f?"padding-right: .1px":null),e={pre:kg("pre",[c]),content:c,col:0,pos:0,cm:a,splitSpaces:(d||f)&&a.getOption("lineWrapping")};b.measure={};for(var g=0;g<=(b.rest?b.rest.length:0);g++){var h,i=g?b.rest[g-1]:b.line;e.pos=0,e.addToken=Ne,Cg(a.display.measure)&&(h=hf(i))&&(e.addToken=Pe(e.addToken,h)),e.map=[];var j=b!=a.display.externalMeasured&&ef(i);Re(i,e,Ge(a,i,j)),i.styleClasses&&(i.styleClasses.bgClass&&(e.bgClass=tg(i.styleClasses.bgClass,e.bgClass||"")),i.styleClasses.textClass&&(e.textClass=tg(i.styleClasses.textClass,e.textClass||""))),0==e.map.length&&e.map.push(0,0,e.content.appendChild(Ag(a.display.measure))),0==g?(b.measure.map=e.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(e.map),(b.measure.caches||(b.measure.caches=[])).push({}))}return f&&/\bcm-tab\b/.test(e.content.lastChild.className)&&(e.content.className="cm-tab-wrap-hack"),Gf(a,"renderLine",a,b.line,e.pre),e.pre.className&&(e.textClass=tg(e.pre.className,e.textClass||"")),e}function Me(a){var b=kg("span","","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function Ne(a,b,c,f,g,h,i){if(b){var j=a.splitSpaces?b.replace(/ {3,}/g,Oe):b,k=a.cm.state.specialChars,l=!1;if(k.test(b))for(var m=document.createDocumentFragment(),n=0;;){k.lastIndex=n;var o=k.exec(b),p=o?o.index-n:b.length-n;if(p){var q=document.createTextNode(j.slice(n,n+p));d&&9>e?m.appendChild(kg("span",[q])):m.appendChild(q),a.map.push(a.pos,a.pos+p,q),a.col+=p,a.pos+=p}if(!o)break;if(n+=p+1,"	"==o[0]){var r=a.cm.options.tabSize,s=r-a.col%r,q=m.appendChild(kg("span",Xf(s),"cm-tab"));q.setAttribute("role","presentation"),q.setAttribute("cm-text","	"),a.col+=s}else{var q=a.cm.options.specialCharPlaceholder(o[0]);q.setAttribute("cm-text",o[0]),d&&9>e?m.appendChild(kg("span",[q])):m.appendChild(q),a.col+=1}a.map.push(a.pos,a.pos+1,q),a.pos++}else{a.col+=b.length;var m=document.createTextNode(j);a.map.push(a.pos,a.pos+b.length,m),d&&9>e&&(l=!0),a.pos+=b.length}if(c||f||g||l||i){var t=c||"";f&&(t+=f),g&&(t+=g);var u=kg("span",[m],t,i);return h&&(u.title=h),a.content.appendChild(u)}a.content.appendChild(m)}}function Oe(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":"";return b+=" "}function Pe(a,b){return function(c,d,e,f,g,h,i){e=e?e+" cm-force-border":"cm-force-border";for(var j=c.pos,k=j+d.length;;){for(var l=0;l<b.length;l++){var m=b[l];if(m.to>j&&m.from<=j)break}if(m.to>=k)return a(c,d,e,f,g,h,i);a(c,d.slice(0,m.to-j),e,f,null,h,i),f=null,d=d.slice(m.to-j),j=m.to}}}function Qe(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e),!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement("span"))),e.setAttribute("cm-marker",c.id)),e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e)),a.pos+=b}function Re(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m,n=e.length,o=0,p=1,q="",r=0;;){if(r==o){i=j=k=l=h="",m=null,r=1/0;for(var s=[],t=0;t<d.length;++t){var u=d[t],v=u.marker;u.from<=o&&(null==u.to||u.to>o)?(null!=u.to&&r>u.to&&(r=u.to,j=""),v.className&&(i+=" "+v.className),v.css&&(h=v.css),v.startStyle&&u.from==o&&(k+=" "+v.startStyle),v.endStyle&&u.to==r&&(j+=" "+v.endStyle),v.title&&!l&&(l=v.title),v.collapsed&&(!m||ie(m.marker,v)<0)&&(m=u)):u.from>o&&r>u.from&&(r=u.from),"bookmark"==v.type&&u.from==o&&v.widgetNode&&s.push(v)}if(m&&(m.from||0)==o&&(Qe(b,(null==m.to?n+1:m.to)-o,m.marker,null==m.from),null==m.to))return;if(!m&&s.length)for(var t=0;t<s.length;++t)Qe(b,0,s[t])}if(o>=n)break;for(var w=Math.min(n,r);;){if(q){var x=o+q.length;if(!m){var y=x>w?q.slice(0,w-o):q;b.addToken(b,y,g?g+i:i,k,o+y.length==r?j:"",l,h)}if(x>=w){q=q.slice(w-o),o=w;break}o=x,k=""}q=e.slice(f,f=c[p++]),g=Ke(c[p++],b.cm.options)}}else for(var p=1;p<c.length;p+=2)b.addToken(b,e.slice(f,f=c[p]),Ke(c[p+1],b.cm.options))}function Se(a,b){return 0==b.from.ch&&0==b.to.ch&&""==Yf(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Te(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){ye(a,c,e,d),If(a,"change",a,b)}function g(a,b){for(var c=a,f=[];b>c;++c)f.push(new xe(j[c],e(c),d));return f}var h=b.from,i=b.to,j=b.text,k=af(a,h.line),l=af(a,i.line),m=Yf(j),n=e(j.length-1),o=i.line-h.line;if(b.full)a.insert(0,g(0,j.length)),a.remove(j.length,a.size-j.length);else if(Se(a,b)){var p=g(0,j.length-1);f(l,l.text,n),o&&a.remove(h.line,o),p.length&&a.insert(h.line,p)}else if(k==l)if(1==j.length)f(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{var p=g(1,j.length-1);p.push(new xe(m+k.text.slice(i.ch),n,d)),f(k,k.text.slice(0,h.ch)+j[0],e(0)),a.insert(h.line+1,p)}else if(1==j.length)f(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),e(0)),a.remove(h.line+1,o);else{f(k,k.text.slice(0,h.ch)+j[0],e(0)),f(l,m+l.text.slice(i.ch),n);var p=g(1,j.length-1);o>1&&a.remove(h.line+1,o-1),a.insert(h.line+1,p)}If(a,"change",a,b)}function Ue(a){this.lines=a,this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}Ue.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;d>c;++c){var e=this.lines[c];this.height-=e.height,ze(e),If(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0;d<b.length;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}};function Ve(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize(),c+=e.height,e.parent=this}this.size=b,this.height=c,this.parent=null}Ve.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(e>a){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Ue))){var h=[];this.collapse(h),this.children=[new Ue(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>=a){if(e.insertInner(a,b,c),e.lines&&e.lines.length>50){for(;e.lines.length>50;){var g=e.lines.splice(e.lines.length-25,25),h=new Ue(g);e.height-=h.height,this.children.splice(d+1,0,h),h.parent=this}this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Ve(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=$f(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new Ve(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=f}}};var We=0,Xe=v.Doc=function(a,b,c){if(!(this instanceof Xe))return new Xe(a,b,c);null==c&&(c=0),Ve.call(this,[new Ue([new xe("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=c;var d=oa(c,0);this.sel=Ka(d),this.history=new jf(null),this.id=++We,this.modeOption=b,"string"==typeof a&&(a=Dg(a)),Te(this,{from:d,to:d,text:a}),Xa(this,Ka(d),Qf)};Xe.prototype=bg(Ve.prototype,{constructor:Xe,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=cf(this,this.first,this.first+this.size);return a===!1?b:b.join(a||"\n")},setValue:dc(function(a){var b=oa(this.first,0),c=this.first+this.size-1;cd(this,{from:b,to:oa(c,af(this,c).text.length),text:Dg(a),origin:"setValue",full:!0},!0),Xa(this,Ka(b))}),replaceRange:function(a,b,c,d){b=Ma(this,b),c=c?Ma(this,c):b,id(this,a,b,c,d)},getRange:function(a,b,c){var d=bf(this,Ma(this,a),Ma(this,b));return c===!1?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){return Oa(this,a)?af(this,a):void 0},getLineNumber:function(a){return ef(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=af(this,a)),ne(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ma(this,a)},getCursor:function(a){var b,c=this.sel.primary();return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||a===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:dc(function(a,b,c){Ua(this,Ma(this,"number"==typeof a?oa(a,b||0):a),null,c)}),setSelection:dc(function(a,b,c){Ua(this,Ma(this,a),Ma(this,b||a),c)}),extendSelection:dc(function(a,b,c){Ra(this,Ma(this,a),b&&Ma(this,b),c)}),extendSelections:dc(function(a,b){Sa(this,Pa(this,a,b))}),extendSelectionsBy:dc(function(a,b){Sa(this,_f(this.sel.ranges,a),b)}),setSelections:dc(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new Ia(Ma(this,a[d].anchor),Ma(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),Xa(this,Ja(e,b),c)}}),addSelection:dc(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new Ia(Ma(this,a),Ma(this,b||a))),Xa(this,Ja(d,d.length-1),c)}),getSelection:function(a){for(var b,c=this.sel.ranges,d=0;d<c.length;d++){var e=bf(this,c[d].from(),c[d].to());b=b?b.concat(e):e}return a===!1?b:b.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=bf(this,c[d].from(),c[d].to());a!==!1&&(e=e.join(a||"\n")),b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:dc(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:Dg(a[f]),origin:c}}for(var h=b&&"end"!=b&&ad(this,d,b),f=d.length-1;f>=0;f--)cd(this,d[f]);h?Wa(this,h):this.cm&&od(this.cm)}),undo:dc(function(){ed(this,"undo")}),redo:dc(function(){ed(this,"redo")}),undoSelection:dc(function(){ed(this,"undo",!0)}),redoSelection:dc(function(){ed(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new jf(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:uf(this.history.done),undone:uf(this.history.undone)}},setHistory:function(a){var b=this.history=new jf(this.history.maxGeneration);b.done=uf(a.done.slice(0),null,!0),b.undone=uf(a.undone.slice(0),null,!0)},addLineClass:dc(function(a,b,c){return rd(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[d]){if(qg(c).test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:dc(function(a,b,c){return rd(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(qg(c));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:dc(function(a,b,c){return we(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Qd(this,Ma(this,a),Ma(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return a=Ma(this,a),Qd(this,a,a,c,"bookmark")},findMarksAt:function(a){a=Ma(this,a);var b=[],c=af(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=Ma(this,a),b=Ma(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];e==a.line&&a.ch>i.to||null==i.from&&e!=a.line||e==b.line&&i.from>b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,void++c)}),Ma(this,oa(c,b))},indexFromPos:function(a){a=Ma(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new Xe(cf(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new Xe(cf(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Ud(d,Td(this)),d},unlinkDoc:function(a){if(a instanceof v&&(a=a.doc),this.linked)for(var b=0;b<this.linked.length;++b){var c=this.linked[b];if(c.doc==a){this.linked.splice(b,1),a.unlinkDoc(this),Vd(Td(this));break}}if(a.history==this.history){var d=[a.id];$e(a,function(a){d.push(a.id)},!0),a.history=new jf(null),a.history.done=uf(this.history.done,d),a.history.undone=uf(this.history.undone,d)}},iterLinkedDocs:function(a){$e(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Xe.prototype.eachLine=Xe.prototype.iter;var Ye="iter insert remove copy getEditor".split(" ");for(var Ze in Xe.prototype)Xe.prototype.hasOwnProperty(Ze)&&$f(Ye,Ze)<0&&(v.prototype[Ze]=function(a){return function(){return a.apply(this.doc,arguments)}}(Xe.prototype[Ze]));Nf(Xe);function $e(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function _e(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,B(a),x(a),a.options.lineWrapping||H(a),a.options.mode=b.modeOption,gc(a)}function af(a,b){if(b-=a.first,0>b||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(f>b){c=e;break}b-=f}return c.lines[b]}function bf(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function cf(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function df(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function ef(a){if(null==a.parent)return null;for(var b=a.parent,c=$f(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function ff(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(f>b){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var d=0;d<a.lines.length;++d){var g=a.lines[d],h=g.height;if(h>b)break;b-=h}return c+d}function gf(a){a=ne(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var d=0;d<f.children.length;++d){var g=f.children[d];if(g==c)break;b+=g.height}return b}function hf(a){var b=a.order;return null==b&&(b=a.order=Xg(a.text)),b}function jf(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function kf(a,b){var c={from:qa(b.from),to:Yc(b),text:bf(a,b.from,b.to)};return rf(a,c,b.from.line,b.to.line+1),$e(a,function(a){rf(a,c,b.from.line,b.to.line+1)},!0),c}function lf(a){for(;a.length;){var b=Yf(a);if(!b.ranges)break;a.pop()}}function mf(a,b){return b?(lf(a.done),Yf(a.done)):a.done.length&&!Yf(a.done).ranges?Yf(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Yf(a.done)):void 0}function nf(a,b,c,d){var e=a.history;e.undone.length=0;var f,g=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>g-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))&&(f=mf(e,e.lastOp==d))){var h=Yf(f.changes);0==pa(b.from,b.to)&&0==pa(b.from,h.to)?h.to=Yc(b):f.changes.push(kf(a,b))}else{var i=Yf(e.done);for(i&&i.ranges||qf(a.sel,e.done),f={changes:[kf(a,b)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=g,e.lastOp=e.lastSelOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,h||Gf(a,"historyAdded")}function of(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function pf(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastSelOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||of(a,f,Yf(e.done),b))?e.done[e.done.length-1]=b:qf(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastSelOp=c,d&&d.clearRedo!==!1&&lf(e.undone)}function qf(a,b){var c=Yf(b);c&&c.ranges&&c.equals(a)||b.push(a)}function rf(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function sf(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function tf(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(sf(c[d]));return e}function uf(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?Ha.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];e.push({changes:h});for(var i=0;i<g.length;++i){var j,k=g[i];if(h.push({from:k.from,to:k.to,text:k.text
}),b)for(var l in k)(j=l.match(/^spans_(\d+)$/))&&$f(b,Number(j[1]))>-1&&(Yf(h)[l]=k[l],delete k[l])}}}return e}function vf(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function wf(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)vf(f.ranges[h].anchor,b,c,d),vf(f.ranges[h].head,b,c,d)}else{for(var h=0;h<f.changes.length;++h){var i=f.changes[h];if(c<i.from.line)i.from=oa(i.from.line+d,i.from.ch),i.to=oa(i.to.line+d,i.to.ch);else if(b<=i.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function xf(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;wf(a.done,c,d,e),wf(a.undone,c,d,e)}var yf=v.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},zf=v.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};function Af(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}var Bf=v.e_stop=function(a){yf(a),zf(a)};function Cf(a){return a.target||a.srcElement}function Df(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),o&&a.ctrlKey&&1==b&&(b=3),b}var Ef=v.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}},Ff=v.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}},Gf=v.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},Hf=null;function If(a,b){var c=a._handlers&&a._handlers[b];if(c){var d,e=Array.prototype.slice.call(arguments,2);Rb?d=Rb.delayedCallbacks:Hf?d=Hf:(d=Hf=[],setTimeout(Jf,0));function f(a){return function(){a.apply(null,e)}}for(var g=0;g<c.length;++g)d.push(f(c[g]))}}function Jf(){var a=Hf;Hf=null;for(var b=0;b<a.length;++b)a[b]()}function Kf(a,b,c){return"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),Gf(a,c||b.type,a,b),Af(b)||b.codemirrorIgnore}function Lf(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==$f(c,b[d])&&c.push(b[d])}function Mf(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function Nf(a){a.prototype.on=function(a,b){Ef(this,a,b)},a.prototype.off=function(a,b){Ff(this,a,b)}}var Of=30,Pf=v.Pass={toString:function(){return"CodeMirror.Pass"}},Qf={scroll:!1},Rf={origin:"*mouse"},Sf={origin:"+move"};function Tf(){this.id=null}Tf.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var Uf=v.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf("	",f);if(0>h||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}};function Vf(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("	",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}}var Wf=[""];function Xf(a){for(;Wf.length<=a;)Wf.push(Yf(Wf)+" ");return Wf[a]}function Yf(a){return a[a.length-1]}var Zf=function(a){a.select()};m?Zf=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:d&&(Zf=function(a){try{a.select()}catch(b){}});function $f(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function _f(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function ag(){}function bg(a,b){var c;return Object.create?c=Object.create(a):(ag.prototype=a,c=new ag),b&&cg(b,c),c}function cg(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function dg(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}var eg=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fg=v.isWordChar=function(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||eg.test(a))};function gg(a,b){return b?b.source.indexOf("\\w")>-1&&fg(a)?!0:b.test(a):fg(a)}function hg(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}var ig=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function jg(a){return a.charCodeAt(0)>=768&&ig.test(a)}function kg(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}var lg;lg=document.createRange?function(a,b,c,d){var e=document.createRange();return e.setEnd(d||a,c),e.setStart(a,b),e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(e){return d}return d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d};function mg(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function ng(a,b){return mg(a).appendChild(b)}var og=v.contains=function(a,b){if(3==b.nodeType&&(b=b.parentNode),a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)};function pg(){return document.activeElement}d&&11>e&&(pg=function(){try{return document.activeElement}catch(a){return document.body}});function qg(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var rg=v.rmClass=function(a,b){var c=a.className,d=qg(b).exec(c);if(d){var e=c.slice(d.index+d[0].length);a.className=c.slice(0,d.index)+(e?d[1]+e:"")}},sg=v.addClass=function(a,b){var c=a.className;qg(b).test(c)||(a.className+=(c?" ":"")+b)};function tg(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!qg(c[d]).test(b)&&(b+=" "+c[d]);return b}function ug(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}var vg=!1;function wg(){vg||(xg(),vg=!0)}function xg(){var a;Ef(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,ug(oc)},100))}),Ef(window,"blur",function(){ug(Vc)})}var yg,zg=function(){if(d&&9>e)return!1;var a=kg("div");return"draggable"in a||"dragDrop"in a}();function Ag(a){if(null==yg){var b=kg("span","");ng(a,kg("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(yg=b.offsetWidth<=1&&b.offsetHeight>2&&!(d&&8>e))}var c=yg?kg("span",""):kg("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}var Bg;function Cg(a){if(null!=Bg)return Bg;var b=ng(a,document.createTextNode("AA")),c=lg(b,0,1).getBoundingClientRect();if(!c||c.left==c.right)return!1;var d=lg(b,1,2).getBoundingClientRect();return Bg=d.right-c.right<3}var Dg=v.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},Eg=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Fg=function(){var a=kg("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),Gg=null;function Hg(a){if(null!=Gg)return Gg;var b=ng(a,kg("span","x")),c=b.getBoundingClientRect(),d=lg(b,0,1).getBoundingClientRect();return Gg=Math.abs(c.left-d.left)>1}var Ig={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};v.keyNames=Ig,function(){for(var a=0;10>a;a++)Ig[a+48]=Ig[a+96]=String(a);for(var a=65;90>=a;a++)Ig[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)Ig[a+111]=Ig[a+63235]="F"+a}();function Jg(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function Kg(a){return a.level%2?a.to:a.from}function Lg(a){return a.level%2?a.from:a.to}function Mg(a){var b=hf(a);return b?Kg(b[0]):0}function Ng(a){var b=hf(a);return b?Lg(Yf(b)):a.text.length}function Og(a,b){var c=af(a.doc,b),d=ne(c);d!=c&&(b=ef(d));var e=hf(d),f=e?e[0].level%2?Ng(d):Mg(d):0;return oa(b,f)}function Pg(a,b){for(var c,d=af(a.doc,b);c=le(d);)d=c.find(1,!0).line,b=null;var e=hf(d),f=e?e[0].level%2?Mg(d):Ng(d):d.text.length;return oa(null==b?ef(d):b,f)}function Qg(a,b){var c=Og(a,b.line),d=af(a.doc,c.line),e=hf(d);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;return oa(c.line,g?0:f)}return c}function Rg(a,b,c){var d=a[0].level;return b==d?!0:c==d?!1:c>b}var Sg;function Tg(a,b){Sg=null;for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return d;if(e.from==b||e.to==b){if(null!=c)return Rg(a,e.level,a[c].level)?(e.from!=e.to&&(Sg=c),d):(e.from!=e.to&&(Sg=d),c);c=d}}return c}function Ug(a,b,c,d){if(!d)return b+c;do b+=c;while(b>0&&jg(a.text.charAt(b)));return b}function Vg(a,b,c,d){var e=hf(a);if(!e)return Wg(a,b,c,d);for(var f=Tg(e,b),g=e[f],h=Ug(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return Tg(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(g=e[f+=c],!g)return null;h=c>0==g.level%2?Ug(a,g.to,-1,d):Ug(a,g.from,1,d)}}function Wg(a,b,c,d){var e=b+c;if(d)for(;e>0&&jg(a.text.charAt(e));)e+=c;return 0>e||e>a.text.length?null:e}var Xg=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",b="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function c(c){return 247>=c?a.charAt(c):c>=1424&&1524>=c?"R":c>=1536&&1773>=c?b.charAt(c-1536):c>=1774&&2220>=c?"r":c>=8192&&8203>=c?"w":8204==c?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/,i="L";function j(a,b,c){this.level=a,this.from=b,this.to=c}return function(a){if(!d.test(a))return!1;for(var b,k=a.length,l=[],m=0;k>m;++m)l.push(b=c(a.charCodeAt(m)));for(var m=0,n=i;k>m;++m){var b=l[m];"m"==b?l[m]=n:n=b}for(var m=0,o=i;k>m;++m){var b=l[m];"1"==b&&"r"==o?l[m]="n":f.test(b)&&(o=b,"r"==b&&(l[m]="R"))}for(var m=1,n=l[0];k-1>m;++m){var b=l[m];"+"==b&&"1"==n&&"1"==l[m+1]?l[m]="1":","!=b||n!=l[m+1]||"1"!=n&&"n"!=n||(l[m]=n),n=b}for(var m=0;k>m;++m){var b=l[m];if(","==b)l[m]="N";else if("%"==b){for(var p=m+1;k>p&&"%"==l[p];++p);for(var q=m&&"!"==l[m-1]||k>p&&"1"==l[p]?"1":"N",r=m;p>r;++r)l[r]=q;m=p-1}}for(var m=0,o=i;k>m;++m){var b=l[m];"L"==o&&"1"==b?l[m]="L":f.test(b)&&(o=b)}for(var m=0;k>m;++m)if(e.test(l[m])){for(var p=m+1;k>p&&e.test(l[p]);++p);for(var s="L"==(m?l[m-1]:i),t="L"==(k>p?l[p]:i),q=s||t?"L":"R",r=m;p>r;++r)l[r]=q;m=p-1}for(var u,v=[],m=0;k>m;)if(g.test(l[m])){var w=m;for(++m;k>m&&g.test(l[m]);++m);v.push(new j(0,w,m))}else{var x=m,y=v.length;for(++m;k>m&&"L"!=l[m];++m);for(var r=x;m>r;)if(h.test(l[r])){r>x&&v.splice(y,0,new j(1,x,r));var z=r;for(++r;m>r&&h.test(l[r]);++r);v.splice(y,0,new j(2,z,r)),x=r}else++r;m>x&&v.splice(y,0,new j(1,x,m))}return 1==v[0].level&&(u=a.match(/^\s+/))&&(v[0].from=u[0].length,v.unshift(new j(0,0,u[0].length))),1==Yf(v).level&&(u=a.match(/\s+$/))&&(Yf(v).to-=u[0].length,v.push(new j(0,k-u[0].length,k))),v[0].level!=Yf(v).level&&v.push(new j(v[0].level,k,k)),v}}();return v.version="5.1.0",v}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("xml",function(b,c){var d=b.indentUnit,e=c.multilineTagIndentFactor||1,f=c.multilineTagIndentPastTag;null==f&&(f=!0);var g,h,i=c.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},j=c.alignCDATA;function k(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if("<"==d)return a.eat("!")?a.eat("[")?a.match("CDATA[")?c(n("atom","]]>")):null:a.match("--")?c(n("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(o(1))):null:a.eat("?")?(a.eatWhile(/[\w\._\-]/),b.tokenize=n("meta","?>"),"meta"):(g=a.eat("/")?"closeTag":"openTag",b.tokenize=l,"tag bracket");if("&"==d){var e;return e=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),e?"atom":"error"}return a.eatWhile(/[^&<]/),null}function l(a,b){var c=a.next();if(">"==c||"/"==c&&a.eat(">"))return b.tokenize=k,g=">"==c?"endTag":"selfcloseTag","tag bracket";if("="==c)return g="equals",null;if("<"==c){b.tokenize=k,b.state=s,b.tagName=b.tagStart=null;var d=b.tokenize(a,b);return d?d+" tag error":"tag error"}return/[\'\"]/.test(c)?(b.tokenize=m(c),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function m(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=l;break}return"string"};return b.isInAttribute=!0,b}function n(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=k;break}c.next()}return a}}function o(a){return function(b,c){for(var d;null!=(d=b.next());){if("<"==d)return c.tokenize=o(a+1),c.tokenize(b,c);if(">"==d){if(1==a){c.tokenize=k;break}return c.tokenize=o(a-1),c.tokenize(b,c)}}return"meta"}}function p(a,b,c){this.prev=a.context,this.tagName=b,this.indent=a.indented,this.startOfLine=c,(i.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)&&(this.noIndent=!0)}function q(a){a.context&&(a.context=a.context.prev)}function r(a,b){for(var c;;){if(!a.context)return;if(c=a.context.tagName,!i.contextGrabbers.hasOwnProperty(c)||!i.contextGrabbers[c].hasOwnProperty(b))return;q(a)}}function s(a,b,c){return"openTag"==a?(c.tagStart=b.column(),t):"closeTag"==a?u:s}function t(a,b,c){return"word"==a?(c.tagName=b.current(),h="tag",x):(h="error",t)}function u(a,b,c){if("word"==a){var d=b.current();return c.context&&c.context.tagName!=d&&i.implicitlyClosed.hasOwnProperty(c.context.tagName)&&q(c),c.context&&c.context.tagName==d?(h="tag",v):(h="tag error",w)}return h="error",w}function v(a,b,c){return"endTag"!=a?(h="error",v):(q(c),s)}function w(a,b,c){return h="error",v(a,b,c)}function x(a,b,c){if("word"==a)return h="attribute",y;if("endTag"==a||"selfcloseTag"==a){var d=c.tagName,e=c.tagStart;return c.tagName=c.tagStart=null,"selfcloseTag"==a||i.autoSelfClosers.hasOwnProperty(d)?r(c,d):(r(c,d),c.context=new p(c,d,e==c.indented)),s}return h="error",x}function y(a,b,c){return"equals"==a?z:(i.allowMissing||(h="error"),x(a,b,c))}function z(a,b,c){return"string"==a?A:"word"==a&&i.allowUnquoted?(h="string",x):(h="error",x(a,b,c))}function A(a,b,c){return"string"==a?A:x(a,b,c)}return{startState:function(){return{tokenize:k,state:s,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,b){if(!b.tagName&&a.sol()&&(b.indented=a.indentation()),a.eatSpace())return null;g=null;var c=b.tokenize(a,b);return(c||g)&&"comment"!=c&&(h=null,b.state=b.state(g||c,a,b),h&&(c="error"==h?c+" error":h)),c},indent:function(b,c,g){var h=b.context;if(b.tokenize.isInAttribute)return b.tagStart==b.indented?b.stringStartCol+1:b.indented+d;if(h&&h.noIndent)return a.Pass;if(b.tokenize!=l&&b.tokenize!=k)return g?g.match(/^(\s*)/)[0].length:0;if(b.tagName)return f?b.tagStart+b.tagName.length+2:b.tagStart+d*e;if(j&&/<!\[CDATA\[/.test(c))return 0;var m=c&&/^<(\/)?([\w_:\.-]*)/.exec(c);if(m&&m[1])for(;h;){if(h.tagName==m[2]){h=h.prev;break}if(!i.implicitlyClosed.hasOwnProperty(h.tagName))break;h=h.prev}else if(m)for(;h;){var n=i.contextGrabbers[h.tagName];if(!n||!n.hasOwnProperty(m[2]))break;h=h.prev}for(;h&&!h.startOfLine;)h=h.prev;return h?h.indent+d:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml"}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("javascript",function(b,c){var d=b.indentUnit,e=c.statementIndent,f=c.jsonld,g=c.json||f,h=c.typescript,i=c.wordCharacters||/[\w$\xa1-\uffff]/,j=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},g={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),"yield":d,"export":a("export"),"import":a("import"),"extends":d};if(h){var i={type:"variable",style:"variable-3"},j={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),string:i,number:i,bool:i,any:i};for(var k in j)g[k]=j[k]}return g}(),k=/[+\-*&%=<>!?|~^]/,l=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(a){for(var b,c=!1,d=!1;null!=(b=a.next());){if(!c){if("/"==b&&!d)return;"["==b?d=!0:d&&"]"==b&&(d=!1)}c=!c&&"\\"==b}}var n,o;function p(a,b,c){return n=a,o=c,b}function q(a,b){var c=a.next();if('"'==c||"'"==c)return b.tokenize=r(c),b.tokenize(a,b);if("."==c&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return p("number","number");if("."==c&&a.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return p(c);if("="==c&&a.eat(">"))return p("=>","operator");if("0"==c&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),p("number","number");if(/\d/.test(c))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),p("number","number");if("/"==c)return a.eat("*")?(b.tokenize=s,s(a,b)):a.eat("/")?(a.skipToEnd(),p("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(m(a),a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),p("regexp","string-2")):(a.eatWhile(k),p("operator","operator",a.current()));if("`"==c)return b.tokenize=t,t(a,b);if("#"==c)return a.skipToEnd(),p("error","error");if(k.test(c))return a.eatWhile(k),p("operator","operator",a.current());if(i.test(c)){a.eatWhile(i);var d=a.current(),e=j.propertyIsEnumerable(d)&&j[d];return e&&"."!=b.lastType?p(e.type,e.style,d):p("variable","variable",d)}}function r(a){return function(b,c){var d,e=!1;if(f&&"@"==b.peek()&&b.match(l))return c.tokenize=q,p("jsonld-keyword","meta");for(;null!=(d=b.next())&&(d!=a||e);)e=!e&&"\\"==d;return e||(c.tokenize=q),p("string","string")}}function s(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=q;break}d="*"==c}return p("comment","comment")}function t(a,b){for(var c,d=!1;null!=(c=a.next());){if(!d&&("`"==c||"$"==c&&a.eat("{"))){b.tokenize=q;break}d=!d&&"\\"==c}return p("quasi","string-2",a.current())}var u="([{}])";function v(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("=>",a.start);if(!(0>c)){for(var d=0,e=!1,f=c-1;f>=0;--f){var g=a.string.charAt(f),h=u.indexOf(g);if(h>=0&&3>h){if(!d){++f;break}if(0==--d)break}else if(h>=3&&6>h)++d;else if(i.test(g))e=!0;else{if(/["'\/]/.test(g))return;if(e&&!d){++f;break}}}e&&!d&&(b.fatArrowAt=f)}}var w={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0};function x(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function y(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0;for(var d=a.context;d;d=d.prev)for(var c=d.vars;c;c=c.next)if(c.name==b)return!0}function z(a,b,c,d,e){var f=a.cc;for(A.state=a,A.stream=e,A.marked=null,A.cc=f,A.style=b,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var h=f.length?f.pop():g?L:K;if(h(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return A.marked?A.marked:"variable"==c&&y(a,d)?"variable-2":b}}}var A={state:null,column:null,marked:null,cc:null};function B(){for(var a=arguments.length-1;a>=0;a--)A.cc.push(arguments[a])}function C(){return B.apply(null,arguments),!0}function D(a){function b(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var d=A.state;if(d.context){if(A.marked="def",b(d.localVars))return;d.localVars={name:a,next:d.localVars}}else{if(b(d.globalVars))return;c.globalVars&&(d.globalVars={name:a,next:d.globalVars})}}var E={name:"this",next:{name:"arguments"}};function F(){A.state.context={prev:A.state.context,vars:A.state.localVars},A.state.localVars=E}function G(){A.state.localVars=A.state.context.vars,A.state.context=A.state.context.prev}function H(a,b){var c=function(){var c=A.state,d=c.indented;if("stat"==c.lexical.type)d=c.lexical.indented;else for(var e=c.lexical;e&&")"==e.type&&e.align;e=e.prev)d=e.indented;c.lexical=new x(d,A.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function I(){var a=A.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}I.lex=!0;function J(a){function b(c){return c==a?C():";"==a?B():C(b)}return b}function K(a,b){return"var"==a?C(H("vardef",b.length),ea,J(";"),I):"keyword a"==a?C(H("form"),L,K,I):"keyword b"==a?C(H("form"),K,I):"{"==a?C(H("}"),ba,I):";"==a?C():"if"==a?("else"==A.state.lexical.info&&A.state.cc[A.state.cc.length-1]==I&&A.state.cc.pop()(),C(H("form"),L,K,I,ja)):"function"==a?C(pa):"for"==a?C(H("form"),ka,K,I):"variable"==a?C(H("stat"),W):"switch"==a?C(H("form"),L,H("}","switch"),J("{"),ba,I,I):"case"==a?C(L,J(":")):"default"==a?C(J(":")):"catch"==a?C(H("form"),F,J("("),qa,J(")"),K,I,G):"module"==a?C(H("form"),F,va,G,I):"class"==a?C(H("form"),ra,I):"export"==a?C(H("form"),wa,I):"import"==a?C(H("form"),xa,I):B(H("stat"),L,J(";"),I)}function L(a){return N(a,!1)}function M(a){return N(a,!0)}function N(a,b){if(A.state.fatArrowAt==A.stream.start){var c=b?V:U;if("("==a)return C(F,H(")"),_(fa,")"),I,J("=>"),c,G);if("variable"==a)return B(F,fa,J("=>"),c,G)}var d=b?R:Q;return w.hasOwnProperty(a)?C(d):"function"==a?C(pa,d):"keyword c"==a?C(b?P:O):"("==a?C(H(")"),O,Ca,J(")"),I,d):"operator"==a||"spread"==a?C(b?M:L):"["==a?C(H("]"),Aa,I,d):"{"==a?aa(Y,"}",null,d):"quasi"==a?B(S,d):C()}function O(a){return a.match(/[;\}\)\],]/)?B():B(L)}function P(a){return a.match(/[;\}\)\],]/)?B():B(M)}function Q(a,b){return","==a?C(L):R(a,b,!1)}function R(a,b,c){var d=0==c?Q:R,e=0==c?L:M;return"=>"==a?C(F,c?V:U,G):"operator"==a?/\+\+|--/.test(b)?C(d):"?"==b?C(L,J(":"),e):C(e):"quasi"==a?B(S,d):";"!=a?"("==a?aa(M,")","call",d):"."==a?C(X,d):"["==a?C(H("]"),O,J("]"),I,d):void 0:void 0}function S(a,b){return"quasi"!=a?B():"${"!=b.slice(b.length-2)?C(S):C(L,T)}function T(a){return"}"==a?(A.marked="string-2",A.state.tokenize=t,C(S)):void 0}function U(a){return v(A.stream,A.state),B("{"==a?K:L)}function V(a){return v(A.stream,A.state),B("{"==a?K:M)}function W(a){return":"==a?C(I,K):B(Q,J(";"),I)}function X(a){return"variable"==a?(A.marked="property",C()):void 0}function Y(a,b){return"variable"==a||"keyword"==A.style?(A.marked="property",C("get"==b||"set"==b?Z:$)):"number"==a||"string"==a?(A.marked=f?"property":A.style+" property",C($)):"jsonld-keyword"==a?C($):"["==a?C(L,J("]"),$):void 0}function Z(a){return"variable"!=a?B($):(A.marked="property",C(pa))}function $(a){return":"==a?C(M):"("==a?B(pa):void 0}function _(a,b){function c(d){if(","==d){var e=A.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),C(a,c)}return d==b?C():C(J(b))}return function(d){return d==b?C():B(a,c)}}function aa(a,b,c){for(var d=3;d<arguments.length;d++)A.cc.push(arguments[d]);return C(H(b,c),_(a,b),I)}function ba(a){return"}"==a?C():B(K,ba)}function ca(a){return h&&":"==a?C(da):void 0}function da(a){return"variable"==a?(A.marked="variable-3",C()):void 0}function ea(){return B(fa,ca,ha,ia)}function fa(a,b){return"variable"==a?(D(b),C()):"["==a?aa(fa,"]"):"{"==a?aa(ga,"}"):void 0}function ga(a,b){return"variable"!=a||A.stream.match(/^\s*:/,!1)?("variable"==a&&(A.marked="property"),C(J(":"),fa,ha)):(D(b),C(ha))}function ha(a,b){return"="==b?C(M):void 0}function ia(a){return","==a?C(ea):void 0}function ja(a,b){return"keyword b"==a&&"else"==b?C(H("form","else"),K,I):void 0}function ka(a){return"("==a?C(H(")"),la,J(")"),I):void 0}function la(a){return"var"==a?C(ea,J(";"),na):";"==a?C(na):"variable"==a?C(ma):B(L,J(";"),na)}function ma(a,b){return"in"==b||"of"==b?(A.marked="keyword",C(L)):C(Q,na)}function na(a,b){return";"==a?C(oa):"in"==b||"of"==b?(A.marked="keyword",C(L)):B(L,J(";"),oa)}function oa(a){")"!=a&&C(L)}function pa(a,b){return"*"==b?(A.marked="keyword",C(pa)):"variable"==a?(D(b),C(pa)):"("==a?C(F,H(")"),_(qa,")"),I,K,G):void 0}function qa(a){return"spread"==a?C(qa):B(fa,ca)}function ra(a,b){return"variable"==a?(D(b),C(sa)):void 0}function sa(a,b){return"extends"==b?C(L,sa):"{"==a?C(H("}"),ta,I):void 0}function ta(a,b){return"variable"==a||"keyword"==A.style?"static"==b?(A.marked="keyword",C(ta)):(A.marked="property","get"==b||"set"==b?C(ua,pa,ta):C(pa,ta)):"*"==b?(A.marked="keyword",C(ta)):";"==a?C(ta):"}"==a?C():void 0}function ua(a){return"variable"!=a?B():(A.marked="property",C())}function va(a,b){return"string"==a?C(K):"variable"==a?(D(b),C(za)):void 0}function wa(a,b){return"*"==b?(A.marked="keyword",C(za,J(";"))):"default"==b?(A.marked="keyword",C(L,J(";"))):B(K)}function xa(a){return"string"==a?C():B(ya,za)}function ya(a,b){return"{"==a?aa(ya,"}"):("variable"==a&&D(b),C())}function za(a,b){return"from"==b?(A.marked="keyword",C(L)):void 0}function Aa(a){return"]"==a?C():B(M,Ba)}function Ba(a){return"for"==a?B(Ca,J("]")):","==a?C(_(P,"]")):B(_(M,"]"))}function Ca(a){return"for"==a?C(ka,Ca):"if"==a?C(L,Ca):void 0}function Da(a,b){return"operator"==a.lastType||","==a.lastType||k.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}return{startState:function(a){var b={tokenize:q,lastType:"sof",cc:[],lexical:new x((a||0)-d,0,"block",!1),localVars:c.localVars,context:c.localVars&&{vars:c.localVars},indented:0};return c.globalVars&&"object"==typeof c.globalVars&&(b.globalVars=c.globalVars),b},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),v(a,b)),b.tokenize!=s&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==n?c:(b.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",z(b,c,n,o,a))},indent:function(b,f){if(b.tokenize==s)return a.Pass;if(b.tokenize!=q)return 0;var g=f&&f.charAt(0),h=b.lexical;if(!/^\s*else\b/.test(f))for(var i=b.cc.length-1;i>=0;--i){var j=b.cc[i];if(j==I)h=h.prev;else if(j!=ja)break}"stat"==h.type&&"}"==g&&(h=h.prev),e&&")"==h.type&&"stat"==h.prev.type&&(h=h.prev);var k=h.type,l=g==k;return"vardef"==k?h.indented+("operator"==b.lastType||","==b.lastType?h.info+1:0):"form"==k&&"{"==g?h.indented:"form"==k?h.indented+d:"stat"==k?h.indented+(Da(b,f)?e||d:0):"switch"!=h.info||l||0==c.doubleIndentSwitch?h.align?h.column+(l?0:1):h.indented+(l?0:d):h.indented+(/^(?:case|default)\b/.test(f)?d:2*d)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:g?null:"/*",blockCommentEnd:g?null:"*/",lineComment:g?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:g?"json":"javascript",jsonldMode:f,jsonMode:g}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("css",function(b,c){c.propertyKeywords||(c=a.resolveMode("text/css"));
var d,e,f=b.indentUnit,g=c.tokenHooks,h=c.documentTypes||{},i=c.mediaTypes||{},j=c.mediaFeatures||{},k=c.propertyKeywords||{},l=c.nonStandardPropertyKeywords||{},m=c.fontProperties||{},n=c.counterDescriptors||{},o=c.colorKeywords||{},p=c.valueKeywords||{},q=c.allowNested;function r(a,b){return d=b,a}function s(a,b){var c=a.next();if(g[c]){var d=g[c](a,b);if(d!==!1)return d}return"@"==c?(a.eatWhile(/[\w\\\-]/),r("def",a.current())):"="==c||("~"==c||"|"==c)&&a.eat("=")?r(null,"compare"):'"'==c||"'"==c?(b.tokenize=t(c),b.tokenize(a,b)):"#"==c?(a.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==c?(a.match(/^\s*\w*/),r("keyword","important")):/\d/.test(c)||"."==c&&a.eat(/\d/)?(a.eatWhile(/[\w.%]/),r("number","unit")):"-"!==c?/[,+>*\/]/.test(c)?r(null,"select-op"):"."==c&&a.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(c)?r(null,c):"u"==c&&a.match(/rl(-prefix)?\(/)||"d"==c&&a.match("omain(")||"r"==c&&a.match("egexp(")?(a.backUp(1),b.tokenize=u,r("property","word")):/[\w\\\-]/.test(c)?(a.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(a.peek())?(a.eatWhile(/[\w.%]/),r("number","unit")):a.match(/^-[\w\\\-]+/)?(a.eatWhile(/[\w\\\-]/),a.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):a.match(/^\w+-/)?r("meta","meta"):void 0}function t(a){return function(b,c){for(var d,e=!1;null!=(d=b.next());){if(d==a&&!e){")"==a&&b.backUp(1);break}e=!e&&"\\"==d}return(d==a||!e&&")"!=a)&&(c.tokenize=null),r("string","string")}}function u(a,b){return a.next(),a.match(/\s*[\"\')]/,!1)?b.tokenize=null:b.tokenize=t(")"),r(null,"(")}function v(a,b,c){this.type=a,this.indent=b,this.prev=c}function w(a,b,c){return a.context=new v(c,b.indentation()+f,a.context),c}function x(a){return a.context=a.context.prev,a.context.type}function y(a,b,c){return B[c.context.type](a,b,c)}function z(a,b,c,d){for(var e=d||1;e>0;e--)c.context=c.context.prev;return y(a,b,c)}function A(a){var b=a.current().toLowerCase();e=p.hasOwnProperty(b)?"atom":o.hasOwnProperty(b)?"keyword":"variable"}var B={};return B.top=function(a,b,c){if("{"==a)return w(c,b,"block");if("}"==a&&c.context.prev)return x(c);if(/@(media|supports|(-moz-)?document)/.test(a))return w(c,b,"atBlock");if(/@(font-face|counter-style)/.test(a))return c.stateArg=a,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(a))return"keyframes";if(a&&"@"==a.charAt(0))return w(c,b,"at");if("hash"==a)e="builtin";else if("word"==a)e="tag";else{if("variable-definition"==a)return"maybeprop";if("interpolation"==a)return w(c,b,"interpolation");if(":"==a)return"pseudo";if(q&&"("==a)return w(c,b,"parens")}return c.context.type},B.block=function(a,b,c){if("word"==a){var d=b.current().toLowerCase();return k.hasOwnProperty(d)?(e="property","maybeprop"):l.hasOwnProperty(d)?(e="string-2","maybeprop"):q?(e=b.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(e+=" error","maybeprop")}return"meta"==a?"block":q||"hash"!=a&&"qualifier"!=a?B.top(a,b,c):(e="error","block")},B.maybeprop=function(a,b,c){return":"==a?w(c,b,"prop"):y(a,b,c)},B.prop=function(a,b,c){if(";"==a)return x(c);if("{"==a&&q)return w(c,b,"propBlock");if("}"==a||"{"==a)return z(a,b,c);if("("==a)return w(c,b,"parens");if("hash"!=a||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(b.current())){if("word"==a)A(b);else if("interpolation"==a)return w(c,b,"interpolation")}else e+=" error";return"prop"},B.propBlock=function(a,b,c){return"}"==a?x(c):"word"==a?(e="property","maybeprop"):c.context.type},B.parens=function(a,b,c){return"{"==a||"}"==a?z(a,b,c):")"==a?x(c):"("==a?w(c,b,"parens"):"interpolation"==a?w(c,b,"interpolation"):("word"==a&&A(b),"parens")},B.pseudo=function(a,b,c){return"word"==a?(e="variable-3",c.context.type):y(a,b,c)},B.atBlock=function(a,b,c){if("("==a)return w(c,b,"atBlock_parens");if("}"==a)return z(a,b,c);if("{"==a)return x(c)&&w(c,b,q?"block":"top");if("word"==a){var d=b.current().toLowerCase();e="only"==d||"not"==d||"and"==d||"or"==d?"keyword":h.hasOwnProperty(d)?"tag":i.hasOwnProperty(d)?"attribute":j.hasOwnProperty(d)?"property":k.hasOwnProperty(d)?"property":l.hasOwnProperty(d)?"string-2":p.hasOwnProperty(d)?"atom":"error"}return c.context.type},B.atBlock_parens=function(a,b,c){return")"==a?x(c):"{"==a||"}"==a?z(a,b,c,2):B.atBlock(a,b,c)},B.restricted_atBlock_before=function(a,b,c){return"{"==a?w(c,b,"restricted_atBlock"):"word"==a&&"@counter-style"==c.stateArg?(e="variable","restricted_atBlock_before"):y(a,b,c)},B.restricted_atBlock=function(a,b,c){return"}"==a?(c.stateArg=null,x(c)):"word"==a?(e="@font-face"==c.stateArg&&!m.hasOwnProperty(b.current().toLowerCase())||"@counter-style"==c.stateArg&&!n.hasOwnProperty(b.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},B.keyframes=function(a,b,c){return"word"==a?(e="variable","keyframes"):"{"==a?w(c,b,"top"):y(a,b,c)},B.at=function(a,b,c){return";"==a?x(c):"{"==a||"}"==a?z(a,b,c):("word"==a?e="tag":"hash"==a&&(e="builtin"),"at")},B.interpolation=function(a,b,c){return"}"==a?x(c):"{"==a||";"==a?z(a,b,c):("variable"!=a&&(e="error"),"interpolation")},{startState:function(a){return{tokenize:null,state:"top",stateArg:null,context:new v("top",a||0,null)}},token:function(a,b){if(!b.tokenize&&a.eatSpace())return null;var c=(b.tokenize||s)(a,b);return c&&"object"==typeof c&&(d=c[1],c=c[0]),e=c,b.state=B[b.state](d,a,b),e},indent:function(a,b){var c=a.context,d=b&&b.charAt(0),e=c.indent;return"prop"!=c.type||"}"!=d&&")"!=d||(c=c.prev),!c.prev||("}"!=d||"block"!=c.type&&"top"!=c.type&&"interpolation"!=c.type&&"restricted_atBlock"!=c.type)&&(")"!=d||"parens"!=c.type&&"atBlock_parens"!=c.type)&&("{"!=d||"at"!=c.type&&"atBlock"!=c.type)||(e=c.indent-f,c=c.prev),e},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});function b(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=!0;return b}var c=["domain","regexp","url","url-prefix"],d=b(c),e=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],f=b(e),g=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],h=b(g),i=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],j=b(i),k=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],l=b(k),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],n=b(m),o=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],p=b(o),q=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],r=b(q),s=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],t=b(s),u=c.concat(e).concat(g).concat(i).concat(k).concat(q).concat(s);a.registerHelper("hintWords","css",u);function v(a,b){for(var c,d=!1;null!=(c=a.next());){if(d&&"/"==c){b.tokenize=null;break}d="*"==c}return["comment","comment"]}function w(a,b){return a.skipTo("-->")?(a.match("-->"),b.tokenize=null):a.skipToEnd(),["comment","comment"]}a.defineMIME("text/css",{documentTypes:d,mediaTypes:f,mediaFeatures:h,propertyKeywords:j,nonStandardPropertyKeywords:l,fontProperties:n,counterDescriptors:p,colorKeywords:r,valueKeywords:t,tokenHooks:{"<":function(a,b){return a.match("!--")?(b.tokenize=w,w(a,b)):!1},"/":function(a,b){return a.eat("*")?(b.tokenize=v,v(a,b)):!1}},name:"css"}),a.defineMIME("text/x-scss",{mediaTypes:f,mediaFeatures:h,propertyKeywords:j,nonStandardPropertyKeywords:l,colorKeywords:r,valueKeywords:t,fontProperties:n,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=v,v(a,b)):["operator","operator"]},":":function(a){return a.match(/\s*\{/)?[null,"{"]:!1},$:function(a){return a.match(/^[\w-]+/),a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(a){return a.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),a.defineMIME("text/x-less",{mediaTypes:f,mediaFeatures:h,propertyKeywords:j,nonStandardPropertyKeywords:l,colorKeywords:r,valueKeywords:t,fontProperties:n,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=v,v(a,b)):["operator","operator"]},"@":function(a){return a.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(a.eatWhile(/[\w\\\-]/),a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("clike",function(b,c){var d,e=b.indentUnit,f=c.statementIndentUnit||e,g=c.dontAlignCalls,h=c.keywords||{},i=c.builtin||{},j=c.blockKeywords||{},k=c.atoms||{},l=c.hooks||{},m=c.multiLineStrings,n=c.indentStatements!==!1,o=/[+\-*&%=<>!?|\/]/;function p(a,b){var c=a.next();if(l[c]){var e=l[c](a,b);if(e!==!1)return e}if('"'==c||"'"==c)return b.tokenize=q(c),b.tokenize(a,b);if(/[\[\]{}\(\),;\:\.]/.test(c))return d=c,null;if(/\d/.test(c))return a.eatWhile(/[\w\.]/),"number";if("/"==c){if(a.eat("*"))return b.tokenize=r,r(a,b);if(a.eat("/"))return a.skipToEnd(),"comment"}if(o.test(c))return a.eatWhile(o),"operator";a.eatWhile(/[\w\$_\xa1-\uffff]/);var f=a.current();return h.propertyIsEnumerable(f)?(j.propertyIsEnumerable(f)&&(d="newstatement"),"keyword"):i.propertyIsEnumerable(f)?(j.propertyIsEnumerable(f)&&(d="newstatement"),"builtin"):k.propertyIsEnumerable(f)?"atom":"variable"}function q(a){return function(b,c){for(var d,e=!1,f=!1;null!=(d=b.next());){if(d==a&&!e){f=!0;break}e=!e&&"\\"==d}return(f||!e&&!m)&&(c.tokenize=null),"string"}}function r(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=null;break}d="*"==c}return"comment"}function s(a,b,c,d,e){this.indented=a,this.column=b,this.type=c,this.align=d,this.prev=e}function t(a,b,c){var d=a.indented;return a.context&&"statement"==a.context.type&&(d=a.context.indented),a.context=new s(d,b,c,null,a.context)}function u(a){var b=a.context.type;return(")"==b||"]"==b||"}"==b)&&(a.indented=a.context.indented),a.context=a.context.prev}return{startState:function(a){return{tokenize:null,context:new s((a||0)-e,0,"top",!1),indented:0,startOfLine:!0}},token:function(a,b){var c=b.context;if(a.sol()&&(null==c.align&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0),a.eatSpace())return null;d=null;var e=(b.tokenize||p)(a,b);if("comment"==e||"meta"==e)return e;if(null==c.align&&(c.align=!0),";"!=d&&":"!=d&&","!=d||"statement"!=c.type)if("{"==d)t(b,a.column(),"}");else if("["==d)t(b,a.column(),"]");else if("("==d)t(b,a.column(),")");else if("}"==d){for(;"statement"==c.type;)c=u(b);for("}"==c.type&&(c=u(b));"statement"==c.type;)c=u(b)}else d==c.type?u(b):n&&(("}"==c.type||"top"==c.type)&&";"!=d||"statement"==c.type&&"newstatement"==d)&&t(b,a.column(),"statement");else u(b);return b.startOfLine=!1,e},indent:function(b,c){if(b.tokenize!=p&&null!=b.tokenize)return a.Pass;var d=b.context,h=c&&c.charAt(0);"statement"==d.type&&"}"==h&&(d=d.prev);var i=h==d.type;return"statement"==d.type?d.indented+("{"==h?0:f):!d.align||g&&")"==d.type?")"!=d.type||i?d.indented+(i?0:e):d.indented+f:d.column+(i?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});function b(a){for(var b={},c=a.split(" "),d=0;d<c.length;++d)b[c[d]]=!0;return b}var c="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";function d(a,b){if(!b.startOfLine)return!1;for(;;){if(!a.skipTo("\\")){a.skipToEnd(),b.tokenize=null;break}if(a.next(),a.eol()){b.tokenize=d;break}}return"meta"}function e(a,b){if(a.backUp(1),a.match(/(R|u8R|uR|UR|LR)/)){var c=a.match(/"([^\s\\()]{0,16})\(/);return c?(b.cpp11RawStringDelim=c[1],b.tokenize=g,g(a,b)):!1}return a.match(/(u8|u|U|L)/)?a.match(/["']/,!1)?"string":!1:(a.next(),!1)}function f(a,b){for(var c;null!=(c=a.next());)if('"'==c&&!a.eat('"')){b.tokenize=null;break}return"string"}function g(a,b){var c=b.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),d=a.match(new RegExp(".*?\\)"+c+'"'));return d?b.tokenize=null:a.skipToEnd(),"string"}function h(b,c){"string"==typeof b&&(b=[b]);var d=[];function e(a){if(a)for(var b in a)a.hasOwnProperty(b)&&d.push(b)}e(c.keywords),e(c.builtin),e(c.atoms),d.length&&(c.helperType=b[0],a.registerHelper("hintWords",b[0],d));for(var f=0;f<b.length;++f)a.defineMIME(b[f],c)}h(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:b(c),blockKeywords:b("case do else for if switch while struct"),atoms:b("null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),h(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:b(c+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:b("catch class do else finally for if struct switch try while"),atoms:b("true false null"),hooks:{"#":d,u:e,U:e,L:e,R:e},modeProps:{fold:["brace","include"]}}),h("text/x-java",{name:"clike",keywords:b("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:b("catch class do else finally for if switch try while"),atoms:b("true false null"),hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),h("text/x-csharp",{name:"clike",keywords:b("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:b("catch class do else finally for foreach if struct switch try while"),builtin:b("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:b("true false null"),hooks:{"@":function(a,b){return a.eat('"')?(b.tokenize=f,f(a,b)):(a.eatWhile(/[\w\$_]/),"meta")}}});function i(a,b){for(var c=!1;!a.eol();){if(!c&&a.match('"""')){b.tokenize=null;break}c="\\"==a.next()&&!c}return"string"}h("text/x-scala",{name:"clike",keywords:b("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:b("catch class do else finally for forSome if match switch try while"),atoms:b("true false null"),indentStatements:!1,hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"},'"':function(a,b){return a.match('""')?(b.tokenize=i,b.tokenize(a,b)):!1},"'":function(a){return a.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"}},modeProps:{closeBrackets:{triples:'"'}}}),h(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:b("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:b("for while do if else struct"),builtin:b("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:b("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),
hooks:{"#":d},modeProps:{fold:["brace","include"]}}),h("text/x-nesc",{name:"clike",keywords:b(c+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),blockKeywords:b("case do else for if switch while struct"),atoms:b("null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),h("text/x-objectivec",{name:"clike",keywords:b(c+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),atoms:b("YES NO NULL NILL ON OFF"),hooks:{"@":function(a){return a.eatWhile(/[\w\$]/),"keyword"},"#":d},modeProps:{fold:"brace"}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a):a(CodeMirror)}(function(a){a.defineMode("htmlmixed",function(b,c){var d=a.getMode(b,{name:"xml",htmlMode:!0,multilineTagIndentFactor:c.multilineTagIndentFactor,multilineTagIndentPastTag:c.multilineTagIndentPastTag}),e=a.getMode(b,"css"),f=[],g=c&&c.scriptTypes;if(f.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:a.getMode(b,"javascript")}),g)for(var h=0;h<g.length;++h){var i=g[h];f.push({matches:i.matches,mode:i.mode&&a.getMode(b,i.mode)})}f.push({matches:/./,mode:a.getMode(b,"text/plain")});function j(a,b){var c=b.htmlState.tagName;c&&(c=c.toLowerCase());var g=d.token(a,b.htmlState);if("script"==c&&/\btag\b/.test(g)&&">"==a.current()){var h=a.string.slice(Math.max(0,a.pos-100),a.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);h=h?h[1]:"",h&&/[\"\']/.test(h.charAt(0))&&(h=h.slice(1,h.length-1));for(var i=0;i<f.length;++i){var j=f[i];if("string"==typeof j.matches?h==j.matches:j.matches.test(h)){j.mode&&(b.token=l,b.localMode=j.mode,b.localState=j.mode.startState&&j.mode.startState(d.indent(b.htmlState,"")));break}}}else"style"==c&&/\btag\b/.test(g)&&">"==a.current()&&(b.token=m,b.localMode=e,b.localState=e.startState(d.indent(b.htmlState,"")));return g}function k(a,b,c){var d,e=a.current(),f=e.search(b);return f>-1?a.backUp(e.length-f):(d=e.match(/<\/?$/))&&(a.backUp(e.length),a.match(b,!1)||a.match(e)),c}function l(a,b){return a.match(/^<\/\s*script\s*>/i,!1)?(b.token=j,b.localState=b.localMode=null,null):k(a,/<\/\s*script\s*>/,b.localMode.token(a,b.localState))}function m(a,b){return a.match(/^<\/\s*style\s*>/i,!1)?(b.token=j,b.localState=b.localMode=null,null):k(a,/<\/\s*style\s*>/,e.token(a,b.localState))}return{startState:function(){var a=d.startState();return{token:j,localMode:null,localState:null,htmlState:a}},copyState:function(b){if(b.localState)var c=a.copyState(b.localMode,b.localState);return{token:b.token,localMode:b.localMode,localState:c,htmlState:a.copyState(d,b.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(b,c){return!b.localMode||/^\s*<\//.test(c)?d.indent(b.htmlState,c):b.localMode.indent?b.localMode.indent(b.localState,c):a.Pass},innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.localMode||d}}}},"xml","javascript","css"),a.defineMIME("text/html","htmlmixed")}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],a):a(CodeMirror)}(function(a){a.defineMode("htmlembedded",function(b,c){return a.multiplexingMode(a.getMode(b,"htmlmixed"),{open:c.open||c.scriptStartRegex||"<%",close:c.close||c.scriptEndRegex||"%>",mode:a.getMode(b,c.scriptingModeSpec)})},"htmlmixed"),a.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),a.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),a.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),a.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){var b="CodeMirror-lint-markers";function c(b,c){var d=document.createElement("div");d.className="CodeMirror-lint-tooltip",d.appendChild(c.cloneNode(!0)),document.body.appendChild(d);function e(b){return d.parentNode?(d.style.top=Math.max(0,b.clientY-d.offsetHeight-5)+"px",void(d.style.left=b.clientX+5+"px")):a.off(document,"mousemove",e)}return a.on(document,"mousemove",e),e(b),null!=d.style.opacity&&(d.style.opacity=1),d}function d(a){a.parentNode&&a.parentNode.removeChild(a)}function e(a){a.parentNode&&(null==a.style.opacity&&d(a),a.style.opacity=0,setTimeout(function(){d(a)},600))}function f(b,d,f){var g=c(b,d);function h(){a.off(f,"mouseout",h),g&&(e(g),g=null)}var i=setInterval(function(){if(g)for(var a=f;;a=a.parentNode){if(a&&11==a.nodeType&&(a=a.host),a==document.body)return;if(!a){h();break}}return g?void 0:clearInterval(i)},400);a.on(f,"mouseout",h)}function g(a,b,c){this.marked=[],this.options=b,this.timeout=null,this.hasGutter=c,this.onMouseOver=function(b){r(a,b)}}function h(b,c){if(c instanceof Function)return{getAnnotations:c};if(c&&c!==!0||(c={}),c.getAnnotations||(c.getAnnotations=b.getHelper(a.Pos(0,0),"lint")),!c.getAnnotations)throw new Error("Required option 'getAnnotations' missing (lint addon)");return c}function i(a){var c=a.state.lint;c.hasGutter&&a.clearGutter(b);for(var d=0;d<c.marked.length;++d)c.marked[d].clear();c.marked.length=0}function j(b,c,d,e){var g=document.createElement("div"),h=g;return g.className="CodeMirror-lint-marker-"+c,d&&(h=g.appendChild(document.createElement("div")),h.className="CodeMirror-lint-marker-multiple"),0!=e&&a.on(h,"mouseover",function(a){f(a,b,h)}),g}function k(a,b){return"error"==a?a:b}function l(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e=d.from.line;(b[e]||(b[e]=[])).push(d)}return b}function m(a){var b=a.severity;b||(b="error");var c=document.createElement("div");return c.className="CodeMirror-lint-message-"+b,c.appendChild(document.createTextNode(a.message)),c}function n(a){var b=a.state.lint,c=b.options,d=c.options||c;c.async||c.getAnnotations.async?c.getAnnotations(a.getValue(),o,d,a):o(a,c.getAnnotations(a.getValue(),d,a))}function o(a,c){i(a);for(var d=a.state.lint,e=d.options,f=l(c),g=0;g<f.length;++g){var h=f[g];if(h){for(var n=null,o=d.hasGutter&&document.createDocumentFragment(),p=0;p<h.length;++p){var q=h[p],r=q.severity;r||(r="error"),n=k(n,r),e.formatAnnotation&&(q=e.formatAnnotation(q)),d.hasGutter&&o.appendChild(m(q)),q.to&&d.marked.push(a.markText(q.from,q.to,{className:"CodeMirror-lint-mark-"+r,__annotation:q}))}d.hasGutter&&a.setGutterMarker(g,b,j(o,n,h.length>1,d.options.tooltips))}}e.onUpdateLinting&&e.onUpdateLinting(c,f,a)}function p(a){var b=a.state.lint;b&&(clearTimeout(b.timeout),b.timeout=setTimeout(function(){n(a)},b.options.delay||500))}function q(a,b){var c=b.target||b.srcElement;f(b,m(a),c)}function r(a,b){var c=b.target||b.srcElement;if(/\bCodeMirror-lint-mark-/.test(c.className))for(var d=c.getBoundingClientRect(),e=(d.left+d.right)/2,f=(d.top+d.bottom)/2,g=a.findMarksAt(a.coordsChar({left:e,top:f},"client")),h=0;h<g.length;++h){var i=g[h].__annotation;if(i)return q(i,b)}}a.defineOption("lint",!1,function(c,d,e){if(e&&e!=a.Init&&(i(c),c.off("change",p),a.off(c.getWrapperElement(),"mouseover",c.state.lint.onMouseOver),clearTimeout(c.state.lint.timeout),delete c.state.lint),d){for(var f=c.getOption("gutters"),j=!1,k=0;k<f.length;++k)f[k]==b&&(j=!0);var l=c.state.lint=new g(c,h(c,d),j);c.on("change",p),0!=l.options.tooltips&&a.on(c.getWrapperElement(),"mouseover",l.onMouseOver),n(c)}})}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){var b=["Dangerous comment"],c=[["Expected '{'","Statement body should be inside '{ }' braces."]],d=["Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"];function e(a,b){if(!window.JSHINT)return[];JSHINT(a,b);var c=JSHINT.data().errors,d=[];return c&&i(c,d),d}a.registerHelper("lint","javascript",e);function f(a){return g(a,c,"warning",!0),g(a,d,"error"),h(a)?null:a}function g(a,b,c,d){var e,f,g,h,i;e=a.description;for(var j=0;j<b.length;j++)f=b[j],g="string"==typeof f?f:f[0],h="string"==typeof f?null:f[1],i=-1!==e.indexOf(g),(d||i)&&(a.severity=c),i&&h&&(a.description=h)}function h(a){for(var c=a.description,d=0;d<b.length;d++)if(-1!==c.indexOf(b[d]))return!0;return!1}function i(b,c){for(var d=0;d<b.length;d++){var e=b[d];if(e){var g,h;if(g=[],e.evidence){var i=g[e.line];if(!i){var j=e.evidence;i=[],Array.prototype.forEach.call(j,function(a,b){"	"===a&&i.push(b+1)}),g[e.line]=i}if(i.length>0){var k=e.character;i.forEach(function(a){k>a&&(k-=1)}),e.character=k}}var l=e.character-1,m=l+1;e.evidence&&(h=e.evidence.substring(l).search(/.\b/),h>-1&&(m+=h)),e.description=e.reason,e.start=e.character,e.end=m,e=f(e),e&&c.push({message:e.description,severity:e.severity,from:a.Pos(e.line-1,l),to:a.Pos(e.line-1,m)})}}}}),function(a,b,c){b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){b(c.offsetWidth)})}}]).config(["$provide","$animateProvider",function(d,e){var f=b.noop,g=b.forEach,h=e.$$selectors,i=b.isArray,j=b.isString,k=b.isObject,l=1,m="$$ngAnimateState",n="$$ngAnimateChildren",o="ng-animate",p={running:!0};function q(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==l)return c}}function r(a){return a&&b.element(a)}function s(a){return b.element(q(a))}function t(a,b){return q(a)==q(b)}var u;d.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(a,c,d,l,v,w,x,y,z,A){u=A,v.data(m,p);var B=x.$watch(function(){return z.totalPendingRequests},function(a,b){0===a&&(B(),x.$$postDigest(function(){x.$$postDigest(function(){p.running=!1})}))}),C=0,D=e.classNameFilter(),E=D?function(a){return D.test(a)}:function(){return!0};function F(a,b){var c=a.data(m)||{};return b&&(c.running=!0,c.structural=!0,a.data(m,c)),c.disabled||c.running&&c.structural}function G(a){var b,d=c.defer();return d.promise.$$cancelFn=function(){b&&b()},x.$$postDigest(function(){b=a(function(){d.resolve()})}),d.promise}function H(a){return k(a)?(a.tempClasses&&j(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a):void 0}function I(a,b,c){c=c||{};var d={};g(c,function(a,b){g(b.split(" "),function(b){d[b]=a})});var e=Object.create(null);g((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0});var f=[],h=[];return g(b&&b.classes||[],function(a,b){var c=e[b],g=d[b]||{};a===!1?(c||"addClass"==g.event)&&h.push(b):a===!0&&(c&&"removeClass"!=g.event||f.push(b))}),f.length+h.length>0&&[f.join(" "),h.join(" ")]}function J(a){if(a){var b=[],c={},e=a.substr(1).split(".");(l.transitions||l.animations)&&b.push(d.get(h[""]));for(var f=0;f<e.length;f++){var g=e[f],i=h[g];i&&!c[g]&&(b.push(d.get(i)),c[g]=!0)}return b}}function K(a,c,d,e){var h=a[0];if(h){e&&(e.to=e.to||{},e.from=e.from||{});var j,k;i(d)&&(j=d[0],k=d[1],j?k?d=j+" "+k:(d=j,c="addClass"):(d=k,c="removeClass"));var l="setClass"==c,m=l||"addClass"==c||"removeClass"==c||"animate"==c,n=a.attr("class"),o=n+" "+d;if(E(o)){var p=f,q=[],r=[],s=f,t=[],u=[],v=(" "+o).replace(/\s+/g,".");g(J(v),function(a){var b=w(a,c);!b&&l&&(w(a,"addClass"),w(a,"removeClass"))});function w(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),u.push({event:b,fn:c}),r.push({event:b,fn:d}),!0):void 0}function x(b,c,h){var i=[];g(b,function(a){a.fn&&i.push(a)});var l=0;function m(a){if(c){if((c[a]||f)(),++l<i.length)return;c=null}h()}g(i,function(b,f){var g=function(){m(f)};switch(b.event){case"setClass":c.push(b.fn(a,j,k,g,e));break;case"animate":c.push(b.fn(a,d,e.from,e.to,g));break;case"addClass":c.push(b.fn(a,j||d,g,e));break;case"removeClass":c.push(b.fn(a,k||d,g,e));break;default:c.push(b.fn(a,g,e))}}),c&&0===c.length&&h()}return{node:h,event:c,className:d,isClassBased:m,isSetClassOperation:l,applyStyles:function(){e&&a.css(b.extend(e.from||{},e.to||{}))},before:function(a){p=a,x(r,q,function(){p=f,a()})},after:function(a){s=a,x(u,t,function(){s=f,a()})},cancel:function(){q&&(g(q,function(a){(a||f)(!0)}),p(!0)),t&&(g(t,function(a){(a||f)(!0)}),s(!0))}}}}}return{animate:function(a,b,c,d,e){return d=d||"ng-inline-animate",e=H(e)||{},e.from=c?b:null,e.to=c?c:b,G(function(b){return L("animate",d,s(a),null,null,f,e,b)})},enter:function(c,d,e,g){return g=H(g),c=b.element(c),d=r(d),e=r(e),F(c,!0),a.enter(c,d,e),G(function(a){return L("enter","ng-enter",s(c),d,e,f,g,a)})},leave:function(c,d){return d=H(d),c=b.element(c),M(c),F(c,!0),G(function(b){return L("leave","ng-leave",s(c),null,null,function(){a.leave(c)},d,b)})},move:function(c,d,e,g){return g=H(g),c=b.element(c),d=r(d),e=r(e),M(c),F(c,!0),a.move(c,d,e),G(function(a){return L("move","ng-move",s(c),d,e,f,g,a)})},addClass:function(a,b,c){return this.setClass(a,b,[],c)},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},setClass:function(c,d,e,f){f=H(f);var h="$$animateClasses";if(c=b.element(c),c=s(c),F(c))return a.$$setClassImmediately(c,d,e,f);var j,k=c.data(h),l=!!k;return k||(k={},k.classes={}),j=k.classes,d=i(d)?d:d.split(" "),g(d,function(a){a&&a.length&&(j[a]=!0)}),e=i(e)?e:e.split(" "),g(e,function(a){a&&a.length&&(j[a]=!1)}),l?(f&&k.options&&(k.options=b.extend(k.options||{},f)),k.promise):(c.data(h,k={classes:j,options:f}),k.promise=G(function(b){var d=c.parent(),e=q(c),f=e.parentNode;if(!f||f.$$NG_REMOVED||e.$$NG_REMOVED)return void b();var g=c.data(h);c.removeData(h);var i=c.data(m)||{},j=I(c,g,i.active);return j?L("setClass",j,c,d,null,function(){j[0]&&a.$$addClassImmediately(c,j[0]),j[1]&&a.$$removeClassImmediately(c,j[1])},g.options,b):b()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,b){switch(arguments.length){case 2:if(a)N(b);else{var c=b.data(m)||{};c.disabled=!0,b.data(m,c)}break;case 1:p.disabled=!a;break;default:a=!p.disabled}return!!a}};function L(a,c,d,e,h,i,j,k){var l=f,n=K(d,a,c,j);if(!n)return G(),D(),E(),H(),l;a=n.event,c=n.className;var p=b.element._data(n.node);if(p=p&&p.events,e||(e=h?h.parent():d.parent()),O(d,e))return G(),D(),E(),H(),l;var q=d.data(m)||{},r=q.active||{},s=q.totalActive||0,t=q.last,v=!1;if(s>0){var x=[];if(n.isClassBased){if("setClass"==t.event)x.push(t),N(d,c);else if(r[c]){var y=r[c];y.event==a?v=!0:(x.push(y),N(d,c))}}else if("leave"==a&&r["ng-leave"])v=!0;else{for(var z in r)x.push(r[z]);q={},N(d,!0)}x.length>0&&g(x,function(a){a.cancel()})}if(!n.isClassBased||n.isSetClassOperation||"animate"==a||v||(v="addClass"==a==d.hasClass(c)),v)return G(),D(),E(),F(),l;r=q.active||{},s=q.totalActive||0,"leave"==a&&d.one("$destroy",function(a){var c=b.element(this),d=c.data(m);if(d){var e=d.active["ng-leave"];e&&(e.cancel(),N(c,"ng-leave"))}}),u.addClass(d,o),j&&j.tempClasses&&g(j.tempClasses,function(a){u.addClass(d,a)});var A=C++;return s++,r[c]=n,d.data(m,{last:n,active:r,index:A,totalActive:s}),D(),n.before(function(b){var e=d.data(m);b=b||!e||!e.active[c]||n.isClassBased&&e.active[c].event!=a,G(),b===!0?H():(E(),n.after(H))}),n.cancel;function B(b){var e="$animate:"+b;p&&p[e]&&p[e].length>0&&w(function(){d.triggerHandler(e,{event:a,className:c})})}function D(){B("before")}function E(){B("after")}function F(){B("close"),k()}function G(){G.hasBeenRun||(G.hasBeenRun=!0,i())}function H(){if(!H.hasBeenRun){n&&n.applyStyles(),H.hasBeenRun=!0,j&&j.tempClasses&&g(j.tempClasses,function(a){u.removeClass(d,a)});var b=d.data(m);b&&(n&&n.isClassBased?N(d,c):(w(function(){var b=d.data(m)||{};A==b.index&&N(d,c,a)}),d.data(m,b))),F()}}}function M(a){var c=q(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(o):c.querySelectorAll("."+o);g(d,function(a){a=b.element(a);var c=a.data(m);c&&c.active&&g(c.active,function(a){a.cancel()})})}}function N(a,b){if(t(a,v))p.disabled||(p.running=!1,p.structural=!1);else if(b){var c=a.data(m)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(u.removeClass(a,o),a.removeData(m))}}function O(a,c){if(p.disabled)return!0;if(t(a,v))return p.running;var d,e,f;do{if(0===c.length)break;var g=t(c,v),h=g?p:c.data(m)||{};if(h.disabled)return!0;if(g&&(f=!0),d!==!1){var i=c.data(n);b.isDefined(i)&&(d=i)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,h,k){var m,n,o,p,r="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(r="-webkit-",m="WebkitTransition",n="webkitTransitionEnd transitionend"):(m="transition",n="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(r="-webkit-",o="WebkitAnimation",p="webkitAnimationEnd animationend"):(o="animation",p="animationend");var s,t="Duration",v="Property",w="Delay",x="IterationCount",y="PlayState",z="$$ngAnimateKey",A="$$ngAnimateCSS3Data",B=3,C=1.5,D=1e3,E={},F=0,G=[];function H(){s||(s=k(function(){G=[],s=null,E={}}))}function I(a,b){s&&s(),G.push(b),s=k(function(){g(G,function(a){a()}),G=[],s=null,E={}})}var J=null,K=0,L=[];function M(a,c){var d=q(a);a=b.element(d),L.push(a);var e=Date.now()+c;K>=e||(h.cancel(J),K=e,J=h(function(){N(L),L=[]},c,!1))}function N(a){g(a,function(a){var b=a.data(A);b&&g(b.closeAnimationFns,function(a){a()})})}function O(a,b){var c=b?E[b]:null;if(!c){var e=0,f=0,h=0,i=0;g(a,function(a){if(a.nodeType==l){var b=d.getComputedStyle(a)||{},c=b[m+t];e=Math.max(P(c),e);var g=b[m+w];f=Math.max(P(g),f);b[o+w];i=Math.max(P(b[o+w]),i);var j=P(b[o+t]);j>0&&(j*=parseInt(b[o+x],10)||1),h=Math.max(j,h)}}),c={total:0,transitionDelay:f,transitionDuration:e,animationDelay:i,animationDuration:h},b&&(E[b]=c)}return c}function P(a){var b=0,c=j(a)?a.split(/\s*,\s*/):[];return g(c,function(a){b=Math.max(parseFloat(a)||0,b)}),b}function Q(a){var b=a.parent(),c=b.data(z);return c||(b.data(z,++F),c=F),c+"-"+q(a).getAttribute("class")}function R(a,b,c,d){var e=["ng-enter","ng-leave","ng-move"].indexOf(c)>=0,f=Q(b),g=f+" "+c,h=E[g]?++E[g].total:0,i={};if(h>0){var j=c+"-stagger",k=f+" "+j,l=!E[k];l&&u.addClass(b,j),i=O(b,k),l&&u.removeClass(b,j)}u.addClass(b,c);var m=b.data(A)||{},n=O(b,g),o=n.transitionDuration,p=n.animationDuration;if(e&&0===o&&0===p)return u.removeClass(b,c),!1;var r=d||e&&o>0,s=p>0&&i.animationDelay>0&&0===i.animationDuration,t=m.closeAnimationFns||[];b.data(A,{stagger:i,cacheKey:g,running:m.running||0,itemIndex:h,blockTransition:r,closeAnimationFns:t});var v=q(b);return r&&(T(v,!0),d&&b.css(d)),s&&U(v,!0),!0}function S(a,b,c,d,e){var f=q(b),i=b.data(A);if(-1==f.getAttribute("class").indexOf(c)||!i)return void d();var j="",k="";g(c.split(" "),function(a,b){var c=(b>0?" ":"")+a;j+=c+"-active",k+=c+"-pending"});var l="",m=[],o=i.itemIndex,s=i.stagger,t=0;if(o>0){var v=0;s.transitionDelay>0&&0===s.transitionDuration&&(v=s.transitionDelay*o);var w=0;s.animationDelay>0&&0===s.animationDuration&&(w=s.animationDelay*o,m.push(r+"animation-play-state")),t=Math.round(100*Math.max(v,w))/100}t||(u.addClass(b,j),i.blockTransition&&T(f,!1));var x=i.cacheKey+" "+j,y=O(b,x),z=Math.max(y.transitionDuration,y.animationDuration);if(0===z)return u.removeClass(b,j),Y(b,c),void d();!t&&e&&Object.keys(e).length>0&&(y.transitionDuration||(b.css("transition",y.animationDuration+"s linear all"),m.push("transition")),b.css(e));var E=Math.max(y.transitionDelay,y.animationDelay),F=E*D;if(m.length>0){var G=f.getAttribute("style")||"";";"!==G.charAt(G.length-1)&&(G+=";"),f.setAttribute("style",G+" "+l)}var H,I=Date.now(),J=p+" "+n,K=(E+z)*C,L=(t+K)*D;return t>0&&(u.addClass(b,k),H=h(function(){H=null,y.transitionDuration>0&&T(f,!1),y.animationDuration>0&&U(f,!1),u.addClass(b,j),u.removeClass(b,k),e&&(0===y.transitionDuration&&b.css("transition",y.animationDuration+"s linear all"),b.css(e),m.push("transition"))},t*D,!1)),b.on(J,P),i.closeAnimationFns.push(function(){N(),d()}),i.running++,M(b,L),N;function N(){b.off(J,P),u.removeClass(b,j),u.removeClass(b,k),H&&h.cancel(H),Y(b,c);var a=q(b);for(var d in m)a.style.removeProperty(m[d])}function P(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(B));Math.max(c-I,0)>=F&&e>=z&&d()}}function T(a,b){a.style[m+v]=b?"none":""}function U(a,b){a.style[o+y]=b?"paused":""}function V(a,b,c,d){return R(a,b,c,d)?function(a){a&&Y(b,c)}:void 0}function W(a,b,c,d,e){return b.data(A)?S(a,b,c,d,e):(Y(b,c),void d())}function X(a,b,c,d,e){var g=V(a,b,c,e.from);if(!g)return H(),void d();var h=g;return I(b,function(){h=W(a,b,c,d,e.to)}),function(a){(h||f)(a)}}function Y(a,b){u.removeClass(a,b);var c=a.data(A);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(A))}return{animate:function(a,b,c,d,e,f){return f=f||{},f.from=c,f.to=d,X("animate",a,b,e,f)},enter:function(a,b,c){return c=c||{},X("enter",a,"ng-enter",b,c)},leave:function(a,b,c){return c=c||{},X("leave",a,"ng-leave",b,c)},move:function(a,b,c){return c=c||{},X("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,e){e=e||{};var f=Z(c,"-remove")+" "+Z(b,"-add"),g=V("setClass",a,f,e.from);return g?(I(a,d),g):(H(),void d())},beforeAddClass:function(a,b,c,d){d=d||{};var e=V("addClass",a,Z(b,"-add"),d.from);return e?(I(a,c),e):(H(),void c())},beforeRemoveClass:function(a,b,c,d){d=d||{};var e=V("removeClass",a,Z(b,"-remove"),d.from);return e?(I(a,c),e):(H(),void c())},setClass:function(a,b,c,d,e){e=e||{},c=Z(c,"-remove"),b=Z(b,"-add");var f=c+" "+b;return W("setClass",a,f,d,e.to)},addClass:function(a,b,c,d){return d=d||{},W("addClass",a,Z(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){return d=d||{},W("removeClass",a,Z(b,"-remove"),c,d.to)}};function Z(a,b){var c="";return a=i(a)?a:a.split(/\s+/),g(a,function(a,d){a&&a.length>0&&(c+=(d>0?" ":"")+a+b)}),c}}])}])}(window,window.angular),angular.module("angularCharts",["angularChartsTemplates"]),angular.module("angularCharts").directive("acChart",["$templateCache","$compile","$rootElement","$window","$timeout","$sce",function(a,b,c,d,e,f){function g(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b}function h(a,b){var c=null;for(var d in a)if(angular.isElement(a[d])&&(c=angular.element(a[d]),c.hasClass(b)))return c;return c}function i(c,i){function j(){m(),k(),l();var a=n(L);a(),x()}function k(){if(!B.legend.display)return H=D,void(I=C);switch(B.legend.position){case"top":case"bottom":H=.75*D,I=C;break;case"left":case"right":H=D,I=.75*C}}function l(){var d=a.get("angularChartsTemplate_"+B.legend.position);i.html(d),b(i.contents())(c);var e=i.find("div");J=h(e,"ac-chart"),K=h(e,"ac-legend"),H-=h(e,"ac-title")[0].clientHeight}function m(){E=c.acData,L=c.acChart,F=E?E.series||[]:[],G=E?E.data||[]:[],c.acConfig&&angular.extend(B,c.acConfig)}function n(a){var b={pie:s,bar:p,line:q,area:r,point:t};return b[a]}function o(a,b){var c=b.domain();if(B.xAxisMaxTicks&&c.length>B.xAxisMaxTicks){var d=Math.ceil(c.length/B.xAxisMaxTicks);a.tickValues(c.filter(function(a,b){return b%d===0}))}}function p(){var a={top:0,right:20,bottom:30,left:40};I-=a.left+a.right,H-=a.top+a.bottom;var b=d3.scale.ordinal().rangeRoundBands([0,I],.1),d=d3.scale.linear().range([H,10]),e=d3.scale.ordinal().rangeRoundBands([0,I],.1),f=[0];G.forEach(function(a){a.nicedata=a.y.map(function(b,c){return f.push(b),{x:a.x,y:b,s:c,tooltip:angular.isArray(a.tooltip)?a.tooltip[c]:a.tooltip}})});var g=d3.max(G.map(function(a){return a.y.length}));c.yMaxData=g,b.domain(G.map(function(a){return a.x}));var h=.2*d3.max(f);d.domain([d3.min(f),d3.max(f)+h]),e.domain(d3.range(g)).rangeRoundBands([0,b.rangeBand()]);var i=d3.svg.axis().scale(b).orient("bottom");o(i,b);var j=d3.svg.axis().scale(d).orient("left").ticks(10).tickFormat(d3.format("s")),k=d3.select(J[0]).append("svg").attr("width",I+a.left+a.right).attr("height",H+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");k.append("g").attr("class","x axis").attr("transform","translate(0,"+H+")").call(i),k.append("g").attr("class","y axis").call(j);var l=k.selectAll(".state").data(G).enter().append("g").attr("class","g").attr("transform",function(a){return"translate("+b(a.x)+",0)"}),m=l.selectAll("rect").data(function(a){return a.nicedata}).enter().append("rect");m.attr("width",e.rangeBand()),m.attr("x",function(a,b){return e(b)}).attr("y",H).style("fill",function(a){return A(a.s)}).attr("height",0).transition().ease("cubic-in-out").duration(B.isAnimate?1e3:0).attr("y",function(a){return d(Math.max(0,a.y))}).attr("height",function(a){return Math.abs(d(a.y)-d(0))}),m.on("mouseover",function(a){u({index:a.x,value:a.tooltip?a.tooltip:a.y,series:F[a.s]},d3.event),B.mouseover(a,d3.event),c.$apply()}).on("mouseleave",function(a){v(),B.mouseout(a,d3.event),c.$apply()}).on("mousemove",function(a){w(a,d3.event)}).on("click",function(a){B.click.call(a,d3.event),c.$apply()}),B.labels&&l.selectAll("not-a-class").data(function(a){return a.nicedata}).enter().append("text").attr("x",function(a,b){return e(b)}).attr("y",function(a){return H-Math.abs(d(a.y)-d(0))}).text(function(a){return a.y}),k.append("line").attr("x1",I).attr("y1",d(0)).attr("y2",d(0)).style("stroke","silver")}function q(){function a(a){return Math.round(d(a))+d.rangeBand()/2}var b={top:0,right:40,bottom:20,left:40};I-=b.left+b.right,H-=b.top+b.bottom;var d=d3.scale.ordinal().domain(G.map(function(a){return a.x})).rangeRoundBands([0,I]),e=d3.scale.linear().range([H,10]),f=d3.svg.axis().scale(d).orient("bottom");o(f,d);var g=d3.svg.axis().scale(e).orient("left").ticks(5).tickFormat(d3.format("s")),h=d3.svg.line().interpolate(B.lineCurveType).x(function(b){return a(b.x)}).y(function(a){return e(a.y)}),i=[0],j=[];G.forEach(function(a){a.y.map(function(a){i.push(a)})});var k=d3.max(G.map(function(a){return a.y.length}));c.yMaxData=k,F.slice(0,k).forEach(function(a,b){var c={};c.series=a,c.values=G.map(function(a){return a.y.map(function(b){return{x:a.x,y:b,tooltip:a.tooltip}})[b]||{x:G[b].x,y:0}}),j.push(c)});var l=d3.select(J[0]).append("svg").attr("width",I+b.left+b.right).attr("height",H+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),m=.2*d3.max(i);e.domain([d3.min(i),d3.max(i)+m]),l.append("g").attr("class","x axis").attr("transform","translate(0,"+H+")").call(f),l.append("g").attr("class","y axis").call(g);var n=l.selectAll(".points").data(j).enter().append("g"),p=n.attr("points","points").append("path").attr("class","ac-line").style("stroke",function(a,b){return A(b)}).attr("d",function(a){return h(a.values)}).attr("stroke-width","2").attr("fill","none");if(j.length>0){var q=j[j.length-1].values;if(q.length>0){var r=p.node().getTotalLength()+a(q[q.length-1].x);p.attr("stroke-dasharray",r+" "+r).attr("stroke-dashoffset",r).transition().duration(B.isAnimate?1500:0).ease("linear").attr("stroke-dashoffset",0).attr("d",function(a){return h(a.values)})}}return angular.forEach(j,function(b){var d=l.selectAll(".circle").data(b.values).enter();d.append("circle").attr("cx",function(b){return a(b.x)}).attr("cy",function(a){return e(a.y)}).attr("r",3).style("fill",A(j.indexOf(b))).style("stroke",A(j.indexOf(b))).on("mouseover",function(a){return function(b){u({index:b.x,value:b.tooltip?b.tooltip:b.y,series:a},d3.event),B.mouseover(b,d3.event),c.$apply()}}(b.series)).on("mouseleave",function(a){v(),B.mouseout(a,d3.event),c.$apply()}).on("mousemove",function(){w(d3.event)}).on("click",function(a){B.click(a,d3.event),c.$apply()}),B.labels&&d.append("text").attr("x",function(b){return a(b.x)}).attr("y",function(a){return e(a.y)}).text(function(a){return a.y})}),"lineEnd"===B.lineLegend&&n.append("text").datum(function(a){return{name:a.series,value:a.values[a.values.length-1]}}).attr("transform",function(b){return"translate("+a(b.value.x)+","+e(b.value.y)+")"}).attr("x",3).text(function(a){return a.name}),j}function r(){function a(a){return Math.round(d(a))+d.rangeBand()/2}var b={top:0,right:40,bottom:20,left:40};I-=b.left+b.right,H-=b.top+b.bottom;var d=d3.scale.ordinal().domain(G.map(function(a){return a.x})).rangePoints([0,I]),e=d3.scale.linear().range([H,10]),f=d3.svg.axis().scale(d).orient("bottom");o(f,d);var g=d3.svg.axis().scale(e).orient("left").ticks(5).tickFormat(d3.format("s"));d3.svg.line().interpolate(B.lineCurveType).x(function(b){return a(b.x)}).y(function(a){return e(a.y)});var h=[0],i=[];G.forEach(function(a){a.y.map(function(a){h.push(a)})});var j=d3.max(G.map(function(a){return a.y.length}));c.yMaxData=j,F.slice(0,j).forEach(function(a,b){var c={};c.series=a,c.values=G.map(function(a){return a.y.map(function(b){return{x:a.x,y:b}})[b]||{x:G[b].x,y:0}}),i.push(c)});var k=d3.select(J[0]).append("svg").attr("width",I+b.left+b.right).attr("height",H+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),l=.2*d3.max(h);e.domain([d3.min(h),d3.max(h)+l]),k.append("g").attr("class","x axis").attr("transform","translate(0,"+H+")").call(f),k.append("g").attr("class","y axis").call(g);var m=k.selectAll(".points").data(i).enter().append("g"),n=d3.svg.area().interpolate("basis").x(function(b){return a(b.x)}).y0(function(){return e(0)}).y1(function(a){return e(0+a.y)});m.append("path").attr("class","area").attr("d",function(a){return n(a.values)}).style("fill",function(a,b){return A(b)}).style("opacity","0.7")}function s(){function a(a){a.innerRadius=0;var b=d3.interpolate({startAngle:0,endAngle:0},a);return function(a){return g(b(a))}}var b=Math.min(I,H)/2,d=d3.select(J[0]).append("svg").attr("width",I).attr("height",H).append("g").attr("transform","translate("+I/2+","+H/2+")"),e=0;if(B.innerRadius){var f=B.innerRadius;f="string"==typeof f&&f.indexOf("%")>0?.01*b*parseFloat(f):Number(f),f>=0&&(e=f)}c.yMaxData=G.length;var g=d3.svg.arc().outerRadius(b-10).innerRadius(e);d3.svg.arc().outerRadius(b+5).innerRadius(0);var h=d3.layout.pie().sort(null).value(function(a){return a.y[0]}),i=d.selectAll(".arc").data(h(G)).enter().append("g"),j=!1;i.append("path").style("fill",function(a,b){return A(b)}).transition().ease("linear").duration(B.isAnimate?500:0).attrTween("d",a).attr("class","arc").each("end",function(){j||(j=!0,i.on("mouseover",function(a){u({value:a.data.tooltip?a.data.tooltip:a.data.y[0]},d3.event),d3.select(this).select("path").transition().duration(200).style("stroke","white").style("stroke-width","2px"),B.mouseover(a,d3.event),c.$apply()}).on("mouseleave",function(a){d3.select(this).select("path").transition().duration(200).style("stroke","").style("stroke-width",""),v(),B.mouseout(a,d3.event),c.$apply()}).on("mousemove",function(a){w(a,d3.event)}).on("click",function(a){B.click(a,d3.event),c.$apply()}))}),B.labels&&i.append("text").attr("transform",function(a){return"translate("+g.centroid(a)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(a){return a.data.y[0]})}function t(){function a(a){return Math.round(d(a))+d.rangeBand()/2}var b={top:0,right:40,bottom:20,left:40};I-=b.left-b.right,H-=b.top-b.bottom;var d=d3.scale.ordinal().domain(G.map(function(a){return a.x})).rangeRoundBands([0,I]),e=d3.scale.linear().range([H,10]),f=d3.svg.axis().scale(d).orient("bottom");o(f,d);var g=d3.svg.axis().scale(e).orient("left").ticks(5).tickFormat(d3.format("s")),h=[0],i=[];
G.forEach(function(a){a.y.map(function(a){h.push(a)})});var j=d3.max(G.map(function(a){return a.y.length}));c.yMaxPoints=j,F.slice(0,j).forEach(function(a,b){var c={};c.series=a,c.values=G.map(function(a){return a.y.map(function(b){return{x:a.x,y:b}})[b]||{x:G[b].x,y:0}}),i.push(c)});var k=d3.select(J[0]).append("svg").attr("width",I+b.left+b.right).attr("height",H+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),l=.2*d3.max(h);e.domain([d3.min(h),d3.max(h)+l]),k.append("g").attr("class","x axis").attr("transform","translate(0,"+H+")").call(f),k.append("g").attr("class","y axis").call(g),k.selectAll(".points").data(i).enter().append("g"),angular.forEach(i,function(b){var d=k.selectAll(".circle").data(b.values).enter();d.append("circle").attr("cx",function(b){return a(b.x)}).attr("cy",function(a){return e(a.y)}).attr("r",3).style("fill",A(i.indexOf(b))).style("stroke",A(i.indexOf(b))).on("mouseover",function(a){return function(b){u({index:b.x,value:b.tooltip?b.tooltip:b.y,series:a},d3.event),B.mouseover(b,d3.event),c.$apply()}}(b.series)).on("mouseleave",function(a){v(),B.mouseout(a,d3.event),c.$apply()}).on("mousemove",function(){w(d3.event)}).on("click",function(a){B.click(a,d3.event),c.$apply()}),B.labels&&d.append("text").attr("x",function(b){return a(b.x)}).attr("y",function(a){return e(a.y)}).text(function(a){return a.y})})}function u(a,b){if(B.tooltips){a="function"==typeof B.tooltips?B.tooltips(a):a.value;var d=angular.element('<p class="ac-tooltip"></p>').html(a).css({left:b.pageX+20+"px",top:b.pageY-30+"px"});angular.element(document.querySelector(".ac-tooltip")).remove(),angular.element(document.body).append(d),c.$tooltip=d}}function v(){c.$tooltip&&c.$tooltip.remove()}function w(a){c.$tooltip&&c.$tooltip.css({left:a.pageX+20+"px",top:a.pageY-30+"px"})}function x(){c.legends=[],"pie"===L&&angular.forEach(G,function(a,b){c.legends.push({color:B.colors[b],title:z(a.x)})}),("bar"===L||"area"===L||"point"===L||"line"===L&&"traditional"===B.lineLegend)&&angular.forEach(F,function(a,b){c.legends.push({color:B.colors[b],title:z(a)})})}function y(a){return String(a).replace(/[&<>"'\/]/g,function(a){return M[a]})}function z(a){return f.trustAsHtml(B.legend.htmlEnabled?a:y(a))}function A(a){if(a<B.colors.length)return B.colors[a];var b=g();return B.colors.push(b),b}var B={title:"",tooltips:!0,labels:!1,mouseover:function(){},mouseout:function(){},click:function(){},legend:{display:!0,position:"left",htmlEnabled:!1},colors:[],innerRadius:0,lineLegend:"lineEnd",lineCurveType:"cardinal",isAnimate:!0},C=i[0].clientWidth,D=i[0].clientHeight;if(0===D||0===C)throw new Error("Please set height and width for the chart element");var E,F,G,H,I,J,K,L,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},N=angular.element(d),O=null;N.bind("resize",function(){O&&e.cancel(O),O=e(function(){C=i[0].clientWidth,D=i[0].clientHeight,j()},100)}),c.getWindowDimensions=function(){return{h:N[0].clientHeight,w:N[0].clientWidth}},c.$watch("[acChart, acData, acConfig]",j,!0),c.$watch(function(){return{w:i[0].clientWidth,h:i[0].clientHeight}},function(a){C=a.w,D=a.h,j()},!0)}return{restrict:"EA",link:i,transclude:"true",scope:{acChart:"=",acData:"=",acConfig:"="}}}]),function(){var a=".angular-charts-template .axis path,.angular-charts-template .axis line{fill:none;stroke:#333}.angular-charts-template .ac-title{font-weight:700;font-size:1.2em}.angular-charts-template .ac-chart{float:left;width:75%}.angular-charts-template .ac-line{fill:none;stroke-width:2px}.angular-charts-template table{float:left;max-width:25%;list-style:none;margin:0;padding:0}.angular-charts-template td[ng-bind]{display:inline-block}.angular-charts-template .ac-legend-box{border-radius:5px;height:15px;width:15px}.ac-tooltip{display:block;position:absolute;border:2px solid rgba(51,51,51,.9);background-color:rgba(22,22,22,.7);border-radius:5px;padding:5px;color:#fff}",b=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.disabled||(b.styleSheet.cssText=a);else try{b.innerHTML=a}catch(c){b.innerText=a}}(),angular.module("angularChartsTemplates",["angularChartsTemplate_left","angularChartsTemplate_right"]),angular.module("angularChartsTemplate_left",[]).run(["$templateCache",function(a){a.put("angularChartsTemplate_left",'<div class="angular-charts-template"><div class="ac-title">{{acConfig.title}}</div><div class="ac-legend" ng-show="{{acConfig.legend.display}}"><table><tr ng-repeat="l in legends"><td><div class="ac-legend-box" ng-attr-style="background:{{l.color}};"></div></td><td ng-bind-html="l.title"></td></tr></table></div><div class="ac-chart"></div></div>')}]),angular.module("angularChartsTemplate_right",[]).run(["$templateCache",function(a){a.put("angularChartsTemplate_right",'<div class="angular-charts-template"><div class="ac-title">{{acConfig.title}}</div><div class="ac-chart"></div><div class="ac-legend" ng-show="{{acConfig.legend.display}}"><table><tr ng-repeat="l in legends | limitTo:yMaxData"><td><div class="ac-legend-box" ng-attr-style="background:{{l.color}};"></div></td><td ng-bind-html="l.title"></td></tr></table></div></div>')}]),function(a,b,c){function d(a){var c=[];return i(c,b.noop).chars(a),c.join("")}function e(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),w[d])for(;s.last()&&x[s.last()];)e("",s.last());v[d]&&s.last()==d&&e("",d),(h=u[d]||!!h)||s.push(d);var i={};f.replace(m,function(a,b,c,d,e){i[b]=g(c||d||e||"")}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=s.length-1;f>=0&&s[f]!=d;f--);if(f>=0){for(e=s.length-1;e>=f;e--)c.end&&c.end(s[e]);s.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,h,i,s=[],t=a;for(s.last=function(){return s[s.length-1]};a;){if(i="",h=!0,s.last()&&y[s.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",s.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(f=a.match(q))&&(a=a.replace(f[0],""),h=!1):o.test(a)?(f=a.match(l))&&(a=a.substring(f[0].length),f[0].replace(l,e),h=!1):n.test(a)&&((f=a.match(k))?(f[4]&&(a=a.substring(f[0].length),f[0].replace(k,d)),h=!1):(i+="<",a=a.substring(1))),h&&(f=a.indexOf("<"),i+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(g(i)))),a==t)throw j("badparse",a);t=a}e()}function g(a){if(!a)return"";var b=D.exec(a);a=b[1];var c=b[3];return(b=b[2])&&(C.innerHTML=b.replace(/</g,"&lt;"),b="textContent"in C?C.textContent:C.innerText),a+b+c}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){var b=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(b-55296)+(a-56320)+65536)+";"}).replace(t,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&y[a]&&(d=a),d||!0!==z[a]||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;!0!==B[g]||!0===A[g]&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||!0!==z[a]||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,l=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\//,p=/\x3c!--(.*?)--\x3e/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]\x3e/g,s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/([^\#-~| |!])/g,u=e("area,br,col,hr,img,wbr");a=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=e("rp,rt");var v=b.extend({},c,a),w=b.extend({},a,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=b.extend({},c,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));a=e("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var y=e("script,style"),z=b.extend({},u,w,x,v,a),A=e("background,cite,href,longdesc,src,usemap,xlink:href");a=e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),c=e("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var B=b.extend({},A,c,a),C=document.createElement("pre"),D=/^(\s*)([\s\S]*?)(\s*)$/;b.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),!function(a,b){function c(a){return/^-?\d+\.?\d*$/.test(a.replace(/["']/g,""))}var d=b.isDefined,e=b.isUndefined,f=b.isNumber,g=b.isObject,h=b.isArray,i=b.extend,j=b.toJson,k=b.fromJson,l=b.module("LocalStorageModule",[]);l.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse",function(a,b,l,m){var n,o=this,p=o.prefix,q=o.cookie,r=o.notify,s=o.storageType;l?l[0]&&(l=l[0]):l=document,"."!==p.substr(-1)&&(p=p?p+".":"");var t=function(a){return p+a},u=function(){try{var c=s in b&&null!==b[s],d=t("__"+Math.round(1e7*Math.random()));return c&&(n=b[s],n.setItem(d,""),n.removeItem(d)),c}catch(e){return s="cookie",a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),v=function(b,c){if(e(c)?c=null:(g(c)||h(c)||f(+c||c))&&(c=j(c)),!u||"cookie"===o.storageType)return u||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),B(b,c);try{n&&n.setItem(t(b),c),r.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:o.storageType})}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),B(b,c)}return!0},w=function(b){if(!u||"cookie"===o.storageType)return u||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C(b);var d=n?n.getItem(t(b)):null;return d&&"null"!==d?"{"===d.charAt(0)||"["===d.charAt(0)||c(d)?k(d):d:null},x=function(b){if(!u||"cookie"===o.storageType)return u||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:"cookie"}),D(b);try{n.removeItem(t(b)),r.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:o.storageType})}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),D(b)}return!0},y=function(){if(!u)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=p.length,c=[];for(var d in n)if(d.substr(0,b)===p)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},z=function(b){var c=p?new RegExp("^"+p):new RegExp,d=b?new RegExp(b):new RegExp;if(!u||"cookie"===o.storageType)return u||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E();var e=p.length;for(var f in n)if(c.test(f)&&d.test(f.substr(e)))try{x(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),E()}return!0},A=function(){try{return b.navigator.cookieEnabled||"cookie"in l&&(l.cookie.length>0||(l.cookie="test").indexOf.call(l.cookie,"test")>-1)}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),!1}}(),B=function(b,c,d){if(e(c))return!1;if((h(c)||g(c))&&(c=j(c)),!A)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var i="",k=new Date,m="";if(null===c?(k.setTime(k.getTime()+-864e5),i="; expires="+k.toGMTString(),c=""):f(d)&&0!==d?(k.setTime(k.getTime()+24*d*60*60*1e3),i="; expires="+k.toGMTString()):0!==q.expiry&&(k.setTime(k.getTime()+24*q.expiry*60*60*1e3),i="; expires="+k.toGMTString()),b){var n="; path="+q.path;q.domain&&(m="; domain="+q.domain),l.cookie=t(b)+"="+encodeURIComponent(c)+i+n+m}}catch(o){return a.$broadcast("LocalStorageModule.notification.error",o.message),!1}return!0},C=function(b){if(!A)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=l.cookie&&l.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t(b)+"=")){var f=decodeURIComponent(e.substring(p.length+b.length+1,e.length));try{var g=JSON.parse(f);return k(g)}catch(h){return f}}}return null},D=function(a){B(a,null)},E=function(){for(var a=null,b=p.length,c=l.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));D(e)}},F=function(){return s},G=function(a,b,c,e){e=e||b;var f=w(e);return null===f&&d(c)?f=c:g(f)&&g(c)&&(f=i(c,f)),m(b).assign(a,f),a.$watch(b,function(a){v(e,a)},g(a[b]))},H=function(){for(var a=0,c=b[s],d=0;d<c.length;d++)0===c.key(d).indexOf(p)&&a++;return a};return{isSupported:u,getStorageType:F,set:v,add:v,get:w,keys:y,remove:x,clearAll:z,bind:G,deriveKey:t,length:H,cookie:{isSupported:A,set:B,add:B,get:C,remove:D,clearAll:E}}}]})}(window,window.angular);"use strict";angular.module("ngLocale",[],["$provide",function(a){var b={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function c(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function d(a,b){var d=b;void 0===d&&(d=Math.min(c(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(a,c){var e=0|a,f=d(a,c);return 1==e&&0==f.v?b.ONE:b.OTHER}})}]),function(){window.jasmine=jasmineRequire.core(jasmineRequire),jasmineRequire.html(jasmine);var a=jasmine.getEnv(),b={describe:function(b,c){return a.describe(b,c)},xdescribe:function(b,c){return a.xdescribe(b,c)},it:function(b,c){return a.it(b,c)},xit:function(b,c){return a.xit(b,c)},beforeEach:function(b){return a.beforeEach(b)},afterEach:function(b){return a.afterEach(b)},expect:function(b){return a.expect(b)},pending:function(){return a.pending()},spyOn:function(b,c){return a.spyOn(b,c)},jsApiReporter:new jasmine.JsApiReporter({timer:new jasmine.Timer})};"undefined"==typeof window&&"object"==typeof exports?h(exports,b):h(window,b),jasmine.addCustomEqualityTester=function(b){a.addCustomEqualityTester(b)},jasmine.addMatchers=function(b){return a.addMatchers(b)},jasmine.clock=function(){return a.clock};var c=new jasmine.QueryString({getWindowLocation:function(){return window.location}}),d=c.getParam("catch");a.catchExceptions("undefined"==typeof d?!0:d);var e=new jasmine.HtmlReporter({env:a,onRaiseExceptionsClick:function(){c.setParam("catch",!a.catchingExceptions())},getContainer:function(){var a=jQuery(".jasmineReport");return a.get(0)},createElement:function(){return document.createElement.apply(document,arguments)},createTextNode:function(){return document.createTextNode.apply(document,arguments)},timer:new jasmine.Timer});a.addReporter(b.jsApiReporter),a.addReporter(e);var f=new jasmine.HtmlSpecFilter({filterString:function(){return c.getParam("spec")}});a.specFilter=function(a){return f.matches(a.getFullName())},window.setTimeout=window.setTimeout,window.setInterval=window.setInterval,window.clearTimeout=window.clearTimeout,window.clearInterval=window.clearInterval;var g=window.onload;window.executeJasmine=function(){jQuery(".jasmineReport").empty(),g&&g(),e.initialize(),a.execute()};function h(a,b){for(var c in b)a[c]=b[c];return a}}(),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective);function uiCodemirrorDirective(a,b){return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");return c}};function c(a,c,h,i){var j=angular.extend({value:c.text()},b.codemirror||{},a.$eval(h.uiCodemirror),a.$eval(h.uiCodemirrorOpts)),k=d(c,j);e(k,h.uiCodemirror||h.uiCodemirrorOpts,a),f(k,i,a),g(k,h.uiRefresh,a),a.$on("CodeMirror",function(a,b){if(!angular.isFunction(b))throw new Error("the CodeMirror event requires a callback function");b(k)}),angular.isFunction(j.onLoad)&&j.onLoad(k)}function d(a,b){var c;return"TEXTAREA"===a[0].tagName?c=window.CodeMirror.fromTextArea(a[0],b):(a.html(""),c=new window.CodeMirror(function(b){a.append(b)},b)),c}function e(a,b,c){if(b){var d=Object.keys(window.CodeMirror.defaults);c.$watch(b,e,!0);function e(b,c){angular.isObject(b)&&d.forEach(function(d){if(b.hasOwnProperty(d)){if(c&&b[d]===c[d])return;a.setOption(d,b[d])}})}}}function f(a,b,c){b&&(b.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),b.$render=function(){var c=b.$viewValue||"";a.setValue(c)},a.on("change",function(a){var d=a.getValue();d!==b.$viewValue&&c.$evalAsync(function(){b.$setViewValue(d)})}))}function g(b,c,d){c&&d.$watch(c,function(c,d){c!==d&&a(function(){b.refresh()})})}}uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"];var kostha=angular.module("kostha",["ngSanitize","ui.codemirror","angularCharts","ngAnimate","LocalStorageModule"]),autoPresentationMode=!1;kostha.factory("codeService",["$http","slidesService","$q","dataService","visionsService","eventsService","$sce",function($http,slidesService,$q,dataService,visionsService,eventsService,$sce){var serviceUrl="../../services/compile",allCodes={},promises={},lastCode={},serverCompileHandler=function(a,b,c){$http.post(serviceUrl+"/"+visionsService.getVisiName()+"/"+a.name,b).success(function(b){c.resolve(b),a.compiling=!1}).error(function(b){c.resolve({output:"",error:b.toString()}),a.compiling=!1})};function executeJSCode(jsCode){var oldLog=console.log,loggedJs="",error="";console.log=function(a){loggedJs=loggedJs+a+"\n"};try{eval(jsCode),(new ScalaJSExample).main()}catch(e){console.log(e),error=e.toString()}return console.log=oldLog,{output:loggedJs,error:error}}var serverJSCompileHandler=function(a,b,c){$http.post(serviceUrl+"/"+visionsService.getVisiName()+"/"+a.name,b).success(function(b){var d=b.output;b.error;b.error?c.resolve(b):c.resolve(executeJSCode(d)),a.compiling=!1}).error(function(b){c.resolve({output:"",error:b.toString()}),a.compiling=!1})},localCompileHandler=function(code,command,deferred){var oldLog=console.log,loggedJs="",error="";console.log=function(a){loggedJs=loggedJs+a+"\n"};for(var ind in command.code){var editorCode=command.code[ind],file=code.files[ind];try{if("js"===file.suffix)eval(editorCode);else if("ng"===file.suffix){code.hasNg=!0;var urlHandler=window.URL||window.webkitURL,codeBlob=new Blob([editorCode],{type:"text/html"});code.codeUrl=$sce.trustAsResourceUrl(urlHandler.createObjectURL(codeBlob))}}catch(e){code.hideErrors||(console.log(e),error=e.toString())}}console.log=oldLog,code.compiling=!1,deferred.resolve({output:loggedJs,error:error})},compileHandlers={pom:serverCompileHandler,java:serverCompileHandler,scala:serverCompileHandler,scalajs:serverJSCompileHandler,js:localCompileHandler};function handleCompile(a,b,c){return compileHandlers[a.compilationType](a,b,c)}function compileCurrent(a,b,c){var d=a.files.map(function(a){return a.currentCode});lastCode=a,a.compiling=!0;var e={code:d,mode:(b?"clean":"normal")+(c?"test":"")},f=$q.defer();return handleCompile(a,e,f),f.promise}function getCode(a){var b=$q.defer();return promises[a]?promises[a].then(function(a){b.resolve(a)}):(promises[a]=b.promise,$http.get(serviceUrl+"/"+visionsService.getVisiName()+"/"+a).success(function(c){c.name=a,c.compiling=!1,c.result={};for(var d in c.files){var e=c.files[d];e.currentCode=e.defaultCode,autoPresentationMode&&e.targetCode&&e.targetCode.length>2&&(e.currentCode=e.targetCode)}allCodes[a]=c,b.resolve(c)})),b.promise}function deleteResults(){Object.keys(allCodes).forEach(function(a){allCodes[a].result={output:"",error:""},allCodes[a].compiled=!1})}return eventsService.addObserver(function(a){a.forEach(function(a){console.log("got:"+a.msg),lastCode.statusLine=a.msg})}),{compile:compileCurrent,getCode:getCode,deleteResults:deleteResults}}]),kostha.factory("dataService",["$http","slidesService","$sce","$q","visionsService",function(a,b,c,d,e){var f=e.getVisiName(),g=void 0;function h(a){for(var b=-2;2>=b;b++)for(var c=-2;2>=c;c++){var d={name:"floor",x:b,y:c,position:"down"};a.walls.push(d)}}function i(a){for(var b=[],c=-2;2>=c;c++)b.push({position:"north",x:c,y:-2});for(var c=-2;2>=c;c++)b.push({position:"south",x:c,y:2});for(var d=-2;2>=d;d++)b.push({position:"west",x:-2,y:d});for(var d=-2;2>=d;d++)b.push({position:"east",x:2,y:d});var e=b.filter(function(b){return a.every(function(a){return a.position===b.position&&a.x===b.x&&a.y===b.y?!1:!0})});a.forEach(function(a){if(!a.position&&e.length>0){var b=j(0,e.length-1),c=e[b];e.splice(b,1),a.position=c.position,a.x=c.x,a.y=c.y}})}function j(a,b){return Math.floor(Math.random()*(b-a+1))+a}function k(a){a.ctl=0;var c=[];i(a.walls);for(var d in a.walls){var e=a.walls[d];e["class"]=l(e),"floor"!==e.name&&(e.step=0,e.maxSteps=0,e.stepCallbacks=[],c.push(e)),e.slideUrl="",function(c){b.getSlideUrl(c.name).then(function(b){c.slideUrl=b,a.ctl++})}(e)}a.presentations=c}function l(a){return"floor"===a.name?"floorWall":"slideWall"}function m(a,b){a.maxSteps++,a.stepCallbacks[a.maxSteps]=b}function n(a,b,c){a.maxSteps=Math.max(a.maxSteps,b),a.stepCallbacks[a.maxSteps]=c}function o(){var b=d.defer();return g||(a.get("../../visionData/"+f+"/rooms.json").success(function(a){h(a[0]),k(a[0]),b.resolve(a)}),g=b.promise),g}function p(){var a=d.defer();return o().then(function(b){a.resolve(b[0])}),a.promise}function q(a){var b=d.defer();return p().then(function(c){var d=c.presentations;for(index in d){var e=d[index];if(e.name===a)return b.resolve(index),b.promise}b.reject("no such wall:"+a)}),b.promise}return{getRoom:p,addStep:m,setStep:n,getWallNmb:q}}]),kostha.factory("eventsService",[function(){var a=(window.MozWebSocket?MozWebSocket:WebSocket,[]);return{addObserver:function(b){a.push(b)}}}]);var nextSlideExternal=function(){var a=angular.element("[data-ng-app]").injector(),b=a.get("fppService"),c=a.get("$rootScope"),d=b.nextSlide();return c.$digest(),d},togglePresentationExternal=function(){var a=angular.element("[data-ng-app]").injector(),b=a.get("fppService"),c=a.get("$rootScope"),d=b.toggleHelp();return c.$digest(),autoPresentationMode=!0,d};kostha.factory("fppService",["$timeout","$location","dataService","localStorageService",function(a,b,c,d){var e=void 0;c.getRoom().then(function(a){e=a});var f="false"!==d.get("helpStatus"),g={fpp:{windowWidth:0,windowHeight:0}};g.fpp.position={posX:0,posY:0,degHor:0,wallMode:!1,slideMode:!1,debug:!1,hiddenPlayfield:!1,help:f},g.fpp.logicalPosition={x:0,y:0,degHor:0,degPos:0,selectedWall:null},g.fpp.scene={wallStyle:"",bodyStyle:"",currentSlide:-1,adjustments:{originx:0,originy:0}};var h={0:"north",270:"east",90:"west",180:"south"},i={north:0,east:270,west:90,south:180};function j(){g.fpp.position.debug=!g.fpp.position.debug}function k(){g.fpp.position.help=!g.fpp.position.help,d.set("helpStatus",g.fpp.position.help.toString())}function l(){var a=500,b=Math.sin(g.fpp.position.degHor*Math.PI/180)*a,c=Math.cos(g.fpp.position.degHor*Math.PI/180)*a;g.fpp.logicalPosition.x=-(g.fpp.position.posX-b-500)/1e3,g.fpp.logicalPosition.y=-(g.fpp.position.posY-c)/1e3,g.fpp.logicalPosition.degHor=(g.fpp.position.degHor%360+360)%360,g.fpp.logicalPosition.selectedWall=m()}function m(){var a=90*Math.floor((g.fpp.logicalPosition.degHor+45)/90);g.fpp.logicalPosition.degPos=a;var b=Math.round(g.fpp.logicalPosition.x-.5).toString(),c=Math.round(g.fpp.logicalPosition.y).toString(),d=h[a.toString()];if(d)for(var f in e.presentations){var i=e.presentations[f];if(i.position===d&&i.x===b&&i.y===c)return i}return null}function n(a){var b=-50;o(b),g.fpp.position.degHor+=a,o(-b)}function o(a){var b=Math.sin(g.fpp.position.degHor*Math.PI/180)*a,c=Math.cos(g.fpp.position.degHor*Math.PI/180)*a;g.fpp.position.posY+=c,g.fpp.position.posX+=b,g.fpp.position.wallMode=!1,g.fpp.position.slideMode=!1,l(),F(),D()}function p(a){g.fpp.position.degHor=g.fpp.logicalPosition.degPos;var b=1050,c=Math.sin(g.fpp.position.degHor*Math.PI/180)*b,d=Math.cos(g.fpp.position.degHor*Math.PI/180)*b;g.fpp.position.posX=-(1e3*g.fpp.logicalPosition.x)+c,g.fpp.position.posY=-(1e3*g.fpp.logicalPosition.y)+d}function q(){g.fpp.logicalPosition.x=g.fpp.logicalPosition.selectedWall.x,g.fpp.logicalPosition.y=g.fpp.logicalPosition.selectedWall.y,g.fpp.logicalPosition.degPos=i[g.fpp.logicalPosition.selectedWall.position],p(1500)}var r=function(){g.fpp.position.degHor;return"transform:  rotateZ("+g.fpp.position.degHor+"deg) ;transform-origin: "+(-g.fpp.position.posX+500)+"px "+(-g.fpp.position.posY+550)+"px 500px;;"},s=function(){return"transform:  translateY("+g.fpp.position.posY+"px) translateX("+g.fpp.position.posX+"px)  translateZ(10px);"};function t(){var a=900,b=g.fpp.windowWidth/g.fpp.windowHeight,c=a/b,d=a/g.fpp.windowWidth,e=c/g.fpp.windowHeight,f=a/d,h=c/e;g.fpp.scene.wallStyle="height:"+c+"px;top:  100px;",g.fpp.scene.scaleStyle="transform: scale("+d+","+e+");width:"+f+"px;height:"+h+"px;"}var u=function(){g.fpp.windowWidth=jQuery(window).width(),g.fpp.windowHeight=jQuery(window).height(),g.fpp.walkPosition=s(),t(),g.fpp.scene.scaleX=g.fpp.windowWidth/1920,g.fpp.scene.scaleY=g.fpp.windowHeight/971,v()};function v(){var a=-132/482,b=520-971*a;g.fpp.scene.adjustments.originY=a*g.fpp.windowHeight+b,g.fpp.scene.bodyStyle="perspective-origin: 500px 500px ;"}function w(){var a=g.fpp.logicalPosition.selectedWall;if(a){if(a.step++,a.step<=a.maxSteps){a.stepCallbacks[a];return!0}a.step=a.maxSteps}return y()}function x(){var a=g.fpp.logicalPosition.selectedWall;if(a){if(a.step--,a.step>=0){a.stepCallbacks[a];return}a.step=0}z()}function y(){return g.fpp.position.slideMode=!0,g.fpp.scene.currentSlide++,A()}function z(){g.fpp.position.slideMode=!0,g.fpp.scene.currentSlide--,A()}function A(){C();var b=e.presentations[g.fpp.scene.currentSlide];return g.fpp.logicalPosition.x=0,g.fpp.logicalPosition.y=0,p(500),F(),b&&a(function(){B(b)},1100),g.fpp.scene.currentSlide<e.presentations.length}function B(c){g.fpp.logicalPosition.selectedWall=c,q(),F(),b.url(c.name),a(function(){E()},400)}function C(){g.fpp.position.wallMode=!1,F(),D()}function D(){a(function(){g.fpp.position.hiddenPlayfield=g.fpp.position.wallMode},200)}function E(){g.fpp.position.wallMode=!g.fpp.position.wallMode,g.fpp.position.wallMode&&g.fpp.logicalPosition.selectedWall?q():g.fpp.position.wallMode=!1,F(),D()}function F(){g.fpp.walkPosition=s(),g.fpp.rotPosition=r(),g.fpp.position.backgroundPos=-(100*g.fpp.position.degHor/360)}function G(a){g.fpp.scene.currentSlide=a;var b=e.presentations[g.fpp.scene.currentSlide];B(b)}function H(){var a=b.path().replace(/^\//g,"");c.getWallNmb(a).then(function(a){G(a)})}return H(),{getData:function(){return g},go:o,rot:n,nextSlide:w,prevSlide:x,onResize:u,recalcPresentationPosition:F,gotoFacingSlide:E,leaveFacingSlide:C,gotoWall:B,toggleDebug:j,toggleHelp:k}}]),kostha.factory("keyboardService",["fppService","codeService",function(a,b){var c=100,d=10;document.addEventListener("keydown",function(a){var b=a.which;return 112===b?(a.preventDefault(),!1):!0});var e={esc:function(){return a.leaveFacingSlide(),!1},goUp:function(){return a.go(c),!1},goDown:function(){return a.go(-c),!1},goLeft:function(){return a.rot(d),!1},goRight:function(){return a.rot(-d),!1},pageDown:function(){return a.nextSlide(),!1},pageUp:function(){return a.prevSlide(),!1},f1:function(){return a.toggleHelp(),!1},f2:function(){return a.gotoFacingSlide(),!1},f3:function(a){return a.shiftKey?angular.element(a.target).closest("section").scope().toggleWizard():angular.element(a.target).closest("section").scope().completeCode(),!1},f4:function(a){var b=angular.element(a.target).closest("section").scope();return b.fullDisplay=!b.fullDisplay,!1},f6:function(b){
return a.toggleDebug(),!1},f7:function(a){return angular.element(a.target).closest("section").scope().formatCode(),!1},f8:function(a){return a.shiftKey&&angular.element(a.target).closest("section").scope().replaceCode(),!1},f9:function(a){var c=angular.element(a.target).closest("section").scope(),d=c.code;return b.compile(d,a.shiftKey,a.ctrlKey).then(function(a){d.result=a,console.log("have code:"+a.toString()),d.result.error.length>0?d.error=!0:d.compiled=!0}),!1},f10:function(a){var b=angular.element(a.target).closest("section").scope();window.kosthaEffect?kosthaEffect(b):console.log("now kosthaEffect defined")}},f={27:e.esc,38:e.goUp,40:e.goDown,37:e.goLeft,39:e.goRight,34:e.pageDown,33:e.pageUp,112:e.f1,113:e.f2,114:e.f3,115:e.f4,117:e.f6,118:e.f7,119:e.f8,120:e.f9,121:e.f10};function g(a){var c=a.keyCode,d=f[c],e=!0;if("TEXTAREA"===a.target.tagName&&112>=c&&27!==c){if(b.deleteResults(),console.log(c),!(c>64&&91>c))return;var g=angular.element(a.target).closest("section");g.hasClass("edit")&&g.scope().isWizardMode()&&(g.scope().completeCode(),e=!1,console.log("wizarded"))}return d&&(e=e&&d(a)),e?!0:(a.preventDefault(),!1)}return{handleKey:g}}]),kostha.factory("slidesService",["$http","$q","visionsService",function(a,b,c){var d="../../visionData/"+c.getVisiName()+"/pages/",e={cachedSlides:{},cachedUrls:{}};function f(a){return a.replace(/\s/g,"_")}function g(c){var h=d+f(c)+".html",i=b.defer();return a.get(h).success(function(a){e.cachedSlides[c]=a,i.resolve(a)}).error(function(){e.cachedSlides["default"]?i.resolve(e.cachedSlides["default"]):g("default").then(function(a){i.resolve(a)})}),i.promise}function h(a){if(e.cachedSlides[a]){var c=b.defer();return c.resolve(e.cachedSlides[a]),c.promise}return g(a)}function i(c){var g=d+f(c)+".html",h=b.defer();return a.get(g).success(function(a){e.cachedUrls[c]=g,h.resolve(g)}).error(function(){e.cachedUrls["default"]?h.resolve(e.cachedUrls["default"]):i("default").then(function(a){h.resolve(a)})}),h.promise}function j(a){if(e.cachedUrls[a]){var c=b.defer();return c.resolve(e.cachedUrls[a]),c.promise}return i(a)}return{getSlide:h,getSlideUrl:j}}]),kostha.factory("visionsService",["$window",function(a){var b=a.location.pathname.replace(/\/vision\/([^\/]*)\/.*$/,"$1");function c(){return b}return{getVisiName:c}}]),kostha.directive("codeLive",function(){return{scope:{codeName:"=code",hideErrors:"=hideErrors",doLinting:"=doLinting"},transclude:!1,restrict:"E",templateUrl:"templates/codeLive.html"}}),kostha.directive("kcounter",["dataService","$parse",function(a,b){function c(c,d,e){var f=b(e.kcounter),g=b("wall || fppData.fpp.logicalPosition.selectedWall"),h=f(c),i=g(c);if(i){for(var j=0;h>j;j++)a.setStep(i,j,function(){});c.$watch(function(){return i.step},function(a,b){d.attr("data-counterstep",a)})}}return{link:c}}]),kostha.directive("lisajous",["$parse",function(a){return{transclude:!1,restrict:"E",template:'<canvas class="full" ></canvas>',link:function(b,c,d){var e=a("diff");b.$watch(function(){return e(b)},function(a,b){var d=angular.element(c).find("canvas");if(d.closest("section").hasClass("onStepSelected")){d.width("100%"),d.height("100%"),console.log("vis"+d.is(":visible"));var e=d.get(0);console.log(e.width+","+e.height);var f=e.getContext("2d"),g=e.width,h=e.height;f.fillStyle="#000000",f.fillRect(0,0,g,h),f.beginPath();var i=Math.PI/2*a,j=3,k=2;function l(a){var b=a+1;return b*g/2}function m(a){var b=a+1;return b*h/2}var n=200,o=2*Math.PI/n,p=0;f.strokeStyle="#ffffff",f.lineWidth=2;for(var q=0;n>q;q++){p+=o;var r=Math.sin(j*p+i),s=Math.cos(k*p);f.lineTo(l(r),m(s))}f.stroke()}})}}}]),kostha.directive("onStep",["dataService","$parse",function(a,b){function c(c,d,e){var f=b(e.onStep),g=b("wall || fppData.fpp.logicalPosition.selectedWall"),h=f(c),i=g(c);i&&(a.setStep(i,h,function(){}),c.$watch(function(){return i.step},function(a,b){a===h?(d.addClass("onStepSelected"),d.removeClass("onStepHide"),d.is("audio")&&d.get(0).play()):(d.removeClass("onStepSelected"),d.addClass("onStepHide")),a>=h?d.addClass("onStepShow"):d.removeClass("onStepShow")}))}return{link:c}}]),kostha.controller("codeController",["$scope","codeService","$interval","$sce",function(a,b,c,d){a.code={files:[],statusLine:""};var e={};a.performLinting=!1,a.hasNg=!1,a.wizard=!1,a.displayedFile=null,a.fullDisplay=!0,a.selectedName="",a.select=function(b){a.selectedName=b.path,a.displayedFile=b},a.isSelected=function(b){return a.selectedName===b.path},a.extractName=function(a){return/([a-zA-Z]*)\.[a-z]/g.exec(a)[1]},a.isSingle=function(){return a.code.files.length<2},a.codemirrorLoaded=function(a,b){b.editor=a,a.focus(),setTimeout(function(){a.refresh()},3e3),a.on("change",function(){})};var f={ng:function(b){return{mode:"text/html",theme:"blackboard",onLoad:function(c){a.codemirrorLoaded(c,b)},showCursorWhenSelecting:!0,lineNumbers:!0,cursorHeight:1}},scala:function(b){return{mode:"text/x-scala",theme:"blackboard",onLoad:function(c){a.codemirrorLoaded(c,b)},showCursorWhenSelecting:!0,lineNumbers:!0,cursorHeight:1}},java:function(b){return{mode:"text/x-java",theme:"blackboard",onLoad:function(c){a.codemirrorLoaded(c,b)},showCursorWhenSelecting:!0,lineNumbers:!0,cursorHeight:1}},js:function(b){return{mode:"text/javascript",theme:"blackboard",onLoad:function(c){a.codemirrorLoaded(c,b)},gutters:a.performLinting?["CodeMirror-lint-markers"]:[],showCursorWhenSelecting:!0,lineNumbers:!0,cursorHeight:1,lint:a.performLinting}}};a.createEditorOptions=function(a,b){var c=b.path,d=a+"_"+b.path;if(!e[d]){var g=/.*\.(\w*)/.exec(c)[1];b.suffix=g,e[d]=f[g](b)}return e[d]},a.editorOptionsJava={mode:"text/x-java",theme:"blackboard",onLoad:a.codemirrorLoaded,showCursorWhenSelecting:!0,lineNumbers:!0,cursorHeight:1},a.init=function(c,d,e){e&&(a.performLinting=!0),a.name=c,b.getCode(c).then(function(b){a.code=b,a.select(b.files[0]),d&&(b.hideErrors=!0)})},a.replaceCode=function(){a.displayedFile.currentCode=a.displayedFile.targetCode},a.getHiddenCode=function(){return a.displayedFile.targetCode},a.putText=function(b){a.displayedFile.editor.replaceSelection(b)},a.formatCode=function(){var b=a.displayedFile.editor.getDoc(),c=b.getValue(),d=js_beautify(c);b.setValue(d)},a.toggleWizard=function(){a.wizard=!a.wizard,console.log("wizard Mode:"+a.wizard)},a.isWizardMode=function(){return a.wizard},a.completeCode=function(){var b=a.completeCodeOpt(!0);if(b){if(" "===b){var c=a.completeCodeOpt(!1);c&&(b=c)}a.putText(b)}};function g(a,b){return b?a.replace(/(\s)+/g," "):a.replace(/[\u000d]+/g,"")}function h(b,c,d){for(var e=b;256>e;e++){var f=a.getTextBeforeCursor(e);if(i(d)){var g=j(c,f);if(1===g.length)return g[0].indexOf(d)<0?g[0]+d:g[0]}}return d}a.completeCodeOpt=function(b){for(var c=(((a.getTextAfterCursor()+" ").trim()+" ")[0],g(a.getHiddenCode(),b)),d=3;256>d;d++){var e=g(a.getTextBeforeCursor(d),b),f=a.allPossibleNextChars(c,e);if(1===f.length)return h(d,c,f[0]);if(0===f.length)return null}return null};function i(a){var b=a.charCodeAt(0);return 13===b||32===b||9===b||10===b}function j(a,b){var c=[];if(null!==b&&0!==b.length){for(var d=a.indexOf(b);d>=0;){for(var e=d+b.length,f="",g=a.substring(e,e+1),h=0;i(g);)f+=g,h++,g=a.substring(e+h,e+h+1);f.length>0&&c.indexOf(f)<0&&c.push(f),d=a.indexOf(b,e+h)}return c}}a.allPossibleNextChars=function(a,b){var c=[];if(null!==b&&0!==b.length){for(var d=a.indexOf(b);d>=0;){var e=d+b.length,f=a.substring(e,e+1);c.indexOf(f)<0&&c.push(f),d=a.indexOf(b,e)}return c}},a.getTextBeforeCursor=function(b){var c=a.displayedFile.editor.getCursor();if(null===c)return null;var d=a.displayedFile.editor.getRange({line:0,ch:0},c),e=d.substring(d.length-b);return e},a.getTextAfterCursor=function(){var b=a.displayedFile.editor.getCursor();if(null===b)return null;var c={line:b.line+1,ch:128},d=a.displayedFile.editor.getRange(b,c);return d}}]),kostha.controller("fppController",["$scope","$timeout","dataService","slidesService","fppService","keyboardService","visionsService",function(a,b,c,d,e,f,g){c.getRoom().then(function(b){a.room=b}),a.fppData=e.getData(),a.windowWidth=1e3,a.windowHeight=1e3,a.pressed=f.handleKey,a.testCode="public class X {}",a.moduleName=g.getVisiName(),a.addSimpleStep=function(a){c.addStep(a,function(){"simple step"})},jQuery(window).resize(function(){a.$apply(e.onResize)}),e.onResize(),e.recalcPresentationPosition()}]),kostha.controller("lisajousController",["$scope","$interval",function(a,b){a.diff=0,b(function(){a.diff+=.03,a.diff>5&&(a.diff=0)},100)}]),kostha.controller("prevaylerController",["$scope","$timeout",function(a,b){a.events=[],a.value=0,a.restored=0,a.addEvent=function(){a.events.push({type:"event",value:2}),a.value+=2},a.snapshot=function(){a.events.push({type:"snapshot",value:a.value})},a.clear=function(){a.value=0},a.restore=function(){for(var c=0;c<a.events.length;c++)a.events[c].performed=!1;for(var c=a.events.length-1;c>=0;c--)if("snapshot"===a.events[c].type)return a.restored=c+1,a.value=a.events[c].value,a.events[c].performed=!0,void b(a.restoreOne,1500);a.restored=0,b(a.restoreOne,1500)},a.restoreOne=function(){a.restored<=a.events.length&&(a.events[a.restored].performed=!0,a.value=a.value+a.events[a.restored].value,a.restored=a.restored+1,b(a.restoreOne,600))}}]),kostha.controller("rampriceController",["$scope","$http","$interval",function(a,b,c){a.listPosition=8,a.maxPosition||(a.maxPosition=8),a.config={title:"k RAM for 1$",tooltips:!0,labels:!1,mouseover:function(){},mouseout:function(){},click:function(){},legend:{display:!0,position:"right"}},a.seriesTable=[{x:"1980",y:[64/405],tooltip:"PC is born"},{x:"1985",y:[512/360],tooltip:""},{x:"1990",y:[8192/905],tooltip:"I have my commodore 64"},{x:"1995",y:[16384/499],tooltip:""},{x:"2000",y:[65536/94.49],tooltip:""},{x:"2005",y:[1048576/189],tooltip:""},{x:"2010",y:[4194304/82.78],tooltip:""},{x:"2014",y:[8388608/69.99],tooltip:""}];function d(){for(var b=a.seriesTable.slice(0,a.listPosition),c=a.listPosition;c<a.maxPosition;c++)b.push({x:1980+5*c,y:[a.seriesTable[a.listPosition].y[0]],tooltip:"this is"});return b}a.data={series:["year"],data:d()}}]);